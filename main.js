function _0x33dd(){const _0x416202=['JLOSTZ','spawn','BOARD','setColor','Rotation:\x20','displayWidth','jetris','setScale','holdText','container','drawDropAnimation','create','lockTetromino','3NiAWIM','activePointer','tweens','setTint','setTetromino','round','length','alpha','getTileAt','rgb(3,\x2023,\x2054)','blue','showRowClearFX','wallKicks','right','left','elapsed','keydown-RIGHT','add','GHOST','stop','1066377tLLpSJ','assets/particles/star.png','assign','PURPLE','Bug:\x20','25oqanRn','text','Wall\x20kick\x20failure','136NYLifk','holdLayer','keydown-Q','stopFullscreen','cos','putTileAt','12pOxEjc','HoldLayer','ghostLayer','createBlankLayer','keyboard','keydown-ENTER','ORANGE','devicePixelRatio','QueueLayer','floor','yellow','WEBGL','393324HPhsgg','level','start','rockLayer','BLUE','edge','BORDER_CORNER_BOTTOM_RIGHT','SWAP','index','keydown-LEFT','HOLD','centerY','image','explode','keydown-E','hold','setTile','Tile\x20occupied','scale','resume','gameScaleY','assets/images/bg.png','Scale','slice','star','streak','assets/Sprites/tetris_n.png','abs','Queue:\x20','assets/particles/trail.png','createQueueMap','GhostLayer','down','Jetris','Created\x20tetromino:\x20','tileToWorldY','pink','min','BORDER_CORNER_TOP_RIGHT','queueMap','Wall\x20kick\x20success','green','Line','scene','queueTiles','keydown-UP','depth','tileToWorldX','setData','enable','assets/ui/fullscreen.png','Geom','28px\x20Exo','37040136OOyVMM','#00DDFF','strokeRectShape','addLight','cells','tilemap','checkFractions','setPipeline','NEXT','tiles','rotateActivePiece','ADD','block','gameOver','BORDER_CORNER_BOTTOM_LEFT','assets/Sprites/tetris.png','setInteractive','spritesheet','load','getTile','particleEmitter','bug:\x20','addTilesetImage','type','ghostPiece','particles','map','getData','stringify','setAmbientColor','tile','log','BORDER_BOTTOM','Move\x20Data!!','holdMap','displayHeight','graphics','BORDER_CORNER_TOP_LEFT','#FF0077','231ZrSdJd','center','activePiece','Scene','keys','FIT','drop','Light2D','deltaY','lights','rotation','addPointer','gameScale','isFullscreen','destroy','Tetromino\x20bag:\x20','isDown','setText','drawQueue','deltaX','parse','preload','fill','ceil','clear','CENTER_BOTH','waterLayer','clearTetromino','removeTileAt','setName','558634rfuGxg','trail','shake','BORDER_LEFT','keydown-ESC','push','updateGhost','GameLayer','assets/particles/blocks.png','isPaused','clearHold','rotationIndex','adjustedBlockSize','getBoundingBox','9657872yQRnPJ','RED','createGameMap','pointerup','max','lineStyle','color','input','createHoldMap','nextText','queue_tiles','createTileMaps','400455cbMgXr','setOrigin','OutCircle','from','queueLayer','GREEN','layer','drawHold','make','main','pop','moveActivePiece','Rectangle','centerX','innerWidth','unshift','fullscreen','pause','Wall\x20kicks\x20being\x20evaluated:\x20','keydown-DOWN','toFixed','Linear','CYAN','purple','497830IgCLMq','setFrame','flares','keydown-P'];_0x33dd=function(){return _0x416202;};return _0x33dd();}function _0x4275(_0x2e6fdf,_0x32fb36){const _0x33dda3=_0x33dd();return _0x4275=function(_0x427576,_0xc999b7){_0x427576=_0x427576-0xc6;let _0x4af184=_0x33dda3[_0x427576];return _0x4af184;},_0x4275(_0x2e6fdf,_0x32fb36);}(function(_0x44ec9d,_0x7a42ed){const _0x1a7d9c=_0x4275,_0x51b9c0=_0x44ec9d();while(!![]){try{const _0x2835b0=-parseInt(_0x1a7d9c(0x166))/0x1*(-parseInt(_0x1a7d9c(0x123))/0x2)+parseInt(_0x1a7d9c(0x17a))/0x3*(parseInt(_0x1a7d9c(0x188))/0x4)+-parseInt(_0x1a7d9c(0x17f))/0x5*(-parseInt(_0x1a7d9c(0x194))/0x6)+parseInt(_0x1a7d9c(0x131))/0x7+-parseInt(_0x1a7d9c(0x182))/0x8*(parseInt(_0x1a7d9c(0x13d))/0x9)+parseInt(_0x1a7d9c(0x155))/0xa*(parseInt(_0x1a7d9c(0x105))/0xb)+-parseInt(_0x1a7d9c(0xde))/0xc;if(_0x2835b0===_0x7a42ed)break;else _0x51b9c0['push'](_0x51b9c0['shift']());}catch(_0xed0594){_0x51b9c0['push'](_0x51b9c0['shift']());}}}(_0x33dd,0xc6c40),((()=>{const _0x29f5e9=_0x4275;var _0xce0155=Tiles={'BLUE':0x0,'CYAN':0x1,'ORANGE':0x2,'YELLOW':0x3,'GREEN':0x4,'RED':0x5,'PURPLE':0x6,'BOARD':0x7,'BORDER_BOTTOM':0x8,'BORDER_LEFT':0x9,'BORDER_TOP':0xa,'BORDER_RIGHT':0xb,'GHOST':0xc,'HELPER':0xd,'EMPTY':0xe,'EMPTY2':0xf,'BORDER_CORNER_BOTTOM_LEFT':0x10,'BORDER_CORNER_TOP_LEFT':0x11,'BORDER_CORNER_TOP_RIGHT':0x12,'BORDER_CORNER_BOTTOM_RIGHT':0x13};cos=Math[_0x29f5e9(0x186)](Math['PI']/0x2),sin=Math['sin'](Math['PI']/0x2),RotationMatrix=[cos,sin,-sin,cos],TetrominoBag=[],TetrominoQueue=[],heldPiece=null,hasSwapped=!0x1;var _0x189343={'L':'L','I':'I','J':'J','O':'O','S':'S','T':'T','Z':'Z'},_0x1d0125=()=>{const _0x1e94aa=_0x29f5e9;if(TetrominoBag[_0x1e94aa(0x16c)]===0x0){let _0x5e9253=Object[_0x1e94aa(0x109)](_0x189343);for(let _0x21ea2f=_0x5e9253['length']-0x1;_0x21ea2f>0x0;_0x21ea2f--){let _0x160a27=Math[_0x1e94aa(0x191)](Math['random']()*(_0x21ea2f+0x1));[_0x5e9253[_0x21ea2f],_0x5e9253[_0x160a27]]=[_0x5e9253[_0x160a27],_0x5e9253[_0x21ea2f]];}TetrominoBag=[..._0x5e9253];}let _0x56b35f=TetrominoBag[_0x1e94aa(0x147)]();return DEBUG&&console[_0x1e94aa(0xfd)](_0x1e94aa(0x114),TetrominoBag),_0x56b35f;};function _0x4dcf72(){const _0x545ca1=_0x29f5e9;return TetrominoBag[_0x545ca1(0x16c)]===0x0&&_0x1d0125(),[...TetrominoBag[_0x545ca1(0x1ab)](0x0,0x3)];}var _0x26e34b={'L':_0xce0155[_0x29f5e9(0x18e)],'I':_0xce0155[_0x29f5e9(0x153)],'J':_0xce0155[_0x29f5e9(0x198)],'O':_0xce0155['YELLOW'],'S':_0xce0155[_0x29f5e9(0x142)],'T':_0xce0155[_0x29f5e9(0x17d)],'Z':_0xce0155[_0x29f5e9(0x132)]},_0x1039a6={'I':[[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]]],'JLOSTZ':[[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]]]},_0x2b4749={'I':[0x0,0x0],'O':[0x0,0x0],'J':[-0.5,0.5],'L':[-0.5,0.5],'S':[-0.5,0.5],'T':[-0.5,0.5],'Z':[-0.5,0.5]},_0x21a432={'L':{'cells':[[0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x1039a6[_0x29f5e9(0x159)],'color':0xffa500},'I':{'cells':[[-0x1,0x1],[0x0,0x1],[0x1,0x1],[0x2,0x1]],'wallKicks':_0x1039a6['I'],'color':0xffff},'J':{'cells':[[-0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x1039a6[_0x29f5e9(0x159)],'color':0xff},'O':{'cells':[[0x0,0x0],[0x1,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x1039a6['JLOSTZ'],'color':0xffff00},'S':{'cells':[[-0x1,0x0],[0x0,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x1039a6[_0x29f5e9(0x159)],'color':0xff00},'T':{'cells':[[-0x1,0x0],[0x0,0x0],[0x1,0x0],[0x0,0x1]],'wallKicks':_0x1039a6['JLOSTZ'],'color':0x800080},'Z':{'cells':[[-0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x1039a6[_0x29f5e9(0x159)],'color':0xff0000}};function _0x3331d8(_0x4185c5){const _0x402bf8=_0x29f5e9;return JSON[_0x402bf8(0x119)](JSON[_0x402bf8(0xfa)](_0x4185c5));}function _0x50db61(_0x180a4a){const _0x210218=_0x29f5e9;let _0x297f43=_0x4dcf72();for(let _0x1c152a=0x0;_0x1c152a<_0x297f43[_0x210218(0x16c)];_0x1c152a++)TetrominoQueue[_0x210218(0x128)](_0x25464f(_0x180a4a,_0x297f43[_0x1c152a])),DEBUG&&console[_0x210218(0xfd)](_0x210218(0x1b0),TetrominoQueue);}function _0x25464f(_0x132cd4,_0x550dba){const _0x2c563e=_0x29f5e9;let _0x3135ff=_0x21a432[_0x550dba],_0x5bcc94=_0x132cd4[_0x2c563e(0x177)][_0x2c563e(0x162)](0x0,0x0);return _0x5bcc94[_0x2c563e(0xd9)]('cells',_0x3331d8(_0x3135ff[_0x2c563e(0xe2)])),_0x5bcc94[_0x2c563e(0xd9)]('color',_0x3135ff[_0x2c563e(0x137)]),_0x5bcc94['setData'](_0x2c563e(0x172),_0x3135ff['wallKicks']),_0x5bcc94[_0x2c563e(0xd9)](_0x2c563e(0xfc),_0x26e34b[_0x550dba]),_0x5bcc94[_0x2c563e(0xd9)](_0x2c563e(0xf5),_0x550dba),_0x5bcc94[_0x2c563e(0xd9)](_0x2c563e(0x12e),0x0),_0x5bcc94[_0x2c563e(0xd9)](_0x2c563e(0x10f),[0x0,0x0]),_0x5bcc94['setData']('x',0x0),_0x5bcc94[_0x2c563e(0xd9)]('y',0x0),DEBUG&&console[_0x2c563e(0xfd)](_0x2c563e(0xcb),_0x5bcc94),_0x5bcc94;}function _0x4c39ca(_0x8e2ee,_0x3db281,_0x428ff5,_0x405130){const _0x4a6675=_0x29f5e9;let _0x2538fa=TetrominoQueue[_0x4a6675(0x147)]()['setScale'](_0x405130),_0x4638e8=_0x2538fa['getData'](_0x4a6675(0xf5));return _0x2538fa[_0x4a6675(0xd9)]('x',_0x3db281),_0x2538fa[_0x4a6675(0xd9)]('y',_0x428ff5-(_0x4638e8===_0x21a432['I']?0x1:0x0)),DEBUG&&console[_0x4a6675(0xfd)]('Spawned\x20tetromino:\x20',_0x2538fa),TetrominoQueue[_0x4a6675(0x14c)](_0x25464f(_0x8e2ee,_0x1d0125())),_0x2538fa;}function _0x35e98d(){return TetrominoQueue;}function _0x150e80(){return heldPiece;}function _0x509c29(_0x1b487f){const _0x4c4062=_0x29f5e9;if(heldPiece){if(hasSwapped)return _0x1b487f[_0x4c4062(0x107)];{let _0x55d274=_0x25464f(_0x1b487f,_0x1b487f[_0x4c4062(0x107)][_0x4c4062(0xf9)](_0x4c4062(0xf5))),_0x33a2d1=Object[_0x4c4062(0x17c)](heldPiece);return _0x33a2d1[_0x4c4062(0xd9)]('x',_0x1b487f[_0x4c4062(0x107)][_0x4c4062(0xf9)]('x')),_0x33a2d1[_0x4c4062(0xd9)]('y',_0x1b487f[_0x4c4062(0x107)]['getData']('y')),heldPiece=_0x55d274,hasSwapped=!0x0,_0x33a2d1;}}else{heldPiece=_0x25464f(_0x1b487f,_0x1b487f[_0x4c4062(0x107)]['getData'](_0x4c4062(0xf5)));let _0x49aa3a=_0x4c39ca(_0x1b487f,0x4,0x13,heldPiece[_0x4c4062(0x1a6)]);return hasSwapped=!0x0,_0x49aa3a;}}function _0x2e4639(){hasSwapped=!0x1;}function _0x5560c0(){hasSwapped=!0x1,heldPiece=null;}function _0x4afdfe(_0x1e1366,_0x1845db,_0x489427){const _0x16a197=_0x29f5e9;let _0x5c06d5=_0x1845db[_0x16a197(0xf9)](_0x16a197(0xf5)),_0x18679c=_0x21a432[_0x5c06d5],_0x203385=_0x1e1366[_0x16a197(0x177)]['container'](0x0,0x0)[_0x16a197(0x160)](_0x489427);return _0x203385[_0x16a197(0xd9)](_0x16a197(0xfc),_0xce0155[_0x16a197(0x178)]),_0x203385[_0x16a197(0xd9)](_0x16a197(0xe2),_0x3331d8(_0x1845db[_0x16a197(0xf9)](_0x16a197(0xe2)))),_0x203385[_0x16a197(0xd9)](_0x16a197(0xf5),_0x1845db[_0x16a197(0xf9)](_0x16a197(0xf5))),_0x203385['setData'](_0x16a197(0x12e),_0x1845db[_0x16a197(0xf9)]('rotationIndex')),_0x203385[_0x16a197(0xd9)](_0x16a197(0x10f),_0x1845db[_0x16a197(0xf9)]('rotation')),_0x203385[_0x16a197(0xd9)]('x',_0x1845db[_0x16a197(0xf9)]('x')),_0x203385['setData']('y',_0x1845db[_0x16a197(0xf9)]('y')),_0x203385['setData'](_0x16a197(0x172),_0x1845db[_0x16a197(0xf9)](_0x16a197(0x172))),_0x203385;}function _0x46342a(_0x25c3b4,_0x1ec0eb,_0x294b01){return _0x25c3b4<_0x1ec0eb?_0x294b01-(_0x1ec0eb-_0x25c3b4)%(_0x294b01-_0x1ec0eb):_0x1ec0eb+(_0x25c3b4-_0x1ec0eb)%(_0x294b01-_0x1ec0eb);}function _0x21d5eb(_0x2ec4db,_0x26e65b,_0x14eb06,_0x1494e7,_0x223fc7){const _0x5ee085=_0x29f5e9;originalRotation=_0x1494e7[_0x5ee085(0xf9)](_0x5ee085(0x12e))||0x0,rotationIndex=_0x46342a(originalRotation+_0x223fc7,0x0,0x4),DEBUG&&console['log'](_0x5ee085(0x15d),rotationIndex),_0x2776b8(_0x1494e7,_0x223fc7),_0x5933b7(_0x2ec4db,_0x26e65b,_0x14eb06,_0x1494e7,rotationIndex,_0x223fc7)||(rotationIndex=originalRotation,_0x2776b8(_0x1494e7,-_0x223fc7)),_0x1494e7[_0x5ee085(0xd9)](_0x5ee085(0x12e),rotationIndex);}function _0x5933b7(_0x3a9d53,_0x26f19a,_0x29b679,_0x147f57,_0x2ee2d7,_0x2bfba3){const _0x276c70=_0x29f5e9;for(wallKicks=_0x147f57[_0x276c70(0xf9)](_0x276c70(0x172)),wallKickIndex=_0x1e6fae(_0x2ee2d7,_0x2bfba3),DEBUG&&console[_0x276c70(0xfd)](_0x276c70(0x14f),wallKicks[wallKickIndex]),i=0x0;i<0x5;i++)if(translation=wallKicks[wallKickIndex][i],_0x21a2ea(_0x3a9d53,_0x26f19a,_0x29b679,_0x147f57,translation,!0x0))return DEBUG&&console[_0x276c70(0xfd)](_0x276c70(0xd1)),!0x0;return DEBUG&&console[_0x276c70(0xfd)](_0x276c70(0x181)),!0x1;}function _0x1e6fae(_0x5b91f5,_0x353417){return wallKickIndex=_0x5b91f5*0x2,_0x353417<0x0&&wallKickIndex--,_0x46342a(wallKickIndex,0x0,0x8);}function _0x163d69(_0x46c616,_0x4d653a,_0x396539,_0x1d5f95,_0x22d401,_0x246588){const _0x106583=_0x29f5e9;let _0x27da60=_0x1d5f95[_0x106583(0xf9)](_0x106583(0xe2)),_0x21686d=_0x1d5f95[_0x106583(0xf9)]('type'),_0xbb19cd=_0x1d5f95[_0x106583(0xf9)]('x'),_0x2d78ea=_0x1d5f95[_0x106583(0xf9)]('y');DEBUG&&(_0x46c616[_0x106583(0x11d)](),DEBUG&&console[_0x106583(0xfd)]('Testing\x20move:\x20',_0x22d401));for(let _0x359cdb=0x0;_0x359cdb<_0x27da60['length'];_0x359cdb++){let _0x145f68=_0xbb19cd+_0x27da60[_0x359cdb][0x0]+_0x22d401[0x0],_0x28594f=_0x2d78ea+_0x27da60[_0x359cdb][0x1]-_0x22d401[0x1];if(DEBUG&&(wx=_0x4d653a[_0x106583(0xd8)](_0x145f68),wy=_0x4d653a[_0x106583(0xcc)](0x14-_0x28594f),_0x46c616[_0x106583(0x136)](0x1,0xff00ff),_0x46c616[_0x106583(0xe0)](new Phaser['Geom']['Rectangle'](wx,wy,0x40*_0x396539,0x40*_0x396539))),_0x145f68%0x1!==0x0||_0x28594f%0x1!==0x0)return DEBUG&&console[_0x106583(0xfd)](_0x106583(0x17e),_0x145f68,_0x28594f),!0x1;let _0x40e468=_0x4d653a['getTileAt'](_0x145f68,0x14-_0x28594f);if(!_0x40e468||_0x40e468[_0x106583(0x19c)]!==_0xce0155[_0x106583(0x15b)]&&_0x40e468['index']!==_0xce0155['GHOST'])return DEBUG&&console['log'](_0x106583(0x1a5)),!0x1;}return!0x0;}function _0x21a2ea(_0xd4427f,_0x1fad7a,_0x2b9101,_0x21a469,_0x13fa95,_0x58907b){const _0x12b14d=_0x29f5e9;return isValid=_0x163d69(_0xd4427f,_0x1fad7a,_0x2b9101,_0x21a469,_0x13fa95,_0x58907b),isValid&&(_0x21a469[_0x12b14d(0xd9)]('x',_0x21a469[_0x12b14d(0xf9)]('x')+_0x13fa95[0x0]),_0x21a469['setData']('y',_0x21a469[_0x12b14d(0xf9)]('y')-_0x13fa95[0x1]),_0x21a469['x']=_0x1fad7a['tileToWorldX'](_0x21a469[_0x12b14d(0xf9)]('x')),_0x21a469['y']=_0x1fad7a['tileToWorldY'](0x13-_0x21a469[_0x12b14d(0xf9)]('y'))),isValid;}function _0x2776b8(_0x2e9cc3,_0x3d409f){const _0x5c0960=_0x29f5e9;let _0x430315=_0x2b4749[_0x2e9cc3['getData'](_0x5c0960(0xf5))],_0x36a13e=_0x2e9cc3[_0x5c0960(0xf9)](_0x5c0960(0xe2)),_0x2b8ca4=_0x2e9cc3['getData'](_0x5c0960(0xf5)),_0x40a5f2=RotationMatrix,_0x3ce496=[],_0x5bad16=_0x2b8ca4===_0x189343['O']||_0x2b8ca4===_0x189343['I'];if(_0x5bad16){for(let _0x379be1=0x0;_0x379be1<_0x36a13e[_0x5c0960(0x16c)];_0x379be1++)_0x36a13e[_0x379be1][0x0]-=0.5,_0x36a13e[_0x379be1][0x1]-=0.5;}for(let _0x559b43=0x0;_0x559b43<_0x36a13e['length'];_0x559b43++){let _0x58ec16=parseFloat((_0x36a13e[_0x559b43][0x0]*_0x40a5f2[0x0]*_0x3d409f+_0x36a13e[_0x559b43][0x1]*_0x40a5f2[0x1]*_0x3d409f)[_0x5c0960(0x151)](0x1)),_0x589dc8=parseFloat((_0x36a13e[_0x559b43][0x0]*_0x40a5f2[0x2]*_0x3d409f+_0x36a13e[_0x559b43][0x1]*_0x40a5f2[0x3]*_0x3d409f)['toFixed'](0x1));_0x3ce496['push']([_0x5bad16?Math[_0x5c0960(0x11c)](_0x58ec16):Math[_0x5c0960(0x16b)](_0x58ec16),_0x5bad16?Math['ceil'](_0x589dc8):Math['round'](_0x589dc8)]);}return _0x2e9cc3[_0x5c0960(0xd9)](_0x5c0960(0xe2),_0x3ce496),tmp=[parseFloat((_0x430315[0x0]*_0x40a5f2[0x0]*_0x3d409f+_0x430315[0x1]*_0x40a5f2[0x1]*_0x3d409f)[_0x5c0960(0x151)](0x1)),parseFloat((_0x430315[0x0]*_0x40a5f2[0x2]*_0x3d409f+_0x430315[0x1]*_0x40a5f2[0x3]*_0x3d409f)[_0x5c0960(0x151)](0x1))],_0x2e9cc3[_0x5c0960(0xd9)](_0x5c0960(0x10f),tmp),_0x3ce496;}function _0x523103(_0x489fbd){const _0x35d4ca=_0x29f5e9;_0x489fbd[_0x35d4ca(0x138)][_0x35d4ca(0x110)](0x1),_0x489fbd[_0x35d4ca(0x138)][_0x35d4ca(0x18c)]['on'](_0x35d4ca(0x19d),()=>{_0x489fbd['moveActivePiece']([-0x1,0x0]);}),_0x489fbd[_0x35d4ca(0x138)][_0x35d4ca(0x18c)]['on'](_0x35d4ca(0x176),()=>{const _0x9d0743=_0x35d4ca;_0x489fbd[_0x9d0743(0x148)]([0x1,0x0]);}),_0x489fbd[_0x35d4ca(0x138)][_0x35d4ca(0x18c)]['on'](_0x35d4ca(0x150),()=>{const _0x50d16e=_0x35d4ca;_0x489fbd[_0x50d16e(0x148)]([0x0,0x1]);}),DEBUG&&_0x489fbd[_0x35d4ca(0x138)][_0x35d4ca(0x18c)]['on'](_0x35d4ca(0xd6),()=>{const _0x3e668f=_0x35d4ca;_0x489fbd[_0x3e668f(0x148)]([0x0,-0x1]);}),_0x489fbd[_0x35d4ca(0x138)][_0x35d4ca(0x18c)]['on'](_0x35d4ca(0x1a2),()=>{const _0x4a684b=_0x35d4ca;_0x489fbd[_0x4a684b(0xe8)](0x1);}),_0x489fbd['input'][_0x35d4ca(0x18c)]['on'](_0x35d4ca(0x184),()=>{_0x489fbd['rotateActivePiece'](-0x1);}),_0x489fbd[_0x35d4ca(0x138)][_0x35d4ca(0x18c)]['on']('keydown-SPACE',()=>{const _0x2ddf4d=_0x35d4ca;_0x489fbd[_0x2ddf4d(0x10b)]();}),_0x489fbd[_0x35d4ca(0x138)][_0x35d4ca(0x18c)]['on'](_0x35d4ca(0x18d),()=>{const _0x224e6e=_0x35d4ca;_0x489fbd[_0x224e6e(0x1a3)]();}),_0x489fbd[_0x35d4ca(0x138)][_0x35d4ca(0x18c)]['on'](_0x35d4ca(0x158),()=>{const _0x5e0c35=_0x35d4ca;_0x489fbd[_0x5e0c35(0xd4)][_0x5e0c35(0x12c)]()?_0x489fbd[_0x5e0c35(0xd4)][_0x5e0c35(0x1a7)]():_0x489fbd[_0x5e0c35(0xd4)][_0x5e0c35(0x14e)]();}),_0x489fbd[_0x35d4ca(0x138)]['keyboard']['on'](_0x35d4ca(0x127),()=>{const _0x31dc97=_0x35d4ca;_0x489fbd[_0x31dc97(0xf8)][_0x31dc97(0x11b)](Tiles['BOARD']),_0x489fbd[_0x31dc97(0xf8)][_0x31dc97(0x11b)](null,0x0,0x0,BOARD_WIDTH,BOARD_HEIGHT,!0x0,_0x31dc97(0xc8)),_0x489fbd[_0x31dc97(0x12d)](),_0x489fbd['gameOver']=!0x1,_0x489fbd['spawn'](),_0x489fbd['setTetromino'](_0x489fbd[_0x31dc97(0x107)]);});}isClicking=!0x1,dropped=!0x1,held=!0x1,clicked=!0x1,dragged=!0x1,touchDeltaX=0x0,touchDeltaY=0x0;function _0x4cc851(_0x160fbd){const _0x32f5a3=_0x29f5e9;if(_0x160fbd['input'][_0x32f5a3(0x167)][_0x32f5a3(0x115)]){clicked=!0x0;let _0x4f2757=Math[_0x32f5a3(0x1af)](_0x160fbd['input'][_0x32f5a3(0x167)]['x']-touchDeltaX),_0x510bdb=Math['abs'](_0x160fbd[_0x32f5a3(0x138)][_0x32f5a3(0x167)]['y']-touchDeltaY);_0x4f2757>=0x4b&&_0x4f2757>_0x510bdb?(_0x160fbd['input'][_0x32f5a3(0x167)]['x']<touchDeltaX?swipeDirection=_0x32f5a3(0x174):_0x160fbd['input'][_0x32f5a3(0x167)]['x']>touchDeltaX&&touchDeltaX!=0x0?swipeDirection=_0x32f5a3(0x173):(swipeDirection='',touchDeltaX=0x0),touchDeltaX=_0x160fbd['input']['activePointer']['x'],swipeDirection!=''&&(_0x160fbd[_0x32f5a3(0x148)]([swipeDirection==_0x32f5a3(0x174)?-0x1:0x1,0x0]),dragged=!0x0)):!dropped&&!held&&_0x510bdb>=0xc8&&_0x510bdb>_0x4f2757&&(_0x160fbd['input'][_0x32f5a3(0x167)]['y']>touchDeltaY&&touchDeltaY!=0x0?swipeDirection=_0x32f5a3(0xc9):_0x160fbd[_0x32f5a3(0x138)][_0x32f5a3(0x167)]['y']<touchDeltaY&&touchDeltaY!=0x0?swipeDirection='up':(swipeDirection='',touchDeltaY=0x0),touchDeltaY=_0x160fbd[_0x32f5a3(0x138)]['activePointer']['y'],swipeDirection==_0x32f5a3(0xc9)?(_0x160fbd[_0x32f5a3(0x10b)](),dropped=!0x0):swipeDirection=='up'&&(_0x160fbd['hold'](),held=!0x0));}else touchDeltaX=0x0,touchDeltaY=0x0,clicked&&!dragged&&!dropped&&!held&&(_0x160fbd[_0x32f5a3(0x138)][_0x32f5a3(0x167)]['x']<_0x160fbd[_0x32f5a3(0x106)]['x']?_0x160fbd[_0x32f5a3(0xe8)](-0x1):_0x160fbd[_0x32f5a3(0xe8)](0x1)),clicked=!0x1,dropped=!0x1,dragged=!0x1,held=!0x1;}WIDTH=0x320,HEIGHT=0x400,DEBUG=!0x1,BOARD_WIDTH=0xa,BOARD_HEIGHT=0x14,BLOCK_SIZE=0x40,swipeDirection='',touchDeltaX=0x0,touchDeltaY=0x0,swipeDelay=0x0;var _0x157395=class extends Phaser[_0x29f5e9(0x108)]{constructor(){const _0x75c10c=_0x29f5e9;super({'key':_0x75c10c(0xca),'active':!0x0}),this[_0x75c10c(0x162)],this[_0x75c10c(0x195)]=Array[_0x75c10c(0x140)]({'length':BOARD_HEIGHT},()=>Array['from']({'length':BOARD_WIDTH},()=>_0xce0155[_0x75c10c(0x15b)])),this[_0x75c10c(0xf8)],this['queueMap'],this[_0x75c10c(0x100)],this['center']={'x':WIDTH/0x2,'y':HEIGHT/0x2},this['deltaX']=this[_0x75c10c(0x106)]['x']*0x2/0x8,this[_0x75c10c(0x10d)]=this[_0x75c10c(0x106)]['y']*0x2/0x14,this[_0x75c10c(0x111)]=this[_0x75c10c(0x118)]*2.5/this[_0x75c10c(0x106)]['x'],this[_0x75c10c(0x1a8)]=this[_0x75c10c(0x10d)]*2.5/this['center']['y'],this[_0x75c10c(0x12f)]=BLOCK_SIZE*this[_0x75c10c(0x111)],this[_0x75c10c(0x175)]=0x0,this[_0x75c10c(0x107)],this['ghostPiece'],this[_0x75c10c(0x102)],this[_0x75c10c(0xeb)]=!0x1,this['layer'],this[_0x75c10c(0x18a)],this[_0x75c10c(0x197)],this[_0x75c10c(0x11f)],this['rowClearParticles'],this[_0x75c10c(0xf2)];}[_0x29f5e9(0x11a)](){const _0x46a5c8=_0x29f5e9;this[_0x46a5c8(0xf0)][_0x46a5c8(0x1a0)](_0x46a5c8(0xea),['assets/Sprites/tetris.png',_0x46a5c8(0x1ae)]),this[_0x46a5c8(0xf0)]['spritesheet']('fullscreen',_0x46a5c8(0xdb),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this[_0x46a5c8(0xf0)][_0x46a5c8(0xef)]('blocks',_0x46a5c8(0xed),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this[_0x46a5c8(0xf0)]['atlas'](_0x46a5c8(0x157),_0x46a5c8(0x12b),'assets/particles/blocks.json'),this[_0x46a5c8(0xf0)][_0x46a5c8(0x1a0)](_0x46a5c8(0x124),_0x46a5c8(0xc6)),this[_0x46a5c8(0xf0)][_0x46a5c8(0x1a0)](_0x46a5c8(0x1ad),'assets/particles/streak.png'),this[_0x46a5c8(0xf0)][_0x46a5c8(0x1a0)](_0x46a5c8(0x1ac),_0x46a5c8(0x17b)),this[_0x46a5c8(0xf0)]['image']('bg',_0x46a5c8(0x1a9));}[_0x29f5e9(0xc7)](){const _0x525430=_0x29f5e9;let _0x2e1131=Array[_0x525430(0x140)]({'length':0xa},()=>Array[_0x525430(0x140)]({'length':0x6},()=>_0xce0155[_0x525430(0x15b)]));this[_0x525430(0xd0)]=this['make'][_0x525430(0xe3)]({'key':_0x525430(0x13b),'data':null,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x525430(0xd5)]=this[_0x525430(0xd0)][_0x525430(0xf4)]('tiles',_0x525430(0xea),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x525430(0x141)]=this[_0x525430(0xd0)][_0x525430(0x18b)](_0x525430(0x190),this[_0x525430(0xd5)],this[_0x525430(0x106)]['x']+(BOARD_WIDTH+0.6)/0x2*BLOCK_SIZE*this[_0x525430(0x111)],0x3*BLOCK_SIZE*this[_0x525430(0x111)])['setScale'](this[_0x525430(0x111)]*0.75),this[_0x525430(0x141)][_0x525430(0xe5)](_0x525430(0x10c)),this[_0x525430(0xd0)][_0x525430(0x11b)](_0xce0155['BORDER_TOP'],0x1,0x0,0x4,0x1),this[_0x525430(0xd0)]['fill'](_0xce0155['BORDER_BOTTOM'],0x1,0x9,0x4,0x9),this[_0x525430(0xd0)][_0x525430(0x11b)](_0xce0155[_0x525430(0x126)],0x0,0x1,0x1,0x8),this[_0x525430(0xd0)][_0x525430(0x11b)](_0xce0155['BORDER_RIGHT'],0x5,0x1,0x1,0x8),this['queueMap'][_0x525430(0x187)](_0xce0155[_0x525430(0xec)],0x0,0x9),this['queueMap'][_0x525430(0x187)](_0xce0155[_0x525430(0x19a)],0x5,0x9),this[_0x525430(0xd0)][_0x525430(0x187)](_0xce0155['BORDER_CORNER_TOP_LEFT'],0x0,0x0),this[_0x525430(0xd0)][_0x525430(0x187)](_0xce0155['BORDER_CORNER_TOP_RIGHT'],0x5,0x0),this[_0x525430(0x13a)]=this[_0x525430(0x177)][_0x525430(0x180)](WIDTH-0xcd*this[_0x525430(0x111)],0xaa*this[_0x525430(0x111)],_0x525430(0xe6),{'font':_0x525430(0xdd),'fill':_0x525430(0xdf)})['setName'](_0x525430(0x13a));}[_0x29f5e9(0x139)](){const _0x5c8daa=_0x29f5e9;let _0x263e07=Array[_0x5c8daa(0x140)]({'length':0x4},()=>Array[_0x5c8daa(0x140)]({'length':0x6},()=>_0xce0155[_0x5c8daa(0x15b)]));this[_0x5c8daa(0x100)]=this[_0x5c8daa(0x145)][_0x5c8daa(0xe3)]({'key':'queue_tiles','data':_0x263e07,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this['holdTiles']=this[_0x5c8daa(0x100)][_0x5c8daa(0xf4)](_0x5c8daa(0xe7),_0x5c8daa(0xea),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x5c8daa(0x183)]=this[_0x5c8daa(0x100)][_0x5c8daa(0x18b)](_0x5c8daa(0x189),this[_0x5c8daa(0xd5)],this[_0x5c8daa(0x106)]['x']-(BOARD_WIDTH+9.6)/0x2*BLOCK_SIZE*this['gameScale'],0x3*BLOCK_SIZE*this[_0x5c8daa(0x111)])[_0x5c8daa(0x160)](this[_0x5c8daa(0x111)]*0.75),this[_0x5c8daa(0x183)]['setPipeline'](_0x5c8daa(0x10c)),this['holdMap'][_0x5c8daa(0x11b)](_0xce0155[_0x5c8daa(0x15b)],0x1,0x1,0x4,0x2,!0x0),this[_0x5c8daa(0x100)][_0x5c8daa(0x11b)](_0xce0155['BORDER_TOP'],0x1,0x0,0x4,0x1),this[_0x5c8daa(0x100)][_0x5c8daa(0x11b)](_0xce0155[_0x5c8daa(0xfe)],0x1,0x3,0x4,0x3),this[_0x5c8daa(0x100)]['fill'](_0xce0155[_0x5c8daa(0x126)],0x0,0x1,0x1,0x2),this[_0x5c8daa(0x100)][_0x5c8daa(0x11b)](_0xce0155['BORDER_RIGHT'],0x5,0x1,0x1,0x2),this[_0x5c8daa(0x100)][_0x5c8daa(0x187)](_0xce0155[_0x5c8daa(0xec)],0x0,0x3),this[_0x5c8daa(0x100)]['putTileAt'](_0xce0155[_0x5c8daa(0x19a)],0x5,0x3),this['holdMap'][_0x5c8daa(0x187)](_0xce0155[_0x5c8daa(0x103)],0x0,0x0),this[_0x5c8daa(0x100)]['putTileAt'](_0xce0155[_0x5c8daa(0xcf)],0x5,0x0),this[_0x5c8daa(0x161)]=this[_0x5c8daa(0x177)][_0x5c8daa(0x180)](0x62*this[_0x5c8daa(0x111)],0xaa*this['gameScale'],_0x5c8daa(0x19e),{'font':_0x5c8daa(0xdd),'fill':'#00DDFF'})[_0x5c8daa(0x122)](_0x5c8daa(0x161));}[_0x29f5e9(0x133)](){const _0x57e2bb=_0x29f5e9;this[_0x57e2bb(0xf8)]=this[_0x57e2bb(0x145)][_0x57e2bb(0xe3)]({'key':'map_tiles','data':this['level'],'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x4d4dd2=this[_0x57e2bb(0xf8)][_0x57e2bb(0xf4)](_0x57e2bb(0xe7),_0x57e2bb(0xea),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);this[_0x57e2bb(0x18a)]=this[_0x57e2bb(0xf8)][_0x57e2bb(0x18b)]('GhostLayer',_0x4d4dd2,this[_0x57e2bb(0x106)]['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x57e2bb(0x111)],0x3*BLOCK_SIZE*this[_0x57e2bb(0x111)])[_0x57e2bb(0x160)](this[_0x57e2bb(0x111)]),this[_0x57e2bb(0x143)]=this[_0x57e2bb(0xf8)][_0x57e2bb(0x18b)](_0x57e2bb(0x12a),_0x4d4dd2,this['center']['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x57e2bb(0x111)],0x3*BLOCK_SIZE*this[_0x57e2bb(0x111)])['setScale'](this[_0x57e2bb(0x111)]),this[_0x57e2bb(0x143)][_0x57e2bb(0xe5)](_0x57e2bb(0x10c)),this[_0x57e2bb(0xf8)][_0x57e2bb(0x11b)](_0xce0155['BOARD']);}['createTileMaps'](){const _0x375174=_0x29f5e9;this[_0x375174(0x177)]['image'](this[_0x375174(0x106)]['x'],this['center']['y'],'bg')[_0x375174(0x160)](this[_0x375174(0x111)]*1.6),this[_0x375174(0x10e)][_0x375174(0xda)]()[_0x375174(0xfb)](0xeeeeee);let _0x2eb58d=this[_0x375174(0x10e)][_0x375174(0xe1)](WIDTH,-HEIGHT,HEIGHT*0x3,0xffffff,0x4);this[_0x375174(0xc7)](),this[_0x375174(0x139)](),this[_0x375174(0x133)]();}[_0x29f5e9(0xe4)](_0x26775b,_0x467efc){const _0x45d3ca=_0x29f5e9;return _0x26775b%0x1!==0x0||_0x467efc%0x1!==0x0?(DEBUG&&console['log'](_0x45d3ca(0xf3),_0x26775b,_0x467efc),!0x0):!0x1;}[_0x29f5e9(0x1a4)](_0x5ef4d2,_0x3bbda9,_0x413bad){const _0x5d11cc=_0x29f5e9;this['checkFractions'](_0x5ef4d2,_0x3bbda9)||(this[_0x5d11cc(0xf8)][_0x5d11cc(0x187)](_0x413bad,_0x5ef4d2,BOARD_HEIGHT-_0x3bbda9,!0x1,_0x413bad===_0xce0155[_0x5d11cc(0x178)]?_0x5d11cc(0xc8):'GameLayer'),_0x413bad===_0xce0155[_0x5d11cc(0x15b)]&&this[_0x5d11cc(0xf8)][_0x5d11cc(0x121)](_0x5ef4d2,BOARD_HEIGHT-_0x3bbda9,!0x0,!0x1,_0x5d11cc(0xc8)));}[_0x29f5e9(0xf1)](_0x177496,_0x7e14a9){const _0x4702ee=_0x29f5e9;return this[_0x4702ee(0xe4)](_0x177496,_0x7e14a9)?null:this[_0x4702ee(0xf8)][_0x4702ee(0x16e)](_0x177496,BOARD_HEIGHT-_0x7e14a9,!0x1,this[_0x4702ee(0x143)]);}[_0x29f5e9(0x16a)](_0x10d5ea){const _0x20449e=_0x29f5e9;let _0x1e1397=_0x10d5ea['getData'](_0x20449e(0xe2)),_0x749b07=_0x10d5ea['getData']('x'),_0x5428cc=_0x10d5ea[_0x20449e(0xf9)]('y');if(this[_0x20449e(0xe4)](_0x749b07,_0x5428cc)){DEBUG&&console[_0x20449e(0xfd)]('SetTetromino:\x20',_0x10d5ea);return;}for(let _0x29b7d0=0x0;_0x29b7d0<_0x1e1397[_0x20449e(0x16c)];_0x29b7d0++)for(let _0x7a3779=0x0;_0x7a3779<_0x1e1397[_0x29b7d0][_0x20449e(0x16c)]-0x1;_0x7a3779++){if(this[_0x20449e(0xe4)](_0x1e1397[_0x29b7d0][_0x7a3779],_0x1e1397[_0x29b7d0][_0x7a3779+0x1])){DEBUG&&console['log'](_0x20449e(0xff),tetrommino);return;}let _0x35c022=this[_0x20449e(0xf1)](_0x749b07+_0x1e1397[_0x29b7d0][_0x7a3779],_0x5428cc+_0x1e1397[_0x29b7d0][_0x7a3779+0x1]);if(_0x35c022&&_0x35c022[_0x20449e(0x19c)]===_0xce0155['BOARD'])this['setTile'](_0x749b07+_0x1e1397[_0x29b7d0][_0x7a3779],_0x5428cc+_0x1e1397[_0x29b7d0][_0x7a3779+0x1],_0x10d5ea[_0x20449e(0xf9)](_0x20449e(0xfc)));else{this['gameOver']=!0x0;return;}}}[_0x29f5e9(0x12d)](){const _0x136cde=_0x29f5e9;this['holdMap'][_0x136cde(0x11b)](_0xce0155[_0x136cde(0x15b)],0x1,0x1,0x4,0x2,!0x0),this[_0x136cde(0x161)][_0x136cde(0x116)](_0x136cde(0x19e)),_0x5560c0();}[_0x29f5e9(0x120)](_0x5e89b3){const _0x21f56e=_0x29f5e9;let _0x9428ec=_0x5e89b3['getData'](_0x21f56e(0xe2)),_0x510fbe=_0x5e89b3[_0x21f56e(0xf9)]('x'),_0x24a0df=_0x5e89b3[_0x21f56e(0xf9)]('y');if(!this[_0x21f56e(0xe4)](_0x510fbe,_0x24a0df)){for(let _0x218f76=0x0;_0x218f76<_0x9428ec[_0x21f56e(0x16c)];_0x218f76++)for(let _0x1bdd41=0x0;_0x1bdd41<_0x9428ec[_0x218f76]['length']-0x1;_0x1bdd41++){if(this[_0x21f56e(0xe4)](_0x9428ec[_0x218f76][_0x1bdd41],_0x9428ec[_0x218f76][_0x1bdd41+0x1]))return;this[_0x21f56e(0x1a4)](_0x510fbe+_0x9428ec[_0x218f76][_0x1bdd41],_0x24a0df+_0x9428ec[_0x218f76][_0x1bdd41+0x1],_0xce0155[_0x21f56e(0x15b)]);}}}['addFullScreenToggle'](){const _0x556eb0=_0x29f5e9;let _0x328917=this[_0x556eb0(0x177)][_0x556eb0(0x1a0)](WIDTH-0x10,0x10,_0x556eb0(0x14d),0x0)[_0x556eb0(0x13e)](0x1,0x0)['setScale'](0.25)[_0x556eb0(0xee)]();_0x328917['on'](_0x556eb0(0x134),function(){const _0x9e17d2=_0x556eb0;this['scale'][_0x9e17d2(0x112)]?(_0x328917['setFrame'](0x0),this[_0x9e17d2(0x1a6)][_0x9e17d2(0x185)]()):(_0x328917[_0x9e17d2(0x156)](0x1),this[_0x9e17d2(0x1a6)]['startFullscreen']());},this);}['moveActivePiece'](_0xfa6ed2){const _0x48e181=_0x29f5e9;this[_0x48e181(0x107)]&&(this[_0x48e181(0x120)](this[_0x48e181(0x107)]),_0x21a2ea(this[_0x48e181(0x102)],this[_0x48e181(0xf8)],this[_0x48e181(0x111)],this[_0x48e181(0x107)],_0xfa6ed2),this[_0x48e181(0x129)](),this[_0x48e181(0x16a)](this[_0x48e181(0x107)]));}['hold'](){const _0x22f2b4=_0x29f5e9;let _0x317734=this[_0x22f2b4(0x107)][_0x22f2b4(0xf9)](_0x22f2b4(0xf5));this[_0x22f2b4(0x120)](this[_0x22f2b4(0x107)]);let _0x4bb7a2=_0x509c29(this);if(_0x4bb7a2===this['activePiece']){this[_0x22f2b4(0x161)][_0x22f2b4(0x15c)](_0x22f2b4(0x104)),this['tweens'][_0x22f2b4(0x177)]({'targets':this[_0x22f2b4(0x161)],'x':this[_0x22f2b4(0x161)]['x']-0xa,'duration':0x14,'yoyo':!0x1,'repeat':0x0,'onComplete':()=>{const _0x5a813e=_0x22f2b4;this[_0x5a813e(0x161)]['x']=0x58*this[_0x5a813e(0x111)],this[_0x5a813e(0x168)][_0x5a813e(0x177)]({'targets':this['holdText'],'x':this[_0x5a813e(0x161)]['x']+0x14,'duration':0x3c,'yoyo':!0x0,'repeat':0x1,'ease':_0x5a813e(0x13f),'onComplete':()=>{const _0x21942e=_0x5a813e;this[_0x21942e(0x161)]['x']=0x59*this[_0x21942e(0x111)],this[_0x21942e(0x161)][_0x21942e(0x15c)](_0x21942e(0xdf));}});}});let _0x44c48d=this[_0x22f2b4(0x130)](this[_0x22f2b4(0x107)]);this['graphics'][_0x22f2b4(0x136)](0x4,0xff0000,0x1),this['graphics']['strokeRectShape'](_0x44c48d),this[_0x22f2b4(0x168)][_0x22f2b4(0x177)]({'targets':this[_0x22f2b4(0x102)],'alpha':0x0,'duration':0x1f4,'ease':'Linear','onComplete':()=>{const _0x523b27=_0x22f2b4;this['graphics'][_0x523b27(0x11d)](),this['graphics'][_0x523b27(0x16d)]=0x1;}});}else this['holdText'][_0x22f2b4(0x116)](_0x22f2b4(0x19b)),this[_0x22f2b4(0x107)]=_0x4bb7a2,this['drawQueue'](),this[_0x22f2b4(0x144)]();this[_0x22f2b4(0x129)](),this['setTetromino'](this[_0x22f2b4(0x107)]);}[_0x29f5e9(0xe8)](_0x1b4522){const _0x35a0ff=_0x29f5e9;this[_0x35a0ff(0x120)](this[_0x35a0ff(0x107)]),_0x21d5eb(this[_0x35a0ff(0x102)],this[_0x35a0ff(0xf8)],this['gameScale'],this[_0x35a0ff(0x107)],_0x1b4522),this[_0x35a0ff(0x129)](),this['setTetromino'](this['activePiece']);}[_0x29f5e9(0x165)](_0x49a9a5){const _0x2939d6=_0x29f5e9;_0x2e4639();let _0x5e8b7b=new Set(),_0x2a7526=_0x49a9a5[_0x2939d6(0xf9)]('cells'),_0x557005=_0x49a9a5['getData']('x'),_0x4f0743=_0x49a9a5[_0x2939d6(0xf9)]('y');if(!this[_0x2939d6(0xe4)](_0x557005,_0x4f0743)){for(let _0x49434a=0x0;_0x49434a<_0x2a7526[_0x2939d6(0x16c)];_0x49434a++)for(let _0x7070ef=0x0;_0x7070ef<_0x2a7526[_0x49434a][_0x2939d6(0x16c)]-0x1;_0x7070ef++){if(this[_0x2939d6(0xe4)](_0x2a7526[_0x49434a][_0x7070ef],_0x2a7526[_0x49434a][_0x7070ef+0x1]))return;_0x5e8b7b['add'](_0x4f0743+_0x2a7526[_0x49434a][_0x7070ef+0x1]);}_0x5e8b7b=Array['from'](_0x5e8b7b)['sort']((_0x16ea92,_0x4def47)=>_0x4def47-_0x16ea92);for(let _0xa0d77f=0x0;_0xa0d77f<_0x5e8b7b['length'];_0xa0d77f++){let _0xe0ae75=_0x5e8b7b[_0xa0d77f],_0x35a2c6=!0x0;for(let _0x52ca68=0x0;_0x52ca68<BOARD_WIDTH;_0x52ca68++){let _0xbfb7a5=this[_0x2939d6(0xf1)](_0x52ca68,_0xe0ae75);if(!_0xbfb7a5||_0xbfb7a5[_0x2939d6(0x19c)]===_0xce0155[_0x2939d6(0x15b)]){_0x35a2c6=!0x1;break;}}if(_0x35a2c6){for(let _0x15c458=0x0;_0x15c458<BOARD_WIDTH;_0x15c458++)this[_0x2939d6(0x1a4)](_0x15c458,_0xe0ae75,_0xce0155[_0x2939d6(0x15b)]);for(let _0x53ddb5=_0xe0ae75+0x1;_0x53ddb5<BOARD_HEIGHT;_0x53ddb5++)for(let _0x13fa96=0x0;_0x13fa96<BOARD_WIDTH;_0x13fa96++){let _0x4a7831=this['getTile'](_0x13fa96,_0x53ddb5);_0x4a7831&&_0x4a7831[_0x2939d6(0x19c)]!==_0xce0155[_0x2939d6(0x15b)]&&(this[_0x2939d6(0x1a4)](_0x13fa96,_0x53ddb5-0x1,_0x4a7831[_0x2939d6(0x19c)]),this[_0x2939d6(0x1a4)](_0x13fa96,_0x53ddb5,_0xce0155['BOARD']));}this[_0x2939d6(0x171)](_0xe0ae75-0x1);}}}}[_0x29f5e9(0x130)](_0x295984){const _0xea71e8=_0x29f5e9;let _0x3894b9=_0x295984['getData'](_0xea71e8(0xe2)),_0x1079b0=_0x295984['getData']('x'),_0x55eecd=_0x295984[_0xea71e8(0xf9)]('y');if(this[_0xea71e8(0xe4)](_0x1079b0,_0x55eecd))return;let _0x31ff4d=BOARD_WIDTH,_0x367cdc=0x0,_0x1955a1=BOARD_HEIGHT,_0x1d1c3f=0x0;for(let _0x271db2=0x0;_0x271db2<_0x3894b9[_0xea71e8(0x16c)];_0x271db2++)for(let _0x3a271d=0x0;_0x3a271d<_0x3894b9[_0x271db2][_0xea71e8(0x16c)]-0x1;_0x3a271d++){if(this['checkFractions'](_0x3894b9[_0x271db2][_0x3a271d],_0x3894b9[_0x271db2][_0x3a271d+0x1]))return;_0x31ff4d=Math[_0xea71e8(0xce)](_0x31ff4d,_0x1079b0+_0x3894b9[_0x271db2][_0x3a271d]),_0x367cdc=Math['max'](_0x367cdc,_0x1079b0+_0x3894b9[_0x271db2][_0x3a271d]),_0x1955a1=Math[_0xea71e8(0xce)](_0x1955a1,_0x55eecd+_0x3894b9[_0x271db2][_0x3a271d+0x1]),_0x1d1c3f=Math[_0xea71e8(0x135)](_0x1d1c3f,_0x55eecd+_0x3894b9[_0x271db2][_0x3a271d+0x1]);}return new Phaser[(_0xea71e8(0xdc))][(_0xea71e8(0x149))](this['map'][_0xea71e8(0xd8)](_0x31ff4d),this[_0xea71e8(0xf8)][_0xea71e8(0xcc)](0x13-_0x1d1c3f)+BLOCK_SIZE*this['gameScale'],this[_0xea71e8(0xf8)][_0xea71e8(0xd8)](_0x367cdc)-this['map'][_0xea71e8(0xd8)](_0x31ff4d)+BLOCK_SIZE*this[_0xea71e8(0x111)],this[_0xea71e8(0xf8)][_0xea71e8(0xcc)](0x13-_0x1955a1)-this[_0xea71e8(0xf8)]['tileToWorldY'](0x13-_0x1d1c3f)+BLOCK_SIZE*this[_0xea71e8(0x111)]);}[_0x29f5e9(0x163)](){const _0xc2c8ab=_0x29f5e9;let _0x3c128b=this[_0xc2c8ab(0x130)](this[_0xc2c8ab(0x107)]),_0x191636=this[_0xc2c8ab(0x130)](this[_0xc2c8ab(0xf6)]),_0x4b46f2=this[_0xc2c8ab(0x177)][_0xc2c8ab(0x1a0)](_0x3c128b[_0xc2c8ab(0x14a)],_0x3c128b[_0xc2c8ab(0x19f)],_0xc2c8ab(0x124));_0x4b46f2[_0xc2c8ab(0x13e)](0.5,0x0),_0x4b46f2[_0xc2c8ab(0x169)](this[_0xc2c8ab(0x107)][_0xc2c8ab(0xf9)](_0xc2c8ab(0x137))),_0x4b46f2[_0xc2c8ab(0x15e)]=_0x3c128b['width'],_0x4b46f2[_0xc2c8ab(0x101)]=_0x191636['y']-_0x3c128b['y'],_0x4b46f2[_0xc2c8ab(0xd7)]=-0x1,this[_0xc2c8ab(0x168)][_0xc2c8ab(0x177)]({'targets':_0x4b46f2,'displayHeight':0x0,'y':_0x191636['y'],'alpha':0x0,'duration':0xc8,'ease':_0xc2c8ab(0x152),'onComplete':()=>{const _0x14ed16=_0xc2c8ab;_0x4b46f2[_0x14ed16(0x113)]();}});let _0x117c8e=this[_0xc2c8ab(0x177)][_0xc2c8ab(0xf7)](_0x191636[_0xc2c8ab(0x14a)],_0x191636['y'],_0xc2c8ab(0x1ac),{'speed':{'min':0x190,'max':0x3e8},'angle':{'min':-0x69,'max':-0x4b},'scale':{'start':0.1,'end':0x0},'alpha':{'start':0.4,'end':0x0},'quantity':0x5,'lifespan':0x1f4,'blendMode':_0xc2c8ab(0xe9),'gravityY':0x64,'on':!0x1,'onComplete':()=>{const _0x375417=_0xc2c8ab;_0x117c8e[_0x375417(0x113)]();}});_0x117c8e[_0xc2c8ab(0x1a1)](),this['cameras'][_0xc2c8ab(0x146)][_0xc2c8ab(0x125)](0x64,0.0025-0.0005*(this['ghostPiece'][_0xc2c8ab(0xf9)]('y')-this[_0xc2c8ab(0x107)][_0xc2c8ab(0xf9)]('y')));}[_0x29f5e9(0x10b)](){const _0x26ac84=_0x29f5e9;if(!this[_0x26ac84(0xeb)]){for(this[_0x26ac84(0x163)](),this[_0x26ac84(0x120)](this['activePiece']),this['clearTetromino'](this[_0x26ac84(0xf6)]);_0x21a2ea(this['graphics'],this[_0x26ac84(0xf8)],this[_0x26ac84(0x111)],this[_0x26ac84(0x107)],[0x0,0x1]););this[_0x26ac84(0x16a)](this[_0x26ac84(0x107)]),this['lockTetromino'](this[_0x26ac84(0x107)]),this[_0x26ac84(0x15a)](),this[_0x26ac84(0x16a)](this[_0x26ac84(0x107)]),this['elapsed']=0x0;}}[_0x29f5e9(0x171)](_0x3117aa){const _0x62ec0f=_0x29f5e9;let _0x11f930=this[_0x62ec0f(0x177)][_0x62ec0f(0xf7)](this[_0x62ec0f(0x106)]['x']*this[_0x62ec0f(0x111)],0x0,'flares',{'frame':{'frames':[_0x62ec0f(0x170),_0x62ec0f(0xd2),_0x62ec0f(0xcd),_0x62ec0f(0x192),_0x62ec0f(0x154)],'cycle':!0x0},'blendMode':_0x62ec0f(0xe9),'lifespan':0x96,'quantity':0x1,'manualEmit':!0x0,'frequency':0x5,'alpha':{'start':0x1,'end':0x0},'scale':{'start':0.4,'end':0.1},'onComplete':()=>{const _0x4617d4=_0x62ec0f;_0x11f930[_0x4617d4(0x113)]();}});_0x11f930[_0x62ec0f(0x179)](),_0x11f930['addEmitZone']({'type':_0x62ec0f(0x199),'source':new Phaser[(_0x62ec0f(0xdc))][(_0x62ec0f(0xd3))](this[_0x62ec0f(0xf8)][_0x62ec0f(0xd8)](-5.75),this[_0x62ec0f(0xf8)]['tileToWorldY'](19.5-_0x3117aa),this[_0x62ec0f(0xf8)][_0x62ec0f(0xd8)](4.25),this[_0x62ec0f(0xf8)][_0x62ec0f(0xcc)](19.5-_0x3117aa)),'quantity':0xa,'total':0x1}),_0x11f930[_0x62ec0f(0x196)](0x32,0x32);}[_0x29f5e9(0x164)](){const _0x155490=_0x29f5e9;this[_0x155490(0x13c)](),this['addFullScreenToggle'](),_0x50db61(this),_0x523103(this),this[_0x155490(0x15a)](),this['graphics']=this[_0x155490(0x177)][_0x155490(0x102)](),this[_0x155490(0x16a)](this[_0x155490(0x107)]),console[_0x155490(0xfd)](window[_0x155490(0x14b)],window['innerHeight'],window[_0x155490(0x18f)]);}['drawQueue'](){const _0x250a07=_0x29f5e9;let _0x2de2f3=_0x35e98d();this[_0x250a07(0xd0)][_0x250a07(0x11b)](_0xce0155[_0x250a07(0x15b)],0x1,0x1,0x4,0x8,!0x0);for(let _0x11e8b4=0x0;_0x11e8b4<_0x2de2f3[_0x250a07(0x16c)];_0x11e8b4++){let _0x3568bc=_0x2de2f3[_0x11e8b4],_0x37a04c=_0x3568bc[_0x250a07(0xf9)](_0x250a07(0xe2)),_0x31c997=_0x3568bc[_0x250a07(0xf9)](_0x250a07(0xfc));for(let _0x140623=0x0;_0x140623<_0x37a04c[_0x250a07(0x16c)];_0x140623++)for(let _0xfc7818=0x0;_0xfc7818<_0x37a04c[_0x140623][_0x250a07(0x16c)]-0x1;_0xfc7818++)this[_0x250a07(0xd0)][_0x250a07(0x187)](_0x31c997,0x2+_0x37a04c[_0x140623][_0xfc7818],0x6-_0x11e8b4*0x3-_0x37a04c[_0x140623][_0xfc7818+0x1]+0x2,!0x1,'QueueLayer');}}[_0x29f5e9(0x144)](){const _0x12e0c8=_0x29f5e9;let _0x47e409=_0x150e80(),_0x5c1164=_0x47e409[_0x12e0c8(0xf9)]('cells'),_0x4206e8=_0x47e409[_0x12e0c8(0xf9)](_0x12e0c8(0xfc));this[_0x12e0c8(0x100)][_0x12e0c8(0x11b)](_0xce0155[_0x12e0c8(0x15b)],0x1,0x1,0x4,0x2,!0x0);for(let _0xe20f97=0x0;_0xe20f97<_0x5c1164[_0x12e0c8(0x16c)];_0xe20f97++)for(let _0x1edaab=0x0;_0x1edaab<_0x5c1164[_0xe20f97][_0x12e0c8(0x16c)]-0x1;_0x1edaab++)this[_0x12e0c8(0x100)]['putTileAt'](_0x4206e8,0x2+_0x5c1164[_0xe20f97][_0x1edaab],0x2-_0x5c1164[_0xe20f97][_0x1edaab+0x1],!0x1,'HoldLayer');}[_0x29f5e9(0x15a)](){const _0x58b25c=_0x29f5e9;for(this['activePiece']&&this[_0x58b25c(0x107)][_0x58b25c(0x113)](),this[_0x58b25c(0xf6)]&&this[_0x58b25c(0xf6)][_0x58b25c(0x113)](),this[_0x58b25c(0x107)]=_0x4c39ca(this,0x4,0x13,this['gameScale']),this[_0x58b25c(0xf6)]=_0x4afdfe(this,this[_0x58b25c(0x107)],this[_0x58b25c(0x111)]);_0x21a2ea(this[_0x58b25c(0x102)],this['map'],this[_0x58b25c(0x111)],this[_0x58b25c(0xf6)],[0x0,0x1]););this[_0x58b25c(0x16a)](this[_0x58b25c(0xf6)]),this[_0x58b25c(0x117)]();}[_0x29f5e9(0x129)](){const _0x4cf85a=_0x29f5e9;for(this[_0x4cf85a(0x120)](this[_0x4cf85a(0xf6)]),this['ghostPiece'][_0x4cf85a(0xd9)]('x',this[_0x4cf85a(0x107)][_0x4cf85a(0xf9)]('x')),this['ghostPiece'][_0x4cf85a(0xd9)]('y',this[_0x4cf85a(0x107)][_0x4cf85a(0xf9)]('y')),this['ghostPiece']['x']=this[_0x4cf85a(0xf8)][_0x4cf85a(0xd8)](this['activePiece'][_0x4cf85a(0xf9)]('x')),this[_0x4cf85a(0xf6)]['y']=this[_0x4cf85a(0xf8)]['tileToWorldY'](0x13-this[_0x4cf85a(0x107)][_0x4cf85a(0xf9)]('y')),this[_0x4cf85a(0xf6)][_0x4cf85a(0xd9)](_0x4cf85a(0xe2),_0x3331d8(this[_0x4cf85a(0x107)][_0x4cf85a(0xf9)](_0x4cf85a(0xe2)))),this[_0x4cf85a(0xf6)][_0x4cf85a(0xd9)](_0x4cf85a(0x12e),this[_0x4cf85a(0x107)][_0x4cf85a(0xf9)](_0x4cf85a(0x12e)));_0x21a2ea(this['graphics'],this['map'],this['gameScale'],this[_0x4cf85a(0xf6)],[0x0,0x1]););this[_0x4cf85a(0x16a)](this[_0x4cf85a(0xf6)]);}['update'](_0x17dfd5,_0x56172c){const _0x6bc008=_0x29f5e9;this[_0x6bc008(0xeb)]||(_0x4cc851(this),this[_0x6bc008(0x175)]+=_0x56172c,this['elapsed']>0x3e8&&(this[_0x6bc008(0x175)]=0x0),this[_0x6bc008(0x175)]===0x0&&this['activePiece']&&!DEBUG&&(this['clearTetromino'](this[_0x6bc008(0x107)]),_0x21a2ea(this[_0x6bc008(0x102)],this[_0x6bc008(0xf8)],this[_0x6bc008(0x111)],this[_0x6bc008(0x107)],[0x0,0x1])||(this[_0x6bc008(0x16a)](this['activePiece']),this[_0x6bc008(0x165)](this['activePiece']),this[_0x6bc008(0x15a)]()),this[_0x6bc008(0x16a)](this[_0x6bc008(0x107)])));}},_0x367272={'type':Phaser[_0x29f5e9(0x193)],'scale':{'mode':Phaser[_0x29f5e9(0x1aa)][_0x29f5e9(0x10a)],'parent':_0x29f5e9(0x15f),'autoCenter':Phaser[_0x29f5e9(0x1aa)][_0x29f5e9(0x11e)],'width':WIDTH,'height':HEIGHT},'width':WIDTH,'height':HEIGHT,'backgroundColor':_0x29f5e9(0x16f),'scene':[_0x157395]},_0x504110=new Phaser['Game'](_0x367272);})()));