function _0x3844(_0x1e9439,_0x2f1a0f){const _0x4482ea=_0x4482();return _0x3844=function(_0x384470,_0x164955){_0x384470=_0x384470-0x78;let _0x58b1a6=_0x4482ea[_0x384470];return _0x58b1a6;},_0x3844(_0x1e9439,_0x2f1a0f);}(function(_0x343eb7,_0x27a6b7){const _0x3ec67b=_0x3844,_0x5366ac=_0x343eb7();while(!![]){try{const _0x4cb46f=-parseInt(_0x3ec67b(0xd5))/0x1*(parseInt(_0x3ec67b(0xa8))/0x2)+-parseInt(_0x3ec67b(0x84))/0x3*(parseInt(_0x3ec67b(0xbb))/0x4)+parseInt(_0x3ec67b(0xdb))/0x5*(parseInt(_0x3ec67b(0x149))/0x6)+-parseInt(_0x3ec67b(0xc1))/0x7+-parseInt(_0x3ec67b(0xa4))/0x8+parseInt(_0x3ec67b(0x103))/0x9+-parseInt(_0x3ec67b(0xff))/0xa*(-parseInt(_0x3ec67b(0xd1))/0xb);if(_0x4cb46f===_0x27a6b7)break;else _0x5366ac['push'](_0x5366ac['shift']());}catch(_0x39d493){_0x5366ac['push'](_0x5366ac['shift']());}}}(_0x4482,0x1aaba),((()=>{const _0x4ef1fe=_0x3844;var _0x1f85c7=Tiles={'BLUE':0x0,'CYAN':0x1,'ORANGE':0x2,'YELLOW':0x3,'GREEN':0x4,'RED':0x5,'PURPLE':0x6,'BOARD':0x7,'BORDER_BOTTOM':0x8,'BORDER_LEFT':0x9,'BORDER_TOP':0xa,'BORDER_RIGHT':0xb,'GHOST':0xc,'HELPER':0xd,'EMPTY':0xe,'EMPTY2':0xf,'BORDER_CORNER_BOTTOM_LEFT':0x10,'BORDER_CORNER_TOP_LEFT':0x11,'BORDER_CORNER_TOP_RIGHT':0x12,'BORDER_CORNER_BOTTOM_RIGHT':0x13};cos=Math[_0x4ef1fe(0x107)](Math['PI']/0x2),sin=Math[_0x4ef1fe(0xea)](Math['PI']/0x2),RotationMatrix=[cos,sin,-sin,cos],TetrominoBag=[],TetrominoQueue=[],heldPiece=null,hasSwapped=!0x1;var _0x2ba2d7={'L':'L','I':'I','J':'J','O':'O','S':'S','T':'T','Z':'Z'},_0x45200c=()=>{const _0x581c65=_0x4ef1fe;if(TetrominoBag[_0x581c65(0xf6)]===0x0){let _0x47567a=Object['keys'](_0x2ba2d7);for(let _0x45e17d=_0x47567a[_0x581c65(0xf6)]-0x1;_0x45e17d>0x0;_0x45e17d--){let _0x350596=Math['floor'](Math[_0x581c65(0x152)]()*(_0x45e17d+0x1));[_0x47567a[_0x45e17d],_0x47567a[_0x350596]]=[_0x47567a[_0x350596],_0x47567a[_0x45e17d]];}TetrominoBag=[..._0x47567a];}let _0x6cb4d0=TetrominoBag[_0x581c65(0x127)]();return DEBUG&&console[_0x581c65(0xb2)](_0x581c65(0x111),TetrominoBag),_0x6cb4d0;};function _0x38a73b(){const _0x457a5b=_0x4ef1fe;return TetrominoBag['length']===0x0&&_0x45200c(),[...TetrominoBag[_0x457a5b(0x98)](0x0,0x3)];}var _0x403844={'L':_0x1f85c7[_0x4ef1fe(0xa0)],'I':_0x1f85c7[_0x4ef1fe(0xb7)],'J':_0x1f85c7['BLUE'],'O':_0x1f85c7['YELLOW'],'S':_0x1f85c7[_0x4ef1fe(0x12e)],'T':_0x1f85c7['PURPLE'],'Z':_0x1f85c7[_0x4ef1fe(0x9e)]},_0x389c88={'I':[[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]]],'JLOSTZ':[[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]]]},_0x3265c4={'I':[0x0,0x0],'O':[0x0,0x0],'J':[-0.5,0.5],'L':[-0.5,0.5],'S':[-0.5,0.5],'T':[-0.5,0.5],'Z':[-0.5,0.5]},_0x16ae69={'L':{'cells':[[0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x389c88['JLOSTZ'],'color':0xffa500},'I':{'cells':[[-0x1,0x1],[0x0,0x1],[0x1,0x1],[0x2,0x1]],'wallKicks':_0x389c88['I'],'color':0xffff},'J':{'cells':[[-0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x389c88[_0x4ef1fe(0x7c)],'color':0xff},'O':{'cells':[[0x0,0x0],[0x1,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x389c88['JLOSTZ'],'color':0xffff00},'S':{'cells':[[-0x1,0x0],[0x0,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x389c88[_0x4ef1fe(0x7c)],'color':0xff00},'T':{'cells':[[-0x1,0x0],[0x0,0x0],[0x1,0x0],[0x0,0x1]],'wallKicks':_0x389c88[_0x4ef1fe(0x7c)],'color':0x800080},'Z':{'cells':[[-0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x389c88[_0x4ef1fe(0x7c)],'color':0xff0000}};function _0x2e4d18(_0x573a3d){const _0x1709f1=_0x4ef1fe;return JSON[_0x1709f1(0x11c)](JSON[_0x1709f1(0x87)](_0x573a3d));}function _0x48302d(_0x48300f){const _0x48aaf8=_0x4ef1fe;let _0x828cc9=_0x38a73b();for(let _0x5c3bfa=0x0;_0x5c3bfa<_0x828cc9[_0x48aaf8(0xf6)];_0x5c3bfa++)TetrominoQueue[_0x48aaf8(0x91)](_0x38c33f(_0x48300f,_0x828cc9[_0x5c3bfa])),DEBUG&&console[_0x48aaf8(0xb2)]('Queue:\x20',TetrominoQueue);}function _0x38c33f(_0x14f677,_0x380a0a){const _0x58452b=_0x4ef1fe;let _0x144847=_0x16ae69[_0x380a0a],_0x17e94f=_0x14f677[_0x58452b(0xfe)][_0x58452b(0x130)](0x0,0x0);return _0x17e94f[_0x58452b(0x113)](_0x58452b(0xd6),_0x2e4d18(_0x144847['cells'])),_0x17e94f['setData']('color',_0x144847[_0x58452b(0x145)]),_0x17e94f[_0x58452b(0x113)]('wallKicks',_0x144847[_0x58452b(0x114)]),_0x17e94f['setData'](_0x58452b(0x159),_0x403844[_0x380a0a]),_0x17e94f[_0x58452b(0x113)](_0x58452b(0xf3),_0x380a0a),_0x17e94f[_0x58452b(0x113)](_0x58452b(0x12c),0x0),_0x17e94f[_0x58452b(0x113)](_0x58452b(0x97),[0x0,0x0]),_0x17e94f[_0x58452b(0x113)]('x',0x0),_0x17e94f['setData']('y',0x0),DEBUG&&console[_0x58452b(0xb2)](_0x58452b(0x129),_0x17e94f),_0x17e94f;}function _0x194f98(_0x58e003,_0x1782cb,_0x2cb32b,_0x4e4fed){const _0x173238=_0x4ef1fe;let _0x17404a=TetrominoQueue[_0x173238(0x127)]()[_0x173238(0xf7)](_0x4e4fed),_0x48da69=_0x17404a[_0x173238(0x8c)]('type');return _0x17404a[_0x173238(0x113)]('x',_0x1782cb),_0x17404a['setData']('y',_0x2cb32b-(_0x48da69===_0x16ae69['I']?0x1:0x0)),DEBUG&&console['log']('Spawned\x20tetromino:\x20',_0x17404a),TetrominoQueue['unshift'](_0x38c33f(_0x58e003,_0x45200c())),_0x17404a;}function _0x11fde5(){return TetrominoQueue;}function _0x369351(){return heldPiece;}function _0x21debd(_0x44f87d){const _0x2f0700=_0x4ef1fe;if(heldPiece){if(hasSwapped)return _0x44f87d['activePiece'];{let _0x2c104f=_0x38c33f(_0x44f87d,_0x44f87d[_0x2f0700(0x89)][_0x2f0700(0x8c)]('type')),_0x2eba6f=Object['assign'](heldPiece);return _0x2eba6f[_0x2f0700(0x113)]('x',_0x44f87d[_0x2f0700(0x89)][_0x2f0700(0x8c)]('x')),_0x2eba6f[_0x2f0700(0x113)]('y',_0x44f87d[_0x2f0700(0x89)][_0x2f0700(0x8c)]('y')),heldPiece=_0x2c104f,hasSwapped=!0x0,_0x2eba6f;}}else{heldPiece=_0x38c33f(_0x44f87d,_0x44f87d[_0x2f0700(0x89)][_0x2f0700(0x8c)]('type'));let _0x1238f9=_0x194f98(_0x44f87d,0x4,0x13,heldPiece[_0x2f0700(0x122)]);return hasSwapped=!0x0,_0x1238f9;}}function _0x28fabe(){hasSwapped=!0x1;}function _0x3d5a0d(){hasSwapped=!0x1,heldPiece=null;}function _0x4eb3af(_0x4d0fbb,_0x3acc42,_0x357c9e){const _0x53fbf4=_0x4ef1fe;let _0x4a1232=_0x3acc42[_0x53fbf4(0x8c)](_0x53fbf4(0xf3)),_0x3c8df9=_0x16ae69[_0x4a1232],_0x2d1180=_0x4d0fbb['add'][_0x53fbf4(0x130)](0x0,0x0)[_0x53fbf4(0xf7)](_0x357c9e);return _0x2d1180[_0x53fbf4(0x113)](_0x53fbf4(0x159),_0x1f85c7[_0x53fbf4(0x120)]),_0x2d1180[_0x53fbf4(0x113)]('cells',_0x2e4d18(_0x3acc42[_0x53fbf4(0x8c)](_0x53fbf4(0xd6)))),_0x2d1180['setData'](_0x53fbf4(0xf3),_0x3acc42['getData']('type')),_0x2d1180[_0x53fbf4(0x113)](_0x53fbf4(0x12c),_0x3acc42[_0x53fbf4(0x8c)]('rotationIndex')),_0x2d1180[_0x53fbf4(0x113)](_0x53fbf4(0x97),_0x3acc42[_0x53fbf4(0x8c)](_0x53fbf4(0x97))),_0x2d1180[_0x53fbf4(0x113)]('x',_0x3acc42[_0x53fbf4(0x8c)]('x')),_0x2d1180[_0x53fbf4(0x113)]('y',_0x3acc42[_0x53fbf4(0x8c)]('y')),_0x2d1180[_0x53fbf4(0x113)]('wallKicks',_0x3acc42[_0x53fbf4(0x8c)](_0x53fbf4(0x114))),_0x2d1180;}function _0x5749a5(_0x2da766,_0x247eb4,_0x15eca4){return _0x2da766<_0x247eb4?_0x15eca4-(_0x247eb4-_0x2da766)%(_0x15eca4-_0x247eb4):_0x247eb4+(_0x2da766-_0x247eb4)%(_0x15eca4-_0x247eb4);}function _0x492d87(_0x384dc9,_0x46a68c,_0x10411d,_0x31ea3e,_0x3326d8){const _0x1bb95d=_0x4ef1fe;originalRotation=_0x31ea3e[_0x1bb95d(0x8c)](_0x1bb95d(0x12c))||0x0,rotationIndex=_0x5749a5(originalRotation+_0x3326d8,0x0,0x4),DEBUG&&console[_0x1bb95d(0xb2)](_0x1bb95d(0x133),rotationIndex),_0x8287f6(_0x31ea3e,_0x3326d8),_0x3b6f9e(_0x384dc9,_0x46a68c,_0x10411d,_0x31ea3e,rotationIndex,_0x3326d8)||(rotationIndex=originalRotation,_0x8287f6(_0x31ea3e,-_0x3326d8)),_0x31ea3e['setData'](_0x1bb95d(0x12c),rotationIndex);}function _0x3b6f9e(_0x4a5cc4,_0x540c94,_0x2d9d56,_0x30a379,_0x4f0fb2,_0x290816){const _0x34c8c9=_0x4ef1fe;for(wallKicks=_0x30a379['getData'](_0x34c8c9(0x114)),wallKickIndex=_0x347ce2(_0x4f0fb2,_0x290816),DEBUG&&console[_0x34c8c9(0xb2)](_0x34c8c9(0xb3),wallKicks[wallKickIndex]),i=0x0;i<0x5;i++)if(translation=wallKicks[wallKickIndex][i],_0x244969(_0x4a5cc4,_0x540c94,_0x2d9d56,_0x30a379,translation,!0x0))return DEBUG&&console['log'](_0x34c8c9(0x105)),!0x0;return DEBUG&&console[_0x34c8c9(0xb2)](_0x34c8c9(0xec)),!0x1;}function _0x347ce2(_0x5348c1,_0x4b2e4d){return wallKickIndex=_0x5348c1*0x2,_0x4b2e4d<0x0&&wallKickIndex--,_0x5749a5(wallKickIndex,0x0,0x8);}function _0x11de13(_0x417d91,_0x3fac9d,_0x5ce7f4,_0x590c17,_0x1db7ce,_0xc77055){const _0x5f167d=_0x4ef1fe;let _0x29bf44=_0x590c17[_0x5f167d(0x8c)](_0x5f167d(0xd6)),_0xf6a87a=_0x590c17[_0x5f167d(0x8c)](_0x5f167d(0xf3)),_0x4a9c89=_0x590c17[_0x5f167d(0x8c)]('x'),_0x3a415c=_0x590c17[_0x5f167d(0x8c)]('y');DEBUG&&(_0x417d91[_0x5f167d(0xd9)](),DEBUG&&console[_0x5f167d(0xb2)](_0x5f167d(0x83),_0x1db7ce));for(let _0x53de67=0x0;_0x53de67<_0x29bf44[_0x5f167d(0xf6)];_0x53de67++){let _0x282beb=_0x4a9c89+_0x29bf44[_0x53de67][0x0]+_0x1db7ce[0x0],_0x5f2270=_0x3a415c+_0x29bf44[_0x53de67][0x1]-_0x1db7ce[0x1];if(DEBUG&&(wx=_0x3fac9d[_0x5f167d(0xa1)](_0x282beb),wy=_0x3fac9d[_0x5f167d(0x155)](0x14-_0x5f2270),_0x417d91[_0x5f167d(0x116)](0x1,0xff00ff),_0x417d91[_0x5f167d(0x112)](new Phaser[(_0x5f167d(0x101))][(_0x5f167d(0x86))](wx,wy,0x40*_0x5ce7f4,0x40*_0x5ce7f4))),_0x282beb%0x1!==0x0||_0x5f2270%0x1!==0x0)return DEBUG&&console[_0x5f167d(0xb2)](_0x5f167d(0x8b),_0x282beb,_0x5f2270),!0x1;let _0xef9600=_0x3fac9d[_0x5f167d(0x121)](_0x282beb,0x14-_0x5f2270);if(!_0xef9600||_0xef9600[_0x5f167d(0x12f)]!==_0x1f85c7[_0x5f167d(0x146)]&&_0xef9600[_0x5f167d(0x12f)]!==_0x1f85c7[_0x5f167d(0x120)])return DEBUG&&console[_0x5f167d(0xb2)](_0x5f167d(0xf1)),!0x1;}return!0x0;}function _0x244969(_0x369753,_0x4d421b,_0x2583fc,_0x2c26e5,_0x17f663,_0x1d9205){const _0x49da5e=_0x4ef1fe;return isValid=_0x11de13(_0x369753,_0x4d421b,_0x2583fc,_0x2c26e5,_0x17f663,_0x1d9205),isValid&&(_0x2c26e5[_0x49da5e(0x113)]('x',_0x2c26e5[_0x49da5e(0x8c)]('x')+_0x17f663[0x0]),_0x2c26e5['setData']('y',_0x2c26e5[_0x49da5e(0x8c)]('y')-_0x17f663[0x1]),_0x2c26e5['x']=_0x4d421b[_0x49da5e(0xa1)](_0x2c26e5[_0x49da5e(0x8c)]('x')),_0x2c26e5['y']=_0x4d421b['tileToWorldY'](0x13-_0x2c26e5[_0x49da5e(0x8c)]('y'))),isValid;}function _0x8287f6(_0x1460c5,_0x343759){const _0x10e926=_0x4ef1fe;let _0x2cda16=_0x3265c4[_0x1460c5['getData'](_0x10e926(0xf3))],_0x4ea015=_0x1460c5[_0x10e926(0x8c)](_0x10e926(0xd6)),_0x197cd0=_0x1460c5[_0x10e926(0x8c)](_0x10e926(0xf3)),_0x4159af=RotationMatrix,_0x267bd8=[],_0x40bee7=_0x197cd0===_0x2ba2d7['O']||_0x197cd0===_0x2ba2d7['I'];if(_0x40bee7){for(let _0x1761cf=0x0;_0x1761cf<_0x4ea015[_0x10e926(0xf6)];_0x1761cf++)_0x4ea015[_0x1761cf][0x0]-=0.5,_0x4ea015[_0x1761cf][0x1]-=0.5;}for(let _0x1d10b5=0x0;_0x1d10b5<_0x4ea015['length'];_0x1d10b5++){let _0x27edaf=parseFloat((_0x4ea015[_0x1d10b5][0x0]*_0x4159af[0x0]*_0x343759+_0x4ea015[_0x1d10b5][0x1]*_0x4159af[0x1]*_0x343759)[_0x10e926(0xca)](0x1)),_0x289f52=parseFloat((_0x4ea015[_0x1d10b5][0x0]*_0x4159af[0x2]*_0x343759+_0x4ea015[_0x1d10b5][0x1]*_0x4159af[0x3]*_0x343759)['toFixed'](0x1));_0x267bd8[_0x10e926(0x91)]([_0x40bee7?Math[_0x10e926(0xc3)](_0x27edaf):Math[_0x10e926(0xb6)](_0x27edaf),_0x40bee7?Math[_0x10e926(0xc3)](_0x289f52):Math['round'](_0x289f52)]);}return _0x1460c5['setData'](_0x10e926(0xd6),_0x267bd8),tmp=[parseFloat((_0x2cda16[0x0]*_0x4159af[0x0]*_0x343759+_0x2cda16[0x1]*_0x4159af[0x1]*_0x343759)[_0x10e926(0xca)](0x1)),parseFloat((_0x2cda16[0x0]*_0x4159af[0x2]*_0x343759+_0x2cda16[0x1]*_0x4159af[0x3]*_0x343759)['toFixed'](0x1))],_0x1460c5[_0x10e926(0x113)](_0x10e926(0x97),tmp),_0x267bd8;}function _0x1f0d4e(_0x4268d5){const _0x4f6a20=_0x4ef1fe;_0x4268d5[_0x4f6a20(0x14a)][_0x4f6a20(0xe0)](0x1),_0x4268d5[_0x4f6a20(0x14a)][_0x4f6a20(0x119)]['on'](_0x4f6a20(0x148),()=>{const _0x1a0438=_0x4f6a20;_0x4268d5[_0x1a0438(0x7d)]([-0x1,0x0]);}),_0x4268d5[_0x4f6a20(0x14a)][_0x4f6a20(0x119)]['on'](_0x4f6a20(0x10c),()=>{const _0x399ea0=_0x4f6a20;_0x4268d5[_0x399ea0(0x7d)]([0x1,0x0]);}),_0x4268d5['input'][_0x4f6a20(0x119)]['on'](_0x4f6a20(0x106),()=>{_0x4268d5['moveActivePiece']([0x0,0x1]);}),DEBUG&&_0x4268d5[_0x4f6a20(0x14a)][_0x4f6a20(0x119)]['on']('keydown-UP',()=>{const _0x7c0708=_0x4f6a20;_0x4268d5[_0x7c0708(0x7d)]([0x0,-0x1]);}),_0x4268d5[_0x4f6a20(0x14a)][_0x4f6a20(0x119)]['on'](_0x4f6a20(0x109),()=>{_0x4268d5['rotateActivePiece'](0x1);}),_0x4268d5[_0x4f6a20(0x14a)]['keyboard']['on'](_0x4f6a20(0xe1),()=>{_0x4268d5['rotateActivePiece'](-0x1);}),_0x4268d5[_0x4f6a20(0x14a)][_0x4f6a20(0x119)]['on'](_0x4f6a20(0x9c),()=>{const _0x550569=_0x4f6a20;_0x4268d5[_0x550569(0x138)]();}),_0x4268d5[_0x4f6a20(0x14a)][_0x4f6a20(0x119)]['on'](_0x4f6a20(0x7e),()=>{const _0x5786f6=_0x4f6a20;_0x4268d5[_0x5786f6(0x150)]();}),_0x4268d5['input'][_0x4f6a20(0x119)]['on'](_0x4f6a20(0x11d),()=>{const _0xe4849e=_0x4f6a20;_0x4268d5[_0xe4849e(0xa6)]['isPaused']()?_0x4268d5[_0xe4849e(0xa6)][_0xe4849e(0xe2)]():_0x4268d5[_0xe4849e(0xa6)][_0xe4849e(0xf8)]();}),_0x4268d5['input'][_0x4f6a20(0x119)]['on']('keydown-ESC',()=>{const _0x420892=_0x4f6a20;_0x4268d5[_0x420892(0xae)][_0x420892(0x143)](Tiles[_0x420892(0x146)]),_0x4268d5[_0x420892(0xae)][_0x420892(0x143)](null,0x0,0x0,BOARD_WIDTH,BOARD_HEIGHT,!0x0,_0x420892(0x14c)),_0x4268d5['clearHold'](),_0x4268d5['gameOver']=!0x1,_0x4268d5[_0x420892(0x92)](),_0x4268d5[_0x420892(0x8f)](_0x4268d5[_0x420892(0x89)]);});}isClicking=!0x1,dropped=!0x1,held=!0x1,clicked=!0x1,dragged=!0x1,touchDeltaX=0x0,touchDeltaY=0x0;function _0x51d2a0(_0x35da00){const _0x3644bc=_0x4ef1fe;if(_0x35da00[_0x3644bc(0x14a)][_0x3644bc(0x95)]['isDown']){clicked=!0x0;let _0x5b885a=Math['abs'](_0x35da00[_0x3644bc(0x14a)][_0x3644bc(0x95)]['x']-touchDeltaX),_0x50a6b1=Math['abs'](_0x35da00[_0x3644bc(0x14a)][_0x3644bc(0x95)]['y']-touchDeltaY);_0x5b885a>=0x4b&&_0x5b885a>_0x50a6b1?(_0x35da00[_0x3644bc(0x14a)][_0x3644bc(0x95)]['x']<touchDeltaX?swipeDirection=_0x3644bc(0x100):_0x35da00['input'][_0x3644bc(0x95)]['x']>touchDeltaX&&touchDeltaX!=0x0?swipeDirection='right':(swipeDirection='',touchDeltaX=0x0),touchDeltaX=_0x35da00[_0x3644bc(0x14a)]['activePointer']['x'],swipeDirection!=''&&(_0x35da00[_0x3644bc(0x7d)]([swipeDirection==_0x3644bc(0x100)?-0x1:0x1,0x0]),dragged=!0x0)):!dropped&&!held&&_0x50a6b1>=0xc8&&_0x50a6b1>_0x5b885a&&(_0x35da00[_0x3644bc(0x14a)][_0x3644bc(0x95)]['y']>touchDeltaY&&touchDeltaY!=0x0?swipeDirection='down':_0x35da00[_0x3644bc(0x14a)][_0x3644bc(0x95)]['y']<touchDeltaY&&touchDeltaY!=0x0?swipeDirection='up':(swipeDirection='',touchDeltaY=0x0),touchDeltaY=_0x35da00[_0x3644bc(0x14a)][_0x3644bc(0x95)]['y'],swipeDirection==_0x3644bc(0x11a)?(_0x35da00[_0x3644bc(0x138)](),dropped=!0x0):swipeDirection=='up'&&(_0x35da00['hold'](),held=!0x0));}else touchDeltaX=0x0,touchDeltaY=0x0,clicked&&!dragged&&!dropped&&!held&&(_0x35da00[_0x3644bc(0x14a)]['activePointer']['x']<_0x35da00[_0x3644bc(0xe3)]['x']?_0x35da00[_0x3644bc(0xe9)](-0x1):_0x35da00[_0x3644bc(0xe9)](0x1)),clicked=!0x1,dropped=!0x1,dragged=!0x1,held=!0x1;}WIDTH=0x320,HEIGHT=0x400,DEBUG=!0x1,BOARD_WIDTH=0xa,BOARD_HEIGHT=0x14,BLOCK_SIZE=0x40,swipeDirection='',touchDeltaX=0x0,touchDeltaY=0x0,swipeDelay=0x0;var _0x56a60b=class extends Phaser[_0x4ef1fe(0xc9)]{constructor(){const _0x2b7652=_0x4ef1fe;super({'key':_0x2b7652(0xbe),'active':!0x0}),this[_0x2b7652(0x130)],this[_0x2b7652(0x11b)]=Array[_0x2b7652(0x14b)]({'length':BOARD_HEIGHT},()=>Array['from']({'length':BOARD_WIDTH},()=>_0x1f85c7[_0x2b7652(0x146)])),this[_0x2b7652(0xae)],this['queueMap'],this['holdMap'],this[_0x2b7652(0xe3)]={'x':WIDTH/0x2,'y':HEIGHT/0x2},this[_0x2b7652(0x9b)]=this[_0x2b7652(0xe3)]['x']*0x2/0x8,this[_0x2b7652(0x110)]=this[_0x2b7652(0xe3)]['y']*0x2/0x14,this[_0x2b7652(0x154)]=this['deltaX']*2.5/this['center']['x'],this[_0x2b7652(0x147)]=this[_0x2b7652(0x110)]*2.5/this['center']['y'],this['adjustedBlockSize']=BLOCK_SIZE*this['gameScale'],this['elapsed']=0x0,this[_0x2b7652(0x89)],this[_0x2b7652(0x157)],this[_0x2b7652(0x99)],this[_0x2b7652(0x8d)]=!0x1,this['layer'],this[_0x2b7652(0xd3)],this['rockLayer'],this[_0x2b7652(0x158)],this[_0x2b7652(0x8e)],this['particleEmitter'];}[_0x4ef1fe(0xf2)](){const _0x1bcdb0=_0x4ef1fe;this[_0x1bcdb0(0xab)][_0x1bcdb0(0x144)]('block',[_0x1bcdb0(0xe6),'assets/Sprites/tetris_n.png']),this['load']['spritesheet'](_0x1bcdb0(0xd8),_0x1bcdb0(0x137),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this['load'][_0x1bcdb0(0xb9)]('blocks',_0x1bcdb0(0xe6),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this['load']['atlas']('flares',_0x1bcdb0(0xbd),_0x1bcdb0(0xef)),this['load'][_0x1bcdb0(0x144)]('trail','assets/particles/trail.png'),this['load']['image'](_0x1bcdb0(0xa7),_0x1bcdb0(0xac)),this[_0x1bcdb0(0xab)]['image'](_0x1bcdb0(0xbf),_0x1bcdb0(0xee)),this[_0x1bcdb0(0xab)][_0x1bcdb0(0x144)]('bg',_0x1bcdb0(0xb0));}[_0x4ef1fe(0x141)](){const _0x5b21cb=_0x4ef1fe;this[_0x5b21cb(0x13e)]=this[_0x5b21cb(0xd7)][_0x5b21cb(0xc2)]({'key':_0x5b21cb(0x78),'data':null,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x5b21cb(0xc5)]=this[_0x5b21cb(0x13e)][_0x5b21cb(0x118)](_0x5b21cb(0xeb),_0x5b21cb(0x79),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x5b21cb(0xd0)]=this['queueMap'][_0x5b21cb(0x85)](_0x5b21cb(0x104),this[_0x5b21cb(0xc5)],this['center']['x']+(BOARD_WIDTH+0.6)/0x2*BLOCK_SIZE*this[_0x5b21cb(0x154)],0x3*BLOCK_SIZE*this[_0x5b21cb(0x154)])['setScale'](this[_0x5b21cb(0x154)]*0.75),this[_0x5b21cb(0xd0)]['setPipeline']('Light2D'),this['queueMap'][_0x5b21cb(0x143)](_0x1f85c7[_0x5b21cb(0x156)],0x1,0x0,0x4,0x1),this[_0x5b21cb(0x13e)]['fill'](_0x1f85c7[_0x5b21cb(0xdf)],0x1,0x9,0x4,0x9),this[_0x5b21cb(0x13e)][_0x5b21cb(0x143)](_0x1f85c7[_0x5b21cb(0x81)],0x0,0x1,0x1,0x8),this[_0x5b21cb(0x13e)]['fill'](_0x1f85c7[_0x5b21cb(0x128)],0x5,0x1,0x1,0x8),this[_0x5b21cb(0x13e)][_0x5b21cb(0xa3)](_0x1f85c7[_0x5b21cb(0x108)],0x0,0x9),this['queueMap'][_0x5b21cb(0xa3)](_0x1f85c7['BORDER_CORNER_BOTTOM_RIGHT'],0x5,0x9),this['queueMap'][_0x5b21cb(0xa3)](_0x1f85c7[_0x5b21cb(0x13d)],0x0,0x0),this['queueMap'][_0x5b21cb(0xa3)](_0x1f85c7[_0x5b21cb(0xc6)],0x5,0x0),this[_0x5b21cb(0xf4)]=this[_0x5b21cb(0xfe)][_0x5b21cb(0x123)](WIDTH-0xcd*this[_0x5b21cb(0x154)],0xaa*this[_0x5b21cb(0x154)],_0x5b21cb(0x13a),{'font':_0x5b21cb(0x140),'fill':_0x5b21cb(0x8a)})[_0x5b21cb(0xce)](_0x5b21cb(0xf4));}[_0x4ef1fe(0x9a)](){const _0x17329d=_0x4ef1fe;let _0x52044e=Array[_0x17329d(0x14b)]({'length':0x4},()=>Array[_0x17329d(0x14b)]({'length':0x6},()=>_0x1f85c7[_0x17329d(0x146)]));this[_0x17329d(0x151)]=this['make']['tilemap']({'key':_0x17329d(0x78),'data':_0x52044e,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x17329d(0xc0)]=this[_0x17329d(0x151)][_0x17329d(0x118)](_0x17329d(0xeb),'block',BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x17329d(0x82)]=this['holdMap'][_0x17329d(0x85)]('HoldLayer',this['queueTiles'],this[_0x17329d(0xe3)]['x']-(BOARD_WIDTH+9.6)/0x2*BLOCK_SIZE*this[_0x17329d(0x154)],0x3*BLOCK_SIZE*this[_0x17329d(0x154)])[_0x17329d(0xf7)](this[_0x17329d(0x154)]*0.75),this[_0x17329d(0x82)][_0x17329d(0x11e)](_0x17329d(0xcb)),this[_0x17329d(0x151)][_0x17329d(0x143)](_0x1f85c7[_0x17329d(0x146)],0x1,0x1,0x4,0x2,!0x0),this[_0x17329d(0x151)][_0x17329d(0x143)](_0x1f85c7[_0x17329d(0x156)],0x1,0x0,0x4,0x1),this[_0x17329d(0x151)][_0x17329d(0x143)](_0x1f85c7['BORDER_BOTTOM'],0x1,0x3,0x4,0x3),this['holdMap'][_0x17329d(0x143)](_0x1f85c7[_0x17329d(0x81)],0x0,0x1,0x1,0x2),this[_0x17329d(0x151)][_0x17329d(0x143)](_0x1f85c7[_0x17329d(0x128)],0x5,0x1,0x1,0x2),this[_0x17329d(0x151)][_0x17329d(0xa3)](_0x1f85c7[_0x17329d(0x108)],0x0,0x3),this[_0x17329d(0x151)]['putTileAt'](_0x1f85c7['BORDER_CORNER_BOTTOM_RIGHT'],0x5,0x3),this[_0x17329d(0x151)][_0x17329d(0xa3)](_0x1f85c7[_0x17329d(0x13d)],0x0,0x0),this[_0x17329d(0x151)]['putTileAt'](_0x1f85c7['BORDER_CORNER_TOP_RIGHT'],0x5,0x0),this[_0x17329d(0xaa)]=this['add']['text'](0x62*this[_0x17329d(0x154)],0xaa*this[_0x17329d(0x154)],_0x17329d(0xc7),{'font':'28px\x20Exo','fill':'#00DDFF'})[_0x17329d(0xce)](_0x17329d(0xaa));}[_0x4ef1fe(0xf5)](){const _0x5da4a9=_0x4ef1fe;this[_0x5da4a9(0xae)]=this[_0x5da4a9(0xd7)]['tilemap']({'key':_0x5da4a9(0x88),'data':this[_0x5da4a9(0x11b)],'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x1203f6=this[_0x5da4a9(0xae)][_0x5da4a9(0x118)](_0x5da4a9(0xeb),_0x5da4a9(0x79),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);this[_0x5da4a9(0xd3)]=this[_0x5da4a9(0xae)][_0x5da4a9(0x85)](_0x5da4a9(0x14c),_0x1203f6,this[_0x5da4a9(0xe3)]['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x5da4a9(0x154)],0x3*BLOCK_SIZE*this[_0x5da4a9(0x154)])['setScale'](this[_0x5da4a9(0x154)]),this['layer']=this['map'][_0x5da4a9(0x85)](_0x5da4a9(0x142),_0x1203f6,this[_0x5da4a9(0xe3)]['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x5da4a9(0x154)],0x3*BLOCK_SIZE*this[_0x5da4a9(0x154)])[_0x5da4a9(0xf7)](this[_0x5da4a9(0x154)]),this[_0x5da4a9(0x14d)][_0x5da4a9(0x11e)](_0x5da4a9(0xcb)),this['layer'][_0x5da4a9(0xba)](0x1),this[_0x5da4a9(0xae)]['fill'](_0x1f85c7[_0x5da4a9(0x146)]);}[_0x4ef1fe(0x13c)](){const _0x356753=_0x4ef1fe;this[_0x356753(0xfe)]['image'](this[_0x356753(0xe3)]['x'],this[_0x356753(0xe3)]['y'],'bg')['setScale'](this[_0x356753(0x154)]*1.6),this[_0x356753(0x15b)][_0x356753(0x136)]()[_0x356753(0xf9)](0xeeeeee);let _0x4afbfa=this[_0x356753(0x15b)]['addLight'](WIDTH,-HEIGHT,HEIGHT*0x3,0xffffff,0x4);this[_0x356753(0x141)](),this[_0x356753(0x9a)](),this['createGameMap']();}[_0x4ef1fe(0xcf)](_0x23f92b,_0x168b38){const _0x4e4eba=_0x4ef1fe;return _0x23f92b%0x1!==0x0||_0x168b38%0x1!==0x0?(DEBUG&&console['log'](_0x4e4eba(0xe4),_0x23f92b,_0x168b38),!0x0):!0x1;}[_0x4ef1fe(0x7a)](_0x3f8a5f,_0x2fb31f,_0x582084){const _0x232674=_0x4ef1fe;this[_0x232674(0xcf)](_0x3f8a5f,_0x2fb31f)||(this[_0x232674(0xae)][_0x232674(0xa3)](_0x582084,_0x3f8a5f,BOARD_HEIGHT-_0x2fb31f,!0x1,_0x582084===_0x1f85c7[_0x232674(0x120)]?_0x232674(0x14c):_0x232674(0x142)),_0x582084===_0x1f85c7[_0x232674(0x146)]&&this[_0x232674(0xae)][_0x232674(0xcd)](_0x3f8a5f,BOARD_HEIGHT-_0x2fb31f,!0x0,!0x1,_0x232674(0x14c)));}[_0x4ef1fe(0xc4)](_0x39a5ad,_0x5e00fa){const _0x154525=_0x4ef1fe;return this[_0x154525(0xcf)](_0x39a5ad,_0x5e00fa)?null:this[_0x154525(0xae)][_0x154525(0x121)](_0x39a5ad,BOARD_HEIGHT-_0x5e00fa,!0x1,this['layer']);}['setTetromino'](_0x4babce){const _0x1363d8=_0x4ef1fe;let _0x4cb711=_0x4babce['getData'](_0x1363d8(0xd6)),_0x5da99f=_0x4babce[_0x1363d8(0x8c)]('x'),_0x510718=_0x4babce[_0x1363d8(0x8c)]('y');if(this[_0x1363d8(0xcf)](_0x5da99f,_0x510718)){DEBUG&&console['log'](_0x1363d8(0xb8),_0x4babce);return;}for(let _0x52b41a=0x0;_0x52b41a<_0x4cb711[_0x1363d8(0xf6)];_0x52b41a++)for(let _0x24774b=0x0;_0x24774b<_0x4cb711[_0x52b41a]['length']-0x1;_0x24774b++){if(this[_0x1363d8(0xcf)](_0x4cb711[_0x52b41a][_0x24774b],_0x4cb711[_0x52b41a][_0x24774b+0x1])){DEBUG&&console[_0x1363d8(0xb2)](_0x1363d8(0x13f),tetrommino);return;}let _0x3e753d=this[_0x1363d8(0xc4)](_0x5da99f+_0x4cb711[_0x52b41a][_0x24774b],_0x510718+_0x4cb711[_0x52b41a][_0x24774b+0x1]);if(_0x3e753d&&_0x3e753d[_0x1363d8(0x12f)]===_0x1f85c7['BOARD'])this[_0x1363d8(0x7a)](_0x5da99f+_0x4cb711[_0x52b41a][_0x24774b],_0x510718+_0x4cb711[_0x52b41a][_0x24774b+0x1],_0x4babce[_0x1363d8(0x8c)](_0x1363d8(0x159)));else{this['gameOver']=!0x0;return;}}}[_0x4ef1fe(0xfa)](){const _0x5f40a8=_0x4ef1fe;this['holdMap'][_0x5f40a8(0x143)](_0x1f85c7[_0x5f40a8(0x146)],0x1,0x1,0x4,0x2,!0x0),this[_0x5f40a8(0xaa)][_0x5f40a8(0x9d)](_0x5f40a8(0xc7)),_0x3d5a0d();}['clearTetromino'](_0x266e01){const _0x2be1b2=_0x4ef1fe;let _0x5d38fe=_0x266e01[_0x2be1b2(0x8c)](_0x2be1b2(0xd6)),_0x4d4347=_0x266e01[_0x2be1b2(0x8c)]('x'),_0xd9a49d=_0x266e01[_0x2be1b2(0x8c)]('y');if(!this[_0x2be1b2(0xcf)](_0x4d4347,_0xd9a49d)){for(let _0x1c7087=0x0;_0x1c7087<_0x5d38fe['length'];_0x1c7087++)for(let _0x650704=0x0;_0x650704<_0x5d38fe[_0x1c7087]['length']-0x1;_0x650704++){if(this[_0x2be1b2(0xcf)](_0x5d38fe[_0x1c7087][_0x650704],_0x5d38fe[_0x1c7087][_0x650704+0x1]))return;this[_0x2be1b2(0x7a)](_0x4d4347+_0x5d38fe[_0x1c7087][_0x650704],_0xd9a49d+_0x5d38fe[_0x1c7087][_0x650704+0x1],_0x1f85c7[_0x2be1b2(0x146)]);}}}[_0x4ef1fe(0xa5)](){const _0x41c8d6=_0x4ef1fe;let _0x33dafa=this[_0x41c8d6(0xfe)][_0x41c8d6(0x144)](WIDTH-0x10,0x10,_0x41c8d6(0xd8),0x0)[_0x41c8d6(0x12b)](0x1,0x0)[_0x41c8d6(0xf7)](0.25)[_0x41c8d6(0x14e)]();_0x33dafa['on']('pointerup',function(){const _0x34d676=_0x41c8d6;this[_0x34d676(0x122)][_0x34d676(0xe7)]?(_0x33dafa[_0x34d676(0x135)](0x0),this['scale'][_0x34d676(0x10f)]()):(_0x33dafa[_0x34d676(0x135)](0x1),this[_0x34d676(0x122)][_0x34d676(0x10e)]());},this);}['moveActivePiece'](_0x76c21e){const _0x3aca04=_0x4ef1fe;this[_0x3aca04(0x89)]&&(this[_0x3aca04(0x12a)](this[_0x3aca04(0x89)]),_0x244969(this[_0x3aca04(0x99)],this['map'],this[_0x3aca04(0x154)],this['activePiece'],_0x76c21e),this[_0x3aca04(0xb5)](),this['setTetromino'](this[_0x3aca04(0x89)]));}['hold'](){const _0x3115fb=_0x4ef1fe;let _0x4e58fe=this[_0x3115fb(0x89)][_0x3115fb(0x8c)](_0x3115fb(0xf3));this['clearTetromino'](this['activePiece']);let _0x3042a5=_0x21debd(this);if(_0x3042a5===this['activePiece']){this['holdText'][_0x3115fb(0x14f)](_0x3115fb(0x117)),this[_0x3115fb(0x153)]['add']({'targets':this['holdText'],'x':this[_0x3115fb(0xaa)]['x']-0xa,'duration':0x14,'yoyo':!0x1,'repeat':0x0,'onComplete':()=>{const _0x27f40c=_0x3115fb;this['holdText']['x']=0x58*this[_0x27f40c(0x154)],this['tweens']['add']({'targets':this[_0x27f40c(0xaa)],'x':this[_0x27f40c(0xaa)]['x']+0x14,'duration':0x3c,'yoyo':!0x0,'repeat':0x1,'ease':_0x27f40c(0xf0),'onComplete':()=>{const _0xaa8a4e=_0x27f40c;this[_0xaa8a4e(0xaa)]['x']=0x59*this['gameScale'],this['holdText'][_0xaa8a4e(0x14f)](_0xaa8a4e(0x8a));}});}});let _0x2e8bfe=this['getBoundingBox'](this[_0x3115fb(0x89)]);this[_0x3115fb(0x99)][_0x3115fb(0x116)](0x4,0xff0000,0x1),this[_0x3115fb(0x99)]['strokeRectShape'](_0x2e8bfe),this[_0x3115fb(0x153)][_0x3115fb(0xfe)]({'targets':this['graphics'],'alpha':0x0,'duration':0x1f4,'ease':'Linear','onComplete':()=>{const _0x1fcc98=_0x3115fb;this[_0x1fcc98(0x99)][_0x1fcc98(0xd9)](),this['graphics'][_0x1fcc98(0x139)]=0x1;}});}else this[_0x3115fb(0xaa)]['setText'](_0x3115fb(0x15a)),this[_0x3115fb(0x89)]=_0x3042a5,this[_0x3115fb(0xdd)](),this[_0x3115fb(0xe5)]();this[_0x3115fb(0xb5)](),this[_0x3115fb(0x8f)](this[_0x3115fb(0x89)]);}[_0x4ef1fe(0xe9)](_0x118f8f){const _0x29c957=_0x4ef1fe;this[_0x29c957(0x12a)](this['activePiece']),_0x492d87(this[_0x29c957(0x99)],this['map'],this[_0x29c957(0x154)],this[_0x29c957(0x89)],_0x118f8f),this[_0x29c957(0xb5)](),this[_0x29c957(0x8f)](this[_0x29c957(0x89)]);}['lockTetromino'](_0x5d99e1){const _0x1fa8c1=_0x4ef1fe;_0x28fabe();let _0x83a3e0=new Set(),_0x325909=_0x5d99e1[_0x1fa8c1(0x8c)]('cells'),_0x3aaa09=_0x5d99e1[_0x1fa8c1(0x8c)]('x'),_0x5d7256=_0x5d99e1[_0x1fa8c1(0x8c)]('y');if(!this[_0x1fa8c1(0xcf)](_0x3aaa09,_0x5d7256)){for(let _0x46bd1a=0x0;_0x46bd1a<_0x325909['length'];_0x46bd1a++)for(let _0x54c99a=0x0;_0x54c99a<_0x325909[_0x46bd1a][_0x1fa8c1(0xf6)]-0x1;_0x54c99a++){if(this[_0x1fa8c1(0xcf)](_0x325909[_0x46bd1a][_0x54c99a],_0x325909[_0x46bd1a][_0x54c99a+0x1]))return;_0x83a3e0[_0x1fa8c1(0xfe)](_0x5d7256+_0x325909[_0x46bd1a][_0x54c99a+0x1]);}_0x83a3e0=Array[_0x1fa8c1(0x14b)](_0x83a3e0)[_0x1fa8c1(0xcc)]((_0x3b395d,_0x138abc)=>_0x138abc-_0x3b395d);for(let _0x29c044=0x0;_0x29c044<_0x83a3e0[_0x1fa8c1(0xf6)];_0x29c044++){let _0x11d90d=_0x83a3e0[_0x29c044],_0x102e67=!0x0;for(let _0x387dae=0x0;_0x387dae<BOARD_WIDTH;_0x387dae++){let _0x50169b=this['getTile'](_0x387dae,_0x11d90d);if(!_0x50169b||_0x50169b[_0x1fa8c1(0x12f)]===_0x1f85c7[_0x1fa8c1(0x146)]){_0x102e67=!0x1;break;}}if(_0x102e67){for(let _0x3b4212=0x0;_0x3b4212<BOARD_WIDTH;_0x3b4212++)this[_0x1fa8c1(0x7a)](_0x3b4212,_0x11d90d,_0x1f85c7['BOARD']);for(let _0x1aa3cf=_0x11d90d+0x1;_0x1aa3cf<BOARD_HEIGHT;_0x1aa3cf++)for(let _0x48ff47=0x0;_0x48ff47<BOARD_WIDTH;_0x48ff47++){let _0x21400e=this[_0x1fa8c1(0xc4)](_0x48ff47,_0x1aa3cf);_0x21400e&&_0x21400e[_0x1fa8c1(0x12f)]!==_0x1f85c7[_0x1fa8c1(0x146)]&&(this[_0x1fa8c1(0x7a)](_0x48ff47,_0x1aa3cf-0x1,_0x21400e[_0x1fa8c1(0x12f)]),this[_0x1fa8c1(0x7a)](_0x48ff47,_0x1aa3cf,_0x1f85c7['BOARD']));}this[_0x1fa8c1(0x11f)](_0x11d90d-0x1);}}}}[_0x4ef1fe(0xe8)](_0x1da413){const _0xaf8210=_0x4ef1fe;let _0x907451=_0x1da413[_0xaf8210(0x8c)](_0xaf8210(0xd6)),_0x2dcda7=_0x1da413[_0xaf8210(0x8c)]('x'),_0x5dd9cd=_0x1da413[_0xaf8210(0x8c)]('y');if(this[_0xaf8210(0xcf)](_0x2dcda7,_0x5dd9cd))return;let _0x39c28d=BOARD_WIDTH,_0x2c1c8f=0x0,_0x259724=BOARD_HEIGHT,_0xfd4330=0x0;for(let _0x3602ef=0x0;_0x3602ef<_0x907451[_0xaf8210(0xf6)];_0x3602ef++)for(let _0x534954=0x0;_0x534954<_0x907451[_0x3602ef]['length']-0x1;_0x534954++){if(this['checkFractions'](_0x907451[_0x3602ef][_0x534954],_0x907451[_0x3602ef][_0x534954+0x1]))return;_0x39c28d=Math['min'](_0x39c28d,_0x2dcda7+_0x907451[_0x3602ef][_0x534954]),_0x2c1c8f=Math['max'](_0x2c1c8f,_0x2dcda7+_0x907451[_0x3602ef][_0x534954]),_0x259724=Math['min'](_0x259724,_0x5dd9cd+_0x907451[_0x3602ef][_0x534954+0x1]),_0xfd4330=Math[_0xaf8210(0xaf)](_0xfd4330,_0x5dd9cd+_0x907451[_0x3602ef][_0x534954+0x1]);}return new Phaser[(_0xaf8210(0x101))][(_0xaf8210(0x86))](this[_0xaf8210(0xae)]['tileToWorldX'](_0x39c28d),this[_0xaf8210(0xae)][_0xaf8210(0x155)](0x13-_0xfd4330)+BLOCK_SIZE*this[_0xaf8210(0x154)],this[_0xaf8210(0xae)][_0xaf8210(0xa1)](_0x2c1c8f)-this[_0xaf8210(0xae)][_0xaf8210(0xa1)](_0x39c28d)+BLOCK_SIZE*this[_0xaf8210(0x154)],this[_0xaf8210(0xae)]['tileToWorldY'](0x13-_0x259724)-this[_0xaf8210(0xae)][_0xaf8210(0x155)](0x13-_0xfd4330)+BLOCK_SIZE*this[_0xaf8210(0x154)]);}[_0x4ef1fe(0x12d)](){const _0x4535a9=_0x4ef1fe;let _0x18dcf1=this[_0x4535a9(0xe8)](this[_0x4535a9(0x89)]),_0x19daf9=this['getBoundingBox'](this['ghostPiece']),_0x2b8f15=this[_0x4535a9(0xfe)]['image'](_0x18dcf1['centerX'],_0x18dcf1[_0x4535a9(0x9f)],_0x4535a9(0x132));_0x2b8f15[_0x4535a9(0x12b)](0.5,0x0),_0x2b8f15[_0x4535a9(0xfd)](this[_0x4535a9(0x89)][_0x4535a9(0x8c)](_0x4535a9(0x145))),_0x2b8f15[_0x4535a9(0x124)]=_0x18dcf1[_0x4535a9(0xed)],_0x2b8f15[_0x4535a9(0x90)]=_0x19daf9['y']-_0x18dcf1['y'],_0x2b8f15[_0x4535a9(0x7b)]=0x0,this[_0x4535a9(0x153)]['add']({'targets':_0x2b8f15,'displayHeight':0x0,'y':_0x19daf9['y'],'alpha':0x0,'duration':0xc8,'ease':_0x4535a9(0xde),'onComplete':()=>{const _0x58e74a=_0x4535a9;_0x2b8f15[_0x58e74a(0xbc)]();}});let _0xac095e=this[_0x4535a9(0xfe)][_0x4535a9(0xda)](_0x19daf9[_0x4535a9(0x80)],_0x19daf9['y'],_0x4535a9(0xbf),{'speed':{'min':0x190,'max':0x3e8},'angle':{'min':-0x69,'max':-0x4b},'scale':{'start':0.1,'end':0x0},'alpha':{'start':0.4,'end':0x0},'quantity':0x5,'lifespan':0x1f4,'blendMode':'ADD','gravityY':0x64,'on':!0x1,'onComplete':()=>{const _0xa1b7c0=_0x4535a9;_0xac095e[_0xa1b7c0(0xbc)]();}});_0xac095e[_0x4535a9(0x115)](),this[_0x4535a9(0xd2)][_0x4535a9(0x96)][_0x4535a9(0x10a)](0x64,0.0025-0.0005*(this['ghostPiece'][_0x4535a9(0x8c)]('y')-this[_0x4535a9(0x89)][_0x4535a9(0x8c)]('y')));}['drop'](){const _0x49f556=_0x4ef1fe;if(!this[_0x49f556(0x8d)]){for(this[_0x49f556(0x12d)](),this[_0x49f556(0x12a)](this[_0x49f556(0x89)]),this[_0x49f556(0x12a)](this['ghostPiece']);_0x244969(this[_0x49f556(0x99)],this[_0x49f556(0xae)],this[_0x49f556(0x154)],this[_0x49f556(0x89)],[0x0,0x1]););this[_0x49f556(0x8f)](this[_0x49f556(0x89)]),this[_0x49f556(0x134)](this[_0x49f556(0x89)]),this[_0x49f556(0x92)](),this['setTetromino'](this[_0x49f556(0x89)]),this[_0x49f556(0xb1)]=0x0;}}['showRowClearFX'](_0x10e551){const _0x13a8a8=_0x4ef1fe;let _0x427098=this['add']['particles'](this[_0x13a8a8(0xe3)]['x']*this[_0x13a8a8(0x154)],0x0,_0x13a8a8(0xfc),{'frame':{'frames':[_0x13a8a8(0x94),_0x13a8a8(0xa2),'pink',_0x13a8a8(0x13b),_0x13a8a8(0x10d)],'cycle':!0x0},'blendMode':'ADD','lifespan':0x96,'quantity':0x1,'manualEmit':!0x0,'frequency':0x5,'alpha':{'start':0x1,'end':0x0},'scale':{'start':0.4,'end':0.1},'onComplete':()=>{const _0x5f0d06=_0x13a8a8;_0x427098[_0x5f0d06(0xbc)]();}});_0x427098[_0x13a8a8(0xba)](0x2),_0x427098[_0x13a8a8(0x10b)](),_0x427098[_0x13a8a8(0xad)]({'type':_0x13a8a8(0x126),'source':new Phaser[(_0x13a8a8(0x101))][(_0x13a8a8(0xc8))](this[_0x13a8a8(0xae)][_0x13a8a8(0xa1)](-5.75),this[_0x13a8a8(0xae)]['tileToWorldY'](19.5-_0x10e551),this['map']['tileToWorldX'](4.25),this[_0x13a8a8(0xae)]['tileToWorldY'](19.5-_0x10e551)),'quantity':0xa,'total':0x1}),_0x427098[_0x13a8a8(0x125)](0x32,0x32);}[_0x4ef1fe(0x131)](){const _0x373cc7=_0x4ef1fe;this[_0x373cc7(0x13c)](),this['addFullScreenToggle'](),_0x48302d(this),_0x1f0d4e(this),this[_0x373cc7(0x92)](),this[_0x373cc7(0x99)]=this[_0x373cc7(0xfe)]['graphics'](),this[_0x373cc7(0x8f)](this['activePiece']),console['log'](window[_0x373cc7(0x102)],window[_0x373cc7(0xa9)],window[_0x373cc7(0xdc)]);}[_0x4ef1fe(0xdd)](){const _0xfdd6bf=_0x4ef1fe;let _0x46bfa4=_0x11fde5();this[_0xfdd6bf(0x13e)][_0xfdd6bf(0x143)](_0x1f85c7[_0xfdd6bf(0x146)],0x1,0x1,0x4,0x8,!0x0);for(let _0x2f2c2c=0x0;_0x2f2c2c<_0x46bfa4['length'];_0x2f2c2c++){let _0x1341a2=_0x46bfa4[_0x2f2c2c],_0x57c63e=_0x1341a2[_0xfdd6bf(0x8c)](_0xfdd6bf(0xd6)),_0x36e667=_0x1341a2['getData'](_0xfdd6bf(0x159));for(let _0x3b9f01=0x0;_0x3b9f01<_0x57c63e[_0xfdd6bf(0xf6)];_0x3b9f01++)for(let _0x3a87a7=0x0;_0x3a87a7<_0x57c63e[_0x3b9f01][_0xfdd6bf(0xf6)]-0x1;_0x3a87a7++)this[_0xfdd6bf(0x13e)][_0xfdd6bf(0xa3)](_0x36e667,0x2+_0x57c63e[_0x3b9f01][_0x3a87a7],0x6-_0x2f2c2c*0x3-_0x57c63e[_0x3b9f01][_0x3a87a7+0x1]+0x2,!0x1,_0xfdd6bf(0x104));}}[_0x4ef1fe(0xe5)](){const _0x48b5e9=_0x4ef1fe;let _0x5a2ee2=_0x369351(),_0x5b7aad=_0x5a2ee2[_0x48b5e9(0x8c)](_0x48b5e9(0xd6)),_0x37ce4f=_0x5a2ee2['getData'](_0x48b5e9(0x159));this[_0x48b5e9(0x151)]['fill'](_0x1f85c7[_0x48b5e9(0x146)],0x1,0x1,0x4,0x2,!0x0);for(let _0x4a1c87=0x0;_0x4a1c87<_0x5b7aad[_0x48b5e9(0xf6)];_0x4a1c87++)for(let _0x42fbfb=0x0;_0x42fbfb<_0x5b7aad[_0x4a1c87]['length']-0x1;_0x42fbfb++)this[_0x48b5e9(0x151)][_0x48b5e9(0xa3)](_0x37ce4f,0x2+_0x5b7aad[_0x4a1c87][_0x42fbfb],0x2-_0x5b7aad[_0x4a1c87][_0x42fbfb+0x1],!0x1,'HoldLayer');}[_0x4ef1fe(0x92)](){const _0x166eff=_0x4ef1fe;for(this[_0x166eff(0x89)]&&this['activePiece'][_0x166eff(0xbc)](),this['ghostPiece']&&this[_0x166eff(0x157)][_0x166eff(0xbc)](),this[_0x166eff(0x89)]=_0x194f98(this,0x4,0x13,this[_0x166eff(0x154)]),this['ghostPiece']=_0x4eb3af(this,this['activePiece'],this[_0x166eff(0x154)]);_0x244969(this['graphics'],this[_0x166eff(0xae)],this[_0x166eff(0x154)],this[_0x166eff(0x157)],[0x0,0x1]););this[_0x166eff(0x8f)](this[_0x166eff(0x157)]),this['drawQueue']();}[_0x4ef1fe(0xb5)](){const _0x2270fc=_0x4ef1fe;for(this[_0x2270fc(0x12a)](this['ghostPiece']),this['ghostPiece']['setData']('x',this[_0x2270fc(0x89)]['getData']('x')),this[_0x2270fc(0x157)][_0x2270fc(0x113)]('y',this[_0x2270fc(0x89)]['getData']('y')),this[_0x2270fc(0x157)]['x']=this[_0x2270fc(0xae)][_0x2270fc(0xa1)](this['activePiece'][_0x2270fc(0x8c)]('x')),this[_0x2270fc(0x157)]['y']=this[_0x2270fc(0xae)][_0x2270fc(0x155)](0x13-this[_0x2270fc(0x89)][_0x2270fc(0x8c)]('y')),this['ghostPiece'][_0x2270fc(0x113)](_0x2270fc(0xd6),_0x2e4d18(this['activePiece'][_0x2270fc(0x8c)]('cells'))),this['ghostPiece'][_0x2270fc(0x113)]('rotationIndex',this[_0x2270fc(0x89)][_0x2270fc(0x8c)](_0x2270fc(0x12c)));_0x244969(this[_0x2270fc(0x99)],this['map'],this[_0x2270fc(0x154)],this[_0x2270fc(0x157)],[0x0,0x1]););this[_0x2270fc(0x8f)](this[_0x2270fc(0x157)]);}['update'](_0xc6afa4,_0x2c980c){const _0x147b24=_0x4ef1fe;this[_0x147b24(0x8d)]||(_0x51d2a0(this),this[_0x147b24(0xb1)]+=_0x2c980c,this[_0x147b24(0xb1)]>0x3e8&&(this[_0x147b24(0xb1)]=0x0),this[_0x147b24(0xb1)]===0x0&&this[_0x147b24(0x89)]&&!DEBUG&&(this[_0x147b24(0x12a)](this[_0x147b24(0x89)]),_0x244969(this[_0x147b24(0x99)],this[_0x147b24(0xae)],this['gameScale'],this[_0x147b24(0x89)],[0x0,0x1])||(this[_0x147b24(0x8f)](this[_0x147b24(0x89)]),this['lockTetromino'](this[_0x147b24(0x89)]),this[_0x147b24(0x92)]()),this[_0x147b24(0x8f)](this[_0x147b24(0x89)])));}},_0x1368af={'type':Phaser[_0x4ef1fe(0x7f)],'scale':{'mode':Phaser['Scale']['FIT'],'parent':'jetris','autoCenter':Phaser[_0x4ef1fe(0x93)][_0x4ef1fe(0xb4)],'width':WIDTH,'height':HEIGHT},'width':WIDTH,'height':HEIGHT,'backgroundColor':_0x4ef1fe(0xd4),'scene':[_0x56a60b]},_0x456dd4=new Phaser[(_0x4ef1fe(0xfb))](_0x1368af);})()));function _0x4482(){const _0x5b1db2=['type','nextText','createGameMap','length','setScale','pause','setAmbientColor','clearHold','Game','flares','setTint','add','3653650wyclbi','left','Geom','innerWidth','1321956FtKxKL','QueueLayer','Wall\x20kick\x20success','keydown-DOWN','cos','BORDER_CORNER_BOTTOM_LEFT','keydown-E','shake','stop','keydown-RIGHT','purple','startFullscreen','stopFullscreen','deltaY','Tetromino\x20bag:\x20','strokeRectShape','setData','wallKicks','explode','lineStyle','#FF0077','addTilesetImage','keyboard','down','level','parse','keydown-P','setPipeline','showRowClearFX','GHOST','getTileAt','scale','text','displayWidth','start','edge','pop','BORDER_RIGHT','Created\x20tetromino:\x20','clearTetromino','setOrigin','rotationIndex','drawDropAnimation','GREEN','index','container','create','trail','Rotation:\x20','lockTetromino','setFrame','enable','assets/ui/fullscreen.png','drop','alpha','NEXT','yellow','createTileMaps','BORDER_CORNER_TOP_LEFT','queueMap','Move\x20Data!!','28px\x20Exo','createQueueMap','GameLayer','fill','image','color','BOARD','gameScaleY','keydown-LEFT','247194eryrxU','input','from','GhostLayer','layer','setInteractive','setColor','hold','holdMap','random','tweens','gameScale','tileToWorldY','BORDER_TOP','ghostPiece','waterLayer','tile','SWAP','lights','queue_tiles','block','setTile','depth','JLOSTZ','moveActivePiece','keydown-ENTER','WEBGL','centerX','BORDER_LEFT','holdLayer','Testing\x20move:\x20','303UxqdpP','createBlankLayer','Rectangle','stringify','map_tiles','activePiece','#00DDFF','Bug:\x20','getData','gameOver','rowClearParticles','setTetromino','displayHeight','push','spawn','Scale','blue','activePointer','main','rotation','slice','graphics','createHoldMap','deltaX','keydown-SPACE','setText','RED','centerY','ORANGE','tileToWorldX','green','putTileAt','603944uCzxXz','addFullScreenToggle','scene','streak','60692hLsPVz','innerHeight','holdText','load','assets/particles/streak.png','addEmitZone','map','max','assets/images/bg.png','elapsed','log','Wall\x20kicks\x20being\x20evaluated:\x20','CENTER_BOTH','updateGhost','round','CYAN','SetTetromino:\x20','spritesheet','setDepth','1532aQIgqY','destroy','assets/particles/blocks.png','Jetris','star','holdTiles','823256BwMsJK','tilemap','ceil','getTile','queueTiles','BORDER_CORNER_TOP_RIGHT','HOLD','Line','Scene','toFixed','Light2D','sort','removeTileAt','setName','checkFractions','queueLayer','11zaVqFM','cameras','ghostLayer','rgb(3,\x2023,\x2054)','7Dnopdp','cells','make','fullscreen','clear','particles','5CEBQee','devicePixelRatio','drawQueue','Linear','BORDER_BOTTOM','addPointer','keydown-Q','resume','center','bug:\x20','drawHold','assets/Sprites/tetris.png','isFullscreen','getBoundingBox','rotateActivePiece','sin','tiles','Wall\x20kick\x20failure','width','assets/particles/star.png','assets/particles/blocks.json','OutCircle','Tile\x20occupied','preload'];_0x4482=function(){return _0x5b1db2;};return _0x4482();}