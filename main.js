(function(_0x427463,_0x3c649d){const _0x296624=_0x4eb9,_0x153d9f=_0x427463();while(!![]){try{const _0x381bba=parseInt(_0x296624(0xe8))/0x1+-parseInt(_0x296624(0x153))/0x2*(parseInt(_0x296624(0x166))/0x3)+-parseInt(_0x296624(0xe4))/0x4+parseInt(_0x296624(0x181))/0x5*(-parseInt(_0x296624(0x13a))/0x6)+parseInt(_0x296624(0x191))/0x7*(-parseInt(_0x296624(0x194))/0x8)+parseInt(_0x296624(0xf6))/0x9*(parseInt(_0x296624(0x13e))/0xa)+-parseInt(_0x296624(0x136))/0xb*(-parseInt(_0x296624(0x104))/0xc);if(_0x381bba===_0x3c649d)break;else _0x153d9f['push'](_0x153d9f['shift']());}catch(_0x2dcbea){_0x153d9f['push'](_0x153d9f['shift']());}}}(_0x16ba,0xdd47e),((()=>{const _0x47235a=_0x4eb9;var _0x530880=Tiles={'BLUE':0x0,'CYAN':0x1,'ORANGE':0x2,'YELLOW':0x3,'GREEN':0x4,'RED':0x5,'PURPLE':0x6,'BOARD':0x7,'BORDER_BOTTOM':0x8,'BORDER_LEFT':0x9,'BORDER_TOP':0xa,'BORDER_RIGHT':0xb,'GHOST':0xc,'HELPER':0xd,'EMPTY':0xe,'EMPTY2':0xf,'BORDER_CORNER_BOTTOM_LEFT':0x10,'BORDER_CORNER_TOP_LEFT':0x11,'BORDER_CORNER_TOP_RIGHT':0x12,'BORDER_CORNER_BOTTOM_RIGHT':0x13};cos=Math[_0x47235a(0x16b)](Math['PI']/0x2),sin=Math['sin'](Math['PI']/0x2),RotationMatrix=[cos,sin,-sin,cos];var _0x46cd0a={'L':'L','I':'I','J':'J','O':'O','S':'S','T':'T','Z':'Z'},_0x1bdf8d={'L':_0x530880['ORANGE'],'I':_0x530880[_0x47235a(0x16e)],'J':_0x530880[_0x47235a(0x154)],'O':_0x530880[_0x47235a(0x101)],'S':_0x530880[_0x47235a(0x14d)],'T':_0x530880[_0x47235a(0x174)],'Z':_0x530880['RED']},_0x1d4906={'I':[[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]]],'JLOSTZ':[[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]]]},_0x32c51f={'I':[0x0,0x0],'O':[0x0,0x0],'J':[-0.5,0.5],'L':[-0.5,0.5],'S':[-0.5,0.5],'T':[-0.5,0.5],'Z':[-0.5,0.5]},_0x7c2544={'L':{'cells':[[0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x1d4906['JLOSTZ'],'color':0xfff500},'I':{'cells':[[-0x1,0x1],[0x0,0x1],[0x1,0x1],[0x2,0x1]],'wallKicks':_0x1d4906['I'],'color':0xffff},'J':{'cells':[[-0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x1d4906['JLOSTZ'],'color':0xff},'O':{'cells':[[0x0,0x0],[0x1,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x1d4906[_0x47235a(0x176)],'color':0xffff00},'S':{'cells':[[-0x1,0x0],[0x0,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x1d4906[_0x47235a(0x176)],'color':0xff00},'T':{'cells':[[-0x1,0x0],[0x0,0x0],[0x1,0x0],[0x0,0x1]],'wallKicks':_0x1d4906[_0x47235a(0x176)],'color':0xf000f0},'Z':{'cells':[[-0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x1d4906[_0x47235a(0x176)],'color':0xff0000}};function _0xfbbe36(_0x1b3f1d){const _0xb4bc43=_0x47235a;return JSON[_0xb4bc43(0x19d)](JSON[_0xb4bc43(0x195)](_0x1b3f1d));}function _0x1c802d(_0x44d388,_0x289b11){const _0x584a10=_0x47235a;let _0xe8ef3b=_0x289b11[_0x584a10(0x149)](_0x584a10(0x12c)),_0x51a836=_0x289b11[_0x584a10(0x149)]('x'),_0x43b39d=_0x289b11[_0x584a10(0x149)]('y');if(_0x44d388[_0x584a10(0x121)](_0x51a836,_0x43b39d))return;let _0x1c8126=BOARD_WIDTH,_0x454069=0x0,_0x2c3407=BOARD_HEIGHT,_0x2d887c=0x0;for(let _0x57d816=0x0;_0x57d816<_0xe8ef3b[_0x584a10(0xfc)];_0x57d816++)for(let _0x139d20=0x0;_0x139d20<_0xe8ef3b[_0x57d816][_0x584a10(0xfc)]-0x1;_0x139d20++){if(_0x44d388[_0x584a10(0x121)](_0xe8ef3b[_0x57d816][_0x139d20],_0xe8ef3b[_0x57d816][_0x139d20+0x1]))return;_0x1c8126=Math['min'](_0x1c8126,_0x51a836+_0xe8ef3b[_0x57d816][_0x139d20]),_0x454069=Math[_0x584a10(0xdc)](_0x454069,_0x51a836+_0xe8ef3b[_0x57d816][_0x139d20]),_0x2c3407=Math[_0x584a10(0x129)](_0x2c3407,_0x43b39d+_0xe8ef3b[_0x57d816][_0x139d20+0x1]),_0x2d887c=Math[_0x584a10(0xdc)](_0x2d887c,_0x43b39d+_0xe8ef3b[_0x57d816][_0x139d20+0x1]);}return new Phaser[(_0x584a10(0x17c))][(_0x584a10(0x137))](_0x44d388[_0x584a10(0x151)][_0x584a10(0xf3)](_0x1c8126),_0x44d388[_0x584a10(0x151)][_0x584a10(0x140)](0x13-_0x2d887c)+BLOCK_SIZE*_0x44d388[_0x584a10(0x115)],_0x44d388['map'][_0x584a10(0xf3)](_0x454069)-_0x44d388[_0x584a10(0x151)]['tileToWorldX'](_0x1c8126)+BLOCK_SIZE*_0x44d388['gameScale'],_0x44d388[_0x584a10(0x151)][_0x584a10(0x140)](0x13-_0x2c3407)-_0x44d388['map']['tileToWorldY'](0x13-_0x2d887c)+BLOCK_SIZE*_0x44d388['gameScale']);}function _0x1c0612(_0x4d28ff,_0x1fb015){const _0x555b95=_0x47235a;let _0xef7104=_0x7c2544[_0x1fb015],_0x5ced34=_0x4d28ff[_0x555b95(0x132)][_0x555b95(0x171)](0x0,0x0);return _0x5ced34[_0x555b95(0xbc)]('cells',_0xfbbe36(_0xef7104[_0x555b95(0x12c)])),_0x5ced34[_0x555b95(0xbc)](_0x555b95(0x177),_0xef7104['color']),_0x5ced34['setData']('wallKicks',_0xef7104[_0x555b95(0xd8)]),_0x5ced34['setData'](_0x555b95(0xba),_0x1bdf8d[_0x1fb015]),_0x5ced34['setData']('type',_0x1fb015),_0x5ced34[_0x555b95(0xbc)](_0x555b95(0x102),0x0),_0x5ced34[_0x555b95(0xbc)](_0x555b95(0x138),[0x0,0x0]),_0x5ced34[_0x555b95(0xbc)]('x',0x0),_0x5ced34['setData']('y',0x0),DEBUG&&console[_0x555b95(0x146)](_0x555b95(0xb3),_0x5ced34),_0x5ced34;}function _0x3b2b89(_0x1e7f7c,_0x507e56,_0x4999c5){const _0x51abad=_0x47235a;let _0x3a0423=_0x507e56[_0x51abad(0x149)](_0x51abad(0x139)),_0x5dbb29=_0x7c2544[_0x3a0423],_0x1e7642=_0x1e7f7c[_0x51abad(0x132)][_0x51abad(0x171)](0x0,0x0)['setScale'](_0x4999c5);return _0x1e7642[_0x51abad(0xbc)]('tile',_0x530880[_0x51abad(0x175)]),_0x1e7642[_0x51abad(0xbc)](_0x51abad(0x12c),_0xfbbe36(_0x507e56[_0x51abad(0x149)](_0x51abad(0x12c)))),_0x1e7642[_0x51abad(0xbc)](_0x51abad(0x139),_0x507e56['getData'](_0x51abad(0x139))),_0x1e7642[_0x51abad(0xbc)]('rotationIndex',_0x507e56[_0x51abad(0x149)]('rotationIndex')),_0x1e7642['setData'](_0x51abad(0x138),_0x507e56[_0x51abad(0x149)](_0x51abad(0x138))),_0x1e7642[_0x51abad(0xbc)]('x',_0x507e56['getData']('x')),_0x1e7642[_0x51abad(0xbc)]('y',_0x507e56[_0x51abad(0x149)]('y')),_0x1e7642[_0x51abad(0xbc)](_0x51abad(0xd8),_0x507e56[_0x51abad(0x149)]('wallKicks')),_0x1e7642;}function _0x209874(_0xf8dcd1,_0x1860b2,_0x999b01){return _0xf8dcd1<_0x1860b2?_0x999b01-(_0x1860b2-_0xf8dcd1)%(_0x999b01-_0x1860b2):_0x1860b2+(_0xf8dcd1-_0x1860b2)%(_0x999b01-_0x1860b2);}function _0x4ed66e(_0x42ebb6,_0x3cbcd9,_0x2bcda5,_0x216e9e,_0x1e4166){const _0x2be0ee=_0x47235a;originalRotation=_0x216e9e[_0x2be0ee(0x149)](_0x2be0ee(0x102))||0x0,rotationIndex=_0x209874(originalRotation+_0x1e4166,0x0,0x4),DEBUG&&console[_0x2be0ee(0x146)]('Rotation:\x20',rotationIndex),_0x33ce14(_0x216e9e,_0x1e4166),_0x1d9ded(_0x42ebb6,_0x3cbcd9,_0x2bcda5,_0x216e9e,rotationIndex,_0x1e4166)||(rotationIndex=originalRotation,_0x33ce14(_0x216e9e,-_0x1e4166)),_0x216e9e[_0x2be0ee(0xbc)](_0x2be0ee(0x102),rotationIndex);}function _0x1d9ded(_0x3ae90a,_0x874d26,_0x5e26a6,_0x1e1e79,_0x4ab3f5,_0x26fb0a){const _0x1a36cc=_0x47235a;for(wallKicks=_0x1e1e79['getData'](_0x1a36cc(0xd8)),wallKickIndex=_0x4ce0c8(_0x4ab3f5,_0x26fb0a),DEBUG&&console['log'](_0x1a36cc(0xc7),wallKicks[wallKickIndex]),i=0x0;i<0x5;i++)if(translation=wallKicks[wallKickIndex][i],_0x14dd30(_0x3ae90a,_0x874d26,_0x5e26a6,_0x1e1e79,translation))return DEBUG&&console['log'](_0x1a36cc(0xe2)),!0x0;return DEBUG&&console[_0x1a36cc(0x146)](_0x1a36cc(0x188)),!0x1;}function _0x4ce0c8(_0x275835,_0x2cebbf){return wallKickIndex=_0x275835*0x2,_0x2cebbf<0x0&&wallKickIndex--,_0x209874(wallKickIndex,0x0,0x8);}function _0x105a8f(_0x2405c0,_0x49b5cf,_0x20bbca,_0x6391df,_0x131c58){const _0x3712d0=_0x47235a;let _0xc3646d=_0x6391df['getData'](_0x3712d0(0x12c)),_0x4a4efc=_0x6391df['getData'](_0x3712d0(0x139)),_0x117fa3=_0x6391df[_0x3712d0(0x149)]('x'),_0x3b841b=_0x6391df['getData']('y');DEBUG&&(_0x2405c0[_0x3712d0(0xc3)](),DEBUG&&console['log']('Testing\x20move:\x20',_0x131c58));for(let _0x22646a=0x0;_0x22646a<_0xc3646d[_0x3712d0(0xfc)];_0x22646a++){let _0x31e182=_0x117fa3+_0xc3646d[_0x22646a][0x0]+_0x131c58[0x0],_0x2020a0=_0x3b841b+_0xc3646d[_0x22646a][0x1]-_0x131c58[0x1];if(DEBUG&&(wx=_0x49b5cf[_0x3712d0(0xf3)](_0x31e182),wy=_0x49b5cf['tileToWorldY'](0x14-_0x2020a0),_0x2405c0['lineStyle'](0x1,0xff00ff),_0x2405c0[_0x3712d0(0x114)](new Phaser[(_0x3712d0(0x17c))][(_0x3712d0(0x137))](wx,wy,0x40*_0x20bbca,0x40*_0x20bbca))),_0x31e182%0x1!==0x0||_0x2020a0%0x1!==0x0)return DEBUG&&console['log'](_0x3712d0(0xde),_0x31e182,_0x2020a0),!0x1;let _0x167854=_0x49b5cf[_0x3712d0(0xfd)](_0x31e182,0x14-_0x2020a0);if(!_0x167854||_0x167854['index']!==_0x530880[_0x3712d0(0xec)]&&_0x167854[_0x3712d0(0x13c)]!==_0x530880['GHOST'])return DEBUG&&console[_0x3712d0(0x146)](_0x3712d0(0xeb)),!0x1;}return!0x0;}function _0x14dd30(_0x9308b7,_0x1f6f48,_0x463168,_0x5d02c7,_0x1576b6){const _0x6a3d75=_0x47235a;return isValid=_0x105a8f(_0x9308b7,_0x1f6f48,_0x463168,_0x5d02c7,_0x1576b6),isValid&&(_0x5d02c7[_0x6a3d75(0xbc)]('x',_0x5d02c7['getData']('x')+_0x1576b6[0x0]),_0x5d02c7['setData']('y',_0x5d02c7[_0x6a3d75(0x149)]('y')-_0x1576b6[0x1]),_0x5d02c7['x']=_0x1f6f48['tileToWorldX'](_0x5d02c7[_0x6a3d75(0x149)]('x')),_0x5d02c7['y']=_0x1f6f48[_0x6a3d75(0x140)](0x13-_0x5d02c7[_0x6a3d75(0x149)]('y'))),isValid;}function _0x33ce14(_0x47d12e,_0x1f326a){const _0x163329=_0x47235a;let _0x3e7b82=_0x32c51f[_0x47d12e['getData'](_0x163329(0x139))],_0x48f0d7=_0x47d12e['getData'](_0x163329(0x12c)),_0x5b8c56=_0x47d12e['getData'](_0x163329(0x139)),_0x5cbbee=RotationMatrix,_0x94209=[],_0x32ad90=_0x5b8c56===_0x46cd0a['O']||_0x5b8c56===_0x46cd0a['I'];if(_0x32ad90){for(let _0x2bc27d=0x0;_0x2bc27d<_0x48f0d7[_0x163329(0xfc)];_0x2bc27d++)_0x48f0d7[_0x2bc27d][0x0]-=0.5,_0x48f0d7[_0x2bc27d][0x1]-=0.5;}for(let _0x2d7ea3=0x0;_0x2d7ea3<_0x48f0d7[_0x163329(0xfc)];_0x2d7ea3++){let _0x41e756=parseFloat((_0x48f0d7[_0x2d7ea3][0x0]*_0x5cbbee[0x0]*_0x1f326a+_0x48f0d7[_0x2d7ea3][0x1]*_0x5cbbee[0x1]*_0x1f326a)['toFixed'](0x1)),_0x4954ae=parseFloat((_0x48f0d7[_0x2d7ea3][0x0]*_0x5cbbee[0x2]*_0x1f326a+_0x48f0d7[_0x2d7ea3][0x1]*_0x5cbbee[0x3]*_0x1f326a)[_0x163329(0xe3)](0x1));_0x94209[_0x163329(0x198)]([_0x32ad90?Math[_0x163329(0xd4)](_0x41e756):Math[_0x163329(0xd1)](_0x41e756),_0x32ad90?Math['ceil'](_0x4954ae):Math[_0x163329(0xd1)](_0x4954ae)]);}return _0x47d12e[_0x163329(0xbc)](_0x163329(0x12c),_0x94209),tmp=[parseFloat((_0x3e7b82[0x0]*_0x5cbbee[0x0]*_0x1f326a+_0x3e7b82[0x1]*_0x5cbbee[0x1]*_0x1f326a)[_0x163329(0xe3)](0x1)),parseFloat((_0x3e7b82[0x0]*_0x5cbbee[0x2]*_0x1f326a+_0x3e7b82[0x1]*_0x5cbbee[0x3]*_0x1f326a)[_0x163329(0xe3)](0x1))],_0x47d12e[_0x163329(0xbc)](_0x163329(0x138),tmp),_0x94209;}TetrominoBag=[],TetrominoQueue=[];var _0xd6812b=()=>{const _0x56bffd=_0x47235a;if(TetrominoBag[_0x56bffd(0xfc)]===0x0){let _0x31f6e1=Object[_0x56bffd(0xe5)](_0x46cd0a);for(let _0x19192a=_0x31f6e1[_0x56bffd(0xfc)]-0x1;_0x19192a>0x0;_0x19192a--){let _0x1eeb55=Math[_0x56bffd(0x14f)](Math[_0x56bffd(0x189)]()*(_0x19192a+0x1));[_0x31f6e1[_0x19192a],_0x31f6e1[_0x1eeb55]]=[_0x31f6e1[_0x1eeb55],_0x31f6e1[_0x19192a]];}TetrominoBag=[..._0x31f6e1];}let _0xeb62b6=TetrominoBag[_0x56bffd(0x12a)]();return DEBUG&&console[_0x56bffd(0x146)](_0x56bffd(0xca),TetrominoBag),_0xeb62b6;};function _0xe10493(){const _0x5183f9=_0x47235a;return TetrominoBag[_0x5183f9(0xfc)]===0x0&&_0xd6812b(),[...TetrominoBag[_0x5183f9(0xda)](0x0,0x3)];}function _0x283e82(){return TetrominoQueue;}function _0x1da11c(_0x1b4a86){const _0x3cb23d=_0x47235a;let _0x1e33e2=_0xe10493();for(let _0x328fb7=0x0;_0x328fb7<_0x1e33e2[_0x3cb23d(0xfc)];_0x328fb7++)TetrominoQueue[_0x3cb23d(0x198)](_0x1c0612(_0x1b4a86,_0x1e33e2[_0x328fb7])),DEBUG&&console[_0x3cb23d(0x146)](_0x3cb23d(0x17f),TetrominoQueue);}function _0x337882(_0xaeef1b,_0x474a3f,_0x433980,_0x24dec2){const _0x19f9f1=_0x47235a;let _0x592b50=TetrominoQueue[_0x19f9f1(0x12a)]()[_0x19f9f1(0xd5)](_0x24dec2),_0x326908=_0x592b50['getData']('type');return _0x592b50[_0x19f9f1(0xbc)]('x',_0x474a3f),_0x592b50[_0x19f9f1(0xbc)]('y',_0x433980-(_0x326908===_0x7c2544['I']?0x1:0x0)),DEBUG&&console[_0x19f9f1(0x146)](_0x19f9f1(0x184),_0x592b50),TetrominoQueue[_0x19f9f1(0xea)](_0x1c0612(_0xaeef1b,_0xd6812b())),_0x592b50;}function _0x3e29dd(_0x1c49de){const _0x1bae42=_0x47235a;_0x1c49de['queueMap']=_0x1c49de[_0x1bae42(0x190)][_0x1bae42(0x108)]({'key':_0x1bae42(0x187),'data':null,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x17085b=_0x1c49de[_0x1bae42(0x17d)][_0x1bae42(0x126)]('queue_tiles',_0x1bae42(0x178),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);_0x1c49de[_0x1bae42(0x116)]=_0x1c49de[_0x1bae42(0x17d)][_0x1bae42(0x18b)](_0x1bae42(0x197),_0x17085b,_0x1c49de[_0x1bae42(0xcc)]['x']+(BOARD_WIDTH+0.6)/0x2*BLOCK_SIZE*_0x1c49de['gameScale'],0x61)[_0x1bae42(0xd5)](_0x1c49de[_0x1bae42(0x115)]*0.75),_0x1c49de[_0x1bae42(0x116)][_0x1bae42(0x199)](_0x1bae42(0xb2)),_0x1c49de[_0x1bae42(0xce)]=_0x1c49de[_0x1bae42(0x132)][_0x1bae42(0xe7)](WIDTH-0xcd*_0x1c49de['gameScale'],0x82*_0x1c49de['gameScale'],_0x1bae42(0x14a),{'font':_0x1bae42(0x18d),'fill':'#00DDFF'})[_0x1bae42(0x186)](_0x1bae42(0xce));}function _0x45ad7a(_0x51e2a1){const _0xc5ab95=_0x47235a;let _0x2dfaf1=_0x283e82();_0x51e2a1['queueMap']['fill'](Tiles[_0xc5ab95(0xec)],0x1,0x1,0x4,0x8,!0x0);for(let _0x445414=0x0;_0x445414<_0x2dfaf1[_0xc5ab95(0xfc)];_0x445414++){let _0x49b150=_0x2dfaf1[_0x445414],_0x2d49a5=_0x49b150[_0xc5ab95(0x149)](_0xc5ab95(0x12c)),_0x25ecfc=_0x49b150[_0xc5ab95(0x149)]('tile');for(let _0x439f93=0x0;_0x439f93<_0x2d49a5[_0xc5ab95(0xfc)];_0x439f93++)for(let _0x31bf95=0x0;_0x31bf95<_0x2d49a5[_0x439f93][_0xc5ab95(0xfc)]-0x1;_0x31bf95++)_0x51e2a1[_0xc5ab95(0x17d)][_0xc5ab95(0x156)](_0x25ecfc,0x2+_0x2d49a5[_0x439f93][_0x31bf95],0x6-_0x445414*0x3-_0x2d49a5[_0x439f93][_0x31bf95+0x1]+0x2,!0x1,_0xc5ab95(0x197));}}heldPiece=null,hasSwapped=!0x1;function _0x2bc213(_0x143e0f){const _0x43ac37=_0x47235a;let _0x4afbb2=Array[_0x43ac37(0x14b)]({'length':0x4},()=>Array['from']({'length':0x6},()=>_0x530880['BOARD']));_0x143e0f[_0x43ac37(0x19b)]=_0x143e0f[_0x43ac37(0x190)][_0x43ac37(0x108)]({'key':_0x43ac37(0xd6),'data':_0x4afbb2,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x3e73d9=_0x143e0f[_0x43ac37(0x19b)][_0x43ac37(0x126)](_0x43ac37(0x122),_0x43ac37(0x178),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);_0x143e0f[_0x43ac37(0x15e)]=_0x143e0f[_0x43ac37(0x19b)][_0x43ac37(0x18b)](_0x43ac37(0x118),_0x3e73d9,_0x143e0f['center']['x']-(BOARD_WIDTH+9.6)/0x2*BLOCK_SIZE*_0x143e0f[_0x43ac37(0x115)],0x61)[_0x43ac37(0xd5)](_0x143e0f[_0x43ac37(0x115)]*0.75),_0x143e0f[_0x43ac37(0x15e)][_0x43ac37(0x199)](_0x43ac37(0xb2)),_0x143e0f[_0x43ac37(0x19b)]['fill'](_0x530880[_0x43ac37(0xec)],0x1,0x1,0x4,0x2,!0x0),_0x143e0f[_0x43ac37(0xbf)]=_0x143e0f[_0x43ac37(0x132)]['text'](0x62*_0x143e0f[_0x43ac37(0x115)],0x82*_0x143e0f[_0x43ac37(0x115)],_0x43ac37(0x11b),{'font':_0x43ac37(0x18d),'fill':_0x43ac37(0x16f)})[_0x43ac37(0x186)]('holdText');}function _0x2d5eed(){return heldPiece;}function _0x35c40a(_0xa379c1){const _0x249ef1=_0x47235a;if(heldPiece){if(hasSwapped)return _0xa379c1[_0x249ef1(0xc6)];{let _0x39304f=_0x1c0612(_0xa379c1,_0xa379c1[_0x249ef1(0xc6)][_0x249ef1(0x149)]('type')),_0x14edf3=Object[_0x249ef1(0x13b)](heldPiece);return _0x14edf3[_0x249ef1(0xbc)]('x',_0xa379c1[_0x249ef1(0xc6)][_0x249ef1(0x149)]('x')),_0x14edf3['setData']('y',_0xa379c1['activePiece'][_0x249ef1(0x149)]('y')),heldPiece=_0x39304f,hasSwapped=!0x0,_0x14edf3;}}else{heldPiece=_0x1c0612(_0xa379c1,_0xa379c1[_0x249ef1(0xc6)][_0x249ef1(0x149)](_0x249ef1(0x139)));let _0x5bfe88=_0x337882(_0xa379c1,0x4,0x13,heldPiece[_0x249ef1(0xc1)]);return hasSwapped=!0x0,_0x5bfe88;}}function _0x529f81(_0x18843c){const _0x97533b=_0x47235a;_0x18843c[_0x97533b(0xe1)](_0x18843c[_0x97533b(0xc6)]);let _0x5579f9=_0x35c40a(_0x18843c);if(_0x5579f9===_0x18843c[_0x97533b(0xc6)])_0x415588(_0x18843c);else{_0x18843c[_0x97533b(0xbf)]['setText'](_0x97533b(0x180)),_0x18843c['activePiece']=_0x5579f9;let _0x1bbde3=_0x1c802d(_0x18843c,_0x18843c[_0x97533b(0xc6)]);_0x1bbde3[0x0]<0x0?_0x18843c[_0x97533b(0xc6)][_0x97533b(0xbc)]('x',_0x18843c[_0x97533b(0xc6)]['getData']('x')-_0x1bbde3[0x0]):_0x1bbde3[0x1]>BOARD_WIDTH&&_0x18843c[_0x97533b(0xc6)][_0x97533b(0xbc)]('x',_0x18843c[_0x97533b(0xc6)]['getData']('x')-(_0x1bbde3[0x1]-BOARD_WIDTH)),_0x45ad7a(_0x18843c),_0x125414(_0x18843c);}_0x18843c['updateGhost'](),_0x18843c[_0x97533b(0x112)](_0x18843c[_0x97533b(0xc6)]);}function _0x125414(_0x2ff982){const _0x293c10=_0x47235a;let _0x5a25b2=_0x2d5eed(),_0x167b45=_0x5a25b2['getData'](_0x293c10(0x12c)),_0x179f17=_0x5a25b2[_0x293c10(0x149)](_0x293c10(0xba));_0x2ff982['holdMap']['fill'](_0x530880[_0x293c10(0xec)],0x1,0x1,0x4,0x2,!0x0);for(let _0x130165=0x0;_0x130165<_0x167b45['length'];_0x130165++)for(let _0x4366a7=0x0;_0x4366a7<_0x167b45[_0x130165][_0x293c10(0xfc)]-0x1;_0x4366a7++)_0x2ff982[_0x293c10(0x19b)][_0x293c10(0x156)](_0x179f17,0x2+_0x167b45[_0x130165][_0x4366a7],0x2-_0x167b45[_0x130165][_0x4366a7+0x1],!0x1,_0x293c10(0x118));}function _0x164140(_0x1c105c){const _0x153303=_0x47235a;_0x1c105c[_0x153303(0x19b)][_0x153303(0x19a)](_0x530880['BOARD'],0x1,0x1,0x4,0x2,!0x0),_0x1c105c[_0x153303(0xbf)][_0x153303(0x169)](_0x153303(0x11b)),_0x2c24d4();}function _0x5ce57c(){hasSwapped=!0x1;}function _0x2c24d4(){hasSwapped=!0x1,heldPiece=null;}function _0x415588(_0x3cd883){const _0x54e135=_0x47235a;_0x3cd883[_0x54e135(0xbf)]['setColor'](_0x54e135(0xef)),_0x3cd883['tweens'][_0x54e135(0x132)]({'targets':_0x3cd883[_0x54e135(0xbf)],'x':_0x3cd883['holdText']['x']-0xa,'duration':0x14,'yoyo':!0x1,'repeat':0x0,'onComplete':()=>{const _0xa51aeb=_0x54e135;_0x3cd883[_0xa51aeb(0xbf)]['x']=0x58*_0x3cd883[_0xa51aeb(0x115)],_0x3cd883[_0xa51aeb(0xc9)][_0xa51aeb(0x132)]({'targets':_0x3cd883[_0xa51aeb(0xbf)],'x':_0x3cd883[_0xa51aeb(0xbf)]['x']+0x14,'duration':0x3c,'yoyo':!0x0,'repeat':0x1,'ease':'OutCircle','onComplete':()=>{const _0x4b081e=_0xa51aeb;_0x3cd883['holdText']['x']=0x59*_0x3cd883[_0x4b081e(0x115)],_0x3cd883[_0x4b081e(0xbf)][_0x4b081e(0xdf)](_0x4b081e(0x16f));}});}});for(let _0x19a095=0x0;_0x19a095<_0x3cd883[_0x54e135(0x100)]()[_0x54e135(0xfc)];_0x19a095++)_0x3cd883[_0x54e135(0xc9)][_0x54e135(0x132)]({'targets':_0x3cd883[_0x54e135(0x151)][_0x54e135(0xfd)](_0x3cd883[_0x54e135(0x100)]()[_0x19a095][0x0],BOARD_HEIGHT-_0x3cd883[_0x54e135(0x100)]()[_0x19a095][0x1]),'alpha':0.5,'duration':0x32,'yoyo':!0x0,'repeat':0x0,'ease':_0x54e135(0xbb),'onUpdate':(_0x38fa77,_0x4891a2)=>{const _0x3b6efe=_0x54e135;_0x4891a2[_0x3b6efe(0x13c)]===_0x530880[_0x3b6efe(0xec)]&&(_0x4891a2[_0x3b6efe(0x15a)]=0x1);},'onComplete':()=>{const _0x2d44a5=_0x54e135;_0x3cd883['map'][_0x2d44a5(0xfd)](_0x3cd883[_0x2d44a5(0x100)]()[_0x19a095][0x0],BOARD_HEIGHT-_0x3cd883[_0x2d44a5(0x100)]()[_0x19a095][0x1])[_0x2d44a5(0x15a)]=0xffffff;}});}function _0x30d6f9(_0x1c7bad){const _0x1c6f7c=_0x47235a;_0x1c7bad[_0x1c6f7c(0x132)][_0x1c6f7c(0xbd)](_0x1c7bad[_0x1c6f7c(0xcc)]['x'],_0x1c7bad[_0x1c6f7c(0xcc)]['y'],'bg')[_0x1c6f7c(0xd5)](_0x1c7bad[_0x1c6f7c(0x115)]*1.6),_0x1c7bad[_0x1c6f7c(0x107)]['enable']()[_0x1c6f7c(0xf4)](0xeeeeee);let _0x1f78fc=_0x1c7bad[_0x1c6f7c(0x107)][_0x1c6f7c(0x103)](WIDTH,-HEIGHT,HEIGHT*0x3,0xffffff,0x4);_0x1c7bad[_0x1c6f7c(0x151)]=_0x1c7bad['make'][_0x1c6f7c(0x108)]({'key':'map_tiles','data':_0x1c7bad['level'],'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x149736=_0x1c7bad[_0x1c6f7c(0x151)]['addTilesetImage'](_0x1c6f7c(0x122),'block',BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);_0x1c7bad[_0x1c6f7c(0x168)]=_0x1c7bad['map'][_0x1c6f7c(0x18b)]('GhostLayer',_0x149736,_0x1c7bad['center']['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*_0x1c7bad[_0x1c6f7c(0x115)],0x3*BLOCK_SIZE*_0x1c7bad[_0x1c6f7c(0x115)])[_0x1c6f7c(0xd5)](_0x1c7bad['gameScale']),_0x1c7bad[_0x1c6f7c(0x123)]=_0x1c7bad[_0x1c6f7c(0x151)][_0x1c6f7c(0x18b)]('GameLayer',_0x149736,_0x1c7bad[_0x1c6f7c(0xcc)]['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*_0x1c7bad[_0x1c6f7c(0x115)],0x3*BLOCK_SIZE*_0x1c7bad[_0x1c6f7c(0x115)])['setScale'](_0x1c7bad[_0x1c6f7c(0x115)]),_0x1c7bad[_0x1c6f7c(0x123)]['setPipeline'](_0x1c6f7c(0xb2)),_0x1c7bad[_0x1c6f7c(0x123)][_0x1c6f7c(0x147)](0x1),_0x1c7bad[_0x1c6f7c(0x151)][_0x1c6f7c(0x19a)](Tiles[_0x1c6f7c(0xec)]),_0x1c7bad[_0x1c6f7c(0x196)]=_0x1c7bad[_0x1c6f7c(0x132)]['text'](0x30*_0x1c7bad[_0x1c6f7c(0x115)],HEIGHT-0xdc*_0x1c7bad[_0x1c6f7c(0x115)],_0x1c6f7c(0x152),{'font':_0x1c6f7c(0x18d),'fill':_0x1c6f7c(0x16f)})[_0x1c6f7c(0x186)](_0x1c6f7c(0x196));}function _0x381b75(_0xc59734){const _0x47d1dd=_0x47235a;_0xc59734[_0x47d1dd(0x159)]['addPointer'](0x1),_0xc59734[_0x47d1dd(0x159)]['keyboard']['on']('keydown-LEFT',()=>{_0xc59734['moveActivePiece']([-0x1,0x0]);}),_0xc59734[_0x47d1dd(0x159)][_0x47d1dd(0x193)]['on'](_0x47d1dd(0x12b),()=>{const _0x2aea18=_0x47d1dd;_0xc59734[_0x2aea18(0xc4)]([0x1,0x0]);}),_0xc59734[_0x47d1dd(0x159)]['keyboard']['on'](_0x47d1dd(0x162),()=>{const _0x52f70b=_0x47d1dd;_0xc59734[_0x52f70b(0xc4)]([0x0,0x1]);}),DEBUG&&_0xc59734[_0x47d1dd(0x159)][_0x47d1dd(0x193)]['on'](_0x47d1dd(0x157),()=>{_0xc59734['moveActivePiece']([0x0,-0x1]);}),_0xc59734[_0x47d1dd(0x159)][_0x47d1dd(0x193)]['on']('keydown-E',()=>{const _0x533998=_0x47d1dd;_0xc59734[_0x533998(0x13f)](0x1);}),_0xc59734[_0x47d1dd(0x159)][_0x47d1dd(0x193)]['on'](_0x47d1dd(0xf8),()=>{const _0x5ac8df=_0x47d1dd;_0xc59734[_0x5ac8df(0x13f)](-0x1);}),_0xc59734['input'][_0x47d1dd(0x193)]['on']('keydown-SPACE',()=>{const _0x7e21bf=_0x47d1dd;_0xc59734[_0x7e21bf(0x135)]();}),_0xc59734['input'][_0x47d1dd(0x193)]['on']('keydown-ENTER',()=>{_0xc59734['hold']();}),_0xc59734[_0x47d1dd(0x159)][_0x47d1dd(0x193)]['on'](_0x47d1dd(0xf9),()=>{const _0x322ab0=_0x47d1dd;_0xc59734[_0x322ab0(0x18c)][_0x322ab0(0x170)]()?_0xc59734[_0x322ab0(0x18c)][_0x322ab0(0x163)]():_0xc59734[_0x322ab0(0x18c)][_0x322ab0(0x125)]();}),_0xc59734['input'][_0x47d1dd(0x193)]['on'](_0x47d1dd(0xd7),()=>{const _0x4af9cd=_0x47d1dd;_0xc59734[_0x4af9cd(0x151)]['fill'](Tiles[_0x4af9cd(0xec)]),_0xc59734['map'][_0x4af9cd(0x19a)](null,0x0,0x0,BOARD_WIDTH,BOARD_HEIGHT,!0x0,'GhostLayer'),_0xc59734[_0x4af9cd(0x10a)](),_0xc59734['gameOver']=!0x1,_0xc59734[_0x4af9cd(0x145)]=0x0,_0xc59734[_0x4af9cd(0x15f)][_0x4af9cd(0x106)]({'delay':0x3e8,'callback':_0xc59734[_0x4af9cd(0x10c)],'callbackScope':_0xc59734,'loop':!0x0}),_0xc59734[_0x4af9cd(0xcb)][_0x4af9cd(0x106)]({'delay':DROP_DELAY,'callback':_0xc59734[_0x4af9cd(0xe9)],'callbackScope':_0xc59734,'loop':!0x0}),_0xc59734[_0x4af9cd(0x119)](),_0xc59734[_0x4af9cd(0x112)](_0xc59734[_0x4af9cd(0xc6)]);});}isClicking=!0x1,dropped=!0x1,held=!0x1,clicked=!0x1,dragged=!0x1,touchDeltaX=0x0,touchDeltaY=0x0;function _0xd51d5f(_0x1b3eb9){const _0x9b05e0=_0x47235a;if(_0x1b3eb9[_0x9b05e0(0x159)][_0x9b05e0(0x14c)][_0x9b05e0(0x14e)]){clicked=!0x0;let _0x3093a6=Math['abs'](_0x1b3eb9[_0x9b05e0(0x159)][_0x9b05e0(0x14c)]['x']-touchDeltaX),_0x45fa3e=Math[_0x9b05e0(0x164)](_0x1b3eb9[_0x9b05e0(0x159)]['activePointer']['y']-touchDeltaY);_0x3093a6>=0x4b&&_0x3093a6>_0x45fa3e?(_0x1b3eb9[_0x9b05e0(0x159)][_0x9b05e0(0x14c)]['x']<touchDeltaX?swipeDirection=_0x9b05e0(0xdd):_0x1b3eb9[_0x9b05e0(0x159)][_0x9b05e0(0x14c)]['x']>touchDeltaX&&touchDeltaX!=0x0?swipeDirection=_0x9b05e0(0xfa):(swipeDirection='',touchDeltaX=0x0),touchDeltaX=_0x1b3eb9['input']['activePointer']['x'],swipeDirection!=''&&(_0x1b3eb9[_0x9b05e0(0xc4)]([swipeDirection==_0x9b05e0(0xdd)?-0x1:0x1,0x0]),dragged=!0x0)):!dropped&&!held&&_0x45fa3e>=0xc8&&_0x45fa3e>_0x3093a6&&(_0x1b3eb9[_0x9b05e0(0x159)][_0x9b05e0(0x14c)]['y']>touchDeltaY&&touchDeltaY!=0x0?swipeDirection=_0x9b05e0(0x18f):_0x1b3eb9[_0x9b05e0(0x159)][_0x9b05e0(0x14c)]['y']<touchDeltaY&&touchDeltaY!=0x0?swipeDirection='up':(swipeDirection='',touchDeltaY=0x0),touchDeltaY=_0x1b3eb9[_0x9b05e0(0x159)][_0x9b05e0(0x14c)]['y'],swipeDirection==_0x9b05e0(0x18f)?(_0x1b3eb9[_0x9b05e0(0x135)](),dropped=!0x0):swipeDirection=='up'&&(_0x1b3eb9[_0x9b05e0(0x15c)](),held=!0x0));}else touchDeltaX=0x0,touchDeltaY=0x0,clicked&&!dragged&&!dropped&&!held&&(_0x1b3eb9[_0x9b05e0(0x159)]['activePointer']['x']<_0x1b3eb9[_0x9b05e0(0xcc)]['x']?_0x1b3eb9[_0x9b05e0(0x13f)](-0x1):_0x1b3eb9['rotateActivePiece'](0x1)),clicked=!0x1,dropped=!0x1,dragged=!0x1,held=!0x1;}function _0x38815b(_0x59f9fb){const _0x33d40b=_0x47235a;_0x59f9fb['add'][_0x33d40b(0xed)](0x0,0x2f,'ui',_0x33d40b(0x10e),0xc8,0xc6,0x64,0x32,0x64,0x34)[_0x33d40b(0xd0)](0x0,0x0),_0x59f9fb[_0x33d40b(0x132)][_0x33d40b(0xed)](WIDTH-196.5,0x2f,'ui',_0x33d40b(0x10e),0xc8,0x178,0x64,0x64,0x64,0x64)[_0x33d40b(0xd0)](0x0,0x0),_0x59f9fb[_0x33d40b(0x132)]['nineslice'](0xa7,0x2f,'ui',_0x33d40b(0x117),0x1d5,0x39c,0x64,0x64,0x64,0x64)[_0x33d40b(0xd0)](0x0,0x0);}WIDTH=0x320,HEIGHT=0x400,DEBUG=!0x1,BOARD_WIDTH=0xa,BOARD_HEIGHT=0x14,BLOCK_SIZE=0x40,swipeDirection='',touchDeltaX=0x0,touchDeltaY=0x0,swipeDelay=0x0,DROP_DELAY=0x3e8;var _0x19a74d=class extends Phaser[_0x47235a(0x158)]{constructor(){const _0x3e5a5a=_0x47235a;super({'key':'Jetris','active':!0x0}),this[_0x3e5a5a(0x171)],this['level']=Array[_0x3e5a5a(0x14b)]({'length':BOARD_HEIGHT},()=>Array[_0x3e5a5a(0x14b)]({'length':BOARD_WIDTH},()=>_0x530880[_0x3e5a5a(0xec)])),this[_0x3e5a5a(0x151)],this[_0x3e5a5a(0x17d)],this[_0x3e5a5a(0x19b)],this[_0x3e5a5a(0xcc)]={'x':WIDTH/0x2,'y':HEIGHT/0x2},this[_0x3e5a5a(0x12f)]=this[_0x3e5a5a(0xcc)]['x']*0x2/0x8,this[_0x3e5a5a(0xfe)]=this[_0x3e5a5a(0xcc)]['y']*0x2/0x14,this['gameScale']=this[_0x3e5a5a(0x12f)]*2.5/this[_0x3e5a5a(0xcc)]['x'],this[_0x3e5a5a(0xf2)]=this[_0x3e5a5a(0xfe)]*2.5/this[_0x3e5a5a(0xcc)]['y'],this[_0x3e5a5a(0x124)]=BLOCK_SIZE*this[_0x3e5a5a(0x115)],this[_0x3e5a5a(0xc6)],this[_0x3e5a5a(0x150)],this[_0x3e5a5a(0xb5)],this[_0x3e5a5a(0x120)]=!0x1,this[_0x3e5a5a(0x123)],this[_0x3e5a5a(0x168)],this['rockLayer'],this[_0x3e5a5a(0x11d)],this['rowClearParticles'],this[_0x3e5a5a(0xb9)],this[_0x3e5a5a(0x15f)],this[_0x3e5a5a(0x145)]=0x0,this['tetrominoTimer'],this[_0x3e5a5a(0x133)];}[_0x47235a(0x15b)](){const _0x2cf7c4=_0x47235a;this[_0x2cf7c4(0x10b)]['image']('block',[_0x2cf7c4(0xdb),_0x2cf7c4(0x10d)]),this[_0x2cf7c4(0x10b)][_0x2cf7c4(0xcd)]('ui','assets/ui/nine-slice.png',_0x2cf7c4(0x11c)),this[_0x2cf7c4(0x10b)][_0x2cf7c4(0xb7)](_0x2cf7c4(0x143),_0x2cf7c4(0x192),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this[_0x2cf7c4(0x10b)][_0x2cf7c4(0xb7)]('blocks',_0x2cf7c4(0xdb),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this['load'][_0x2cf7c4(0xcd)](_0x2cf7c4(0x134),'assets/particles/blocks.png',_0x2cf7c4(0xff)),this[_0x2cf7c4(0x10b)][_0x2cf7c4(0xbd)](_0x2cf7c4(0x110),'assets/particles/trail.png'),this['load'][_0x2cf7c4(0xbd)](_0x2cf7c4(0xee),_0x2cf7c4(0x161)),this[_0x2cf7c4(0x10b)][_0x2cf7c4(0xbd)](_0x2cf7c4(0x113),'assets/particles/star.png'),this[_0x2cf7c4(0x10b)][_0x2cf7c4(0xbd)]('bg',_0x2cf7c4(0x18a));}[_0x47235a(0x165)](){_0x38815b(this);}['createTileMaps'](){const _0x184fde=_0x47235a;_0x30d6f9(this),this[_0x184fde(0x165)](),_0x2bc213(this),_0x3e29dd(this);}['checkFractions'](_0xa58a8e,_0x22aab0){const _0x405906=_0x47235a;return _0xa58a8e%0x1!==0x0||_0x22aab0%0x1!==0x0?(DEBUG&&console[_0x405906(0x146)](_0x405906(0x179),_0xa58a8e,_0x22aab0),!0x0):!0x1;}[_0x47235a(0xc0)](_0x497d76,_0x520fb8,_0xfa044){const _0x81acd3=_0x47235a;this[_0x81acd3(0x121)](_0x497d76,_0x520fb8)||(this['map'][_0x81acd3(0x156)](_0xfa044,_0x497d76,BOARD_HEIGHT-_0x520fb8,!0x1,_0xfa044===_0x530880['GHOST']?_0x81acd3(0x160):_0x81acd3(0xb4)),_0xfa044===_0x530880[_0x81acd3(0xec)]&&this[_0x81acd3(0x151)]['removeTileAt'](_0x497d76,BOARD_HEIGHT-_0x520fb8,!0x0,!0x1,_0x81acd3(0x160)));}[_0x47235a(0x17a)](_0x3ed366,_0x385783){const _0x4df05c=_0x47235a;return this[_0x4df05c(0x121)](_0x3ed366,_0x385783)?null:this[_0x4df05c(0x151)][_0x4df05c(0xfd)](_0x3ed366,BOARD_HEIGHT-_0x385783,!0x1,this['layer']);}[_0x47235a(0x112)](_0x11ce9e){const _0x25c2b9=_0x47235a;let _0x35de7c=_0x11ce9e[_0x25c2b9(0x149)](_0x25c2b9(0x12c)),_0x3cfb25=_0x11ce9e[_0x25c2b9(0x149)]('x'),_0xa1d6cc=_0x11ce9e[_0x25c2b9(0x149)]('y');if(this[_0x25c2b9(0x121)](_0x3cfb25,_0xa1d6cc)){DEBUG&&console[_0x25c2b9(0x146)]('SetTetromino:\x20',_0x11ce9e);return;}this[_0x25c2b9(0x148)]=[];for(let _0x115615=0x0;_0x115615<_0x35de7c[_0x25c2b9(0xfc)];_0x115615++)for(let _0x3264ce=0x0;_0x3264ce<_0x35de7c[_0x115615][_0x25c2b9(0xfc)]-0x1;_0x3264ce++){if(this[_0x25c2b9(0x121)](_0x35de7c[_0x115615][_0x3264ce],_0x35de7c[_0x115615][_0x3264ce+0x1])){DEBUG&&console[_0x25c2b9(0x146)](_0x25c2b9(0x12e),tetrommino);return;}let _0x5e7d26=this['getTile'](_0x3cfb25+_0x35de7c[_0x115615][_0x3264ce],_0xa1d6cc+_0x35de7c[_0x115615][_0x3264ce+0x1]);if(_0x5e7d26&&_0x5e7d26[_0x25c2b9(0x13c)]===_0x530880['BOARD'])this[_0x25c2b9(0xc0)](_0x3cfb25+_0x35de7c[_0x115615][_0x3264ce],_0xa1d6cc+_0x35de7c[_0x115615][_0x3264ce+0x1],_0x11ce9e[_0x25c2b9(0x149)](_0x25c2b9(0xba))),this[_0x25c2b9(0x148)][_0x25c2b9(0x198)]([_0x3cfb25+_0x35de7c[_0x115615][_0x3264ce],_0xa1d6cc+_0x35de7c[_0x115615][_0x3264ce+0x1]]);else{this[_0x25c2b9(0x120)]=!0x0;return;}}}['getTetrominoTiles'](){const _0x409764=_0x47235a;return this[_0x409764(0x148)];}[_0x47235a(0xe1)](_0x24ebff){const _0x25312e=_0x47235a;let _0x524b2d=_0x24ebff['getData'](_0x25312e(0x12c)),_0x466943=_0x24ebff[_0x25312e(0x149)]('x'),_0x1db0f5=_0x24ebff[_0x25312e(0x149)]('y');if(!this[_0x25312e(0x121)](_0x466943,_0x1db0f5)){for(let _0x2f8621=0x0;_0x2f8621<_0x524b2d[_0x25312e(0xfc)];_0x2f8621++)for(let _0x7ac506=0x0;_0x7ac506<_0x524b2d[_0x2f8621][_0x25312e(0xfc)]-0x1;_0x7ac506++){if(this[_0x25312e(0x121)](_0x524b2d[_0x2f8621][_0x7ac506],_0x524b2d[_0x2f8621][_0x7ac506+0x1]))return;this[_0x25312e(0xc0)](_0x466943+_0x524b2d[_0x2f8621][_0x7ac506],_0x1db0f5+_0x524b2d[_0x2f8621][_0x7ac506+0x1],_0x530880['BOARD']);}}}[_0x47235a(0x11f)](){const _0x20b1a0=_0x47235a;let _0x131aad=this[_0x20b1a0(0x132)]['image'](WIDTH-0x10,0x10,_0x20b1a0(0x143),0x0)[_0x20b1a0(0xd0)](0x1,0x0)[_0x20b1a0(0xd5)](0.25)['setInteractive']();_0x131aad['on'](_0x20b1a0(0x183),function(){const _0x2947b3=_0x20b1a0;this[_0x2947b3(0xc1)][_0x2947b3(0x141)]?(_0x131aad[_0x2947b3(0x142)](0x0),this['scale']['stopFullscreen']()):(_0x131aad[_0x2947b3(0x142)](0x1),this[_0x2947b3(0xc1)][_0x2947b3(0xe0)]());},this);}[_0x47235a(0xc4)](_0x5170ac){const _0xa94aa7=_0x47235a;this['activePiece']&&(this['clearTetromino'](this[_0xa94aa7(0xc6)]),_0x14dd30(this[_0xa94aa7(0xb5)],this[_0xa94aa7(0x151)],this['gameScale'],this['activePiece'],_0x5170ac),this[_0xa94aa7(0xc5)](),this[_0xa94aa7(0x112)](this[_0xa94aa7(0xc6)]));}[_0x47235a(0x10a)](){_0x164140(this);}['hold'](){_0x529f81(this);}[_0x47235a(0x13f)](_0x4d9055){const _0x5a882b=_0x47235a;this['clearTetromino'](this['activePiece']),_0x4ed66e(this[_0x5a882b(0xb5)],this[_0x5a882b(0x151)],this['gameScale'],this[_0x5a882b(0xc6)],_0x4d9055),this['updateGhost'](),this['setTetromino'](this[_0x5a882b(0xc6)]);}[_0x47235a(0x16a)](_0x3ad81d){const _0x413892=_0x47235a;_0x5ce57c();let _0x31319d=new Set(),_0xeb4f6b=_0x3ad81d['getData'](_0x413892(0x12c)),_0x56e85e=_0x3ad81d[_0x413892(0x149)]('x'),_0x2b3367=_0x3ad81d['getData']('y');if(!this[_0x413892(0x121)](_0x56e85e,_0x2b3367)){for(let _0x864d53=0x0;_0x864d53<_0xeb4f6b['length'];_0x864d53++)for(let _0x206064=0x0;_0x206064<_0xeb4f6b[_0x864d53][_0x413892(0xfc)]-0x1;_0x206064++){if(this[_0x413892(0x121)](_0xeb4f6b[_0x864d53][_0x206064],_0xeb4f6b[_0x864d53][_0x206064+0x1]))return;_0x31319d[_0x413892(0x132)](_0x2b3367+_0xeb4f6b[_0x864d53][_0x206064+0x1]);}_0x31319d=Array[_0x413892(0x14b)](_0x31319d)[_0x413892(0x167)]((_0x252ca4,_0x4d3eae)=>_0x4d3eae-_0x252ca4);for(let _0x2a2fdc=0x0;_0x2a2fdc<_0x31319d[_0x413892(0xfc)];_0x2a2fdc++){let _0x29596a=_0x31319d[_0x2a2fdc],_0x2670eb=!0x0;for(let _0x84ef1b=0x0;_0x84ef1b<BOARD_WIDTH;_0x84ef1b++){let _0x324787=this[_0x413892(0x17a)](_0x84ef1b,_0x29596a);if(!_0x324787||_0x324787[_0x413892(0x13c)]===_0x530880[_0x413892(0xec)]){_0x2670eb=!0x1;break;}}if(_0x2670eb){for(let _0x341395=0x0;_0x341395<BOARD_WIDTH;_0x341395++)this[_0x413892(0xc0)](_0x341395,_0x29596a,_0x530880['BOARD']);for(let _0x506068=_0x29596a+0x1;_0x506068<BOARD_HEIGHT;_0x506068++)for(let _0x563899=0x0;_0x563899<BOARD_WIDTH;_0x563899++){let _0x3e3d3a=this[_0x413892(0x17a)](_0x563899,_0x506068);_0x3e3d3a&&_0x3e3d3a[_0x413892(0x13c)]!==_0x530880[_0x413892(0xec)]&&(this['setTile'](_0x563899,_0x506068-0x1,_0x3e3d3a['index']),this[_0x413892(0xc0)](_0x563899,_0x506068,_0x530880[_0x413892(0xec)]));}this[_0x413892(0x182)](_0x29596a-0x1);}}}}[_0x47235a(0x11e)](){const _0x4759b5=_0x47235a;let _0x2e72fa=_0x1c802d(this,this[_0x4759b5(0xc6)]),_0x4dba51=_0x1c802d(this,this[_0x4759b5(0x150)]),_0x5cf330=this[_0x4759b5(0x132)]['image'](_0x2e72fa[_0x4759b5(0x18e)],_0x2e72fa[_0x4759b5(0xf7)],_0x4759b5(0x110));_0x5cf330[_0x4759b5(0xd0)](0.5,0x0),_0x5cf330[_0x4759b5(0x111)](this[_0x4759b5(0xc6)]['getData'](_0x4759b5(0x177))),_0x5cf330[_0x4759b5(0x155)]=_0x2e72fa[_0x4759b5(0xf1)],_0x5cf330['displayHeight']=_0x4dba51[_0x4759b5(0xf7)]+BLOCK_SIZE*0.5*this[_0x4759b5(0x115)]-_0x2e72fa['y'],_0x5cf330['depth']=0x0,this[_0x4759b5(0xc9)][_0x4759b5(0x132)]({'targets':_0x5cf330,'displayHeight':0x0,'y':_0x4dba51['y'],'alpha':0x0,'duration':0xc8,'ease':_0x4759b5(0x173),'onComplete':()=>{_0x5cf330['destroy']();}});let _0x1e8cd7=this[_0x4759b5(0x132)][_0x4759b5(0x17b)](_0x4dba51['centerX'],_0x4dba51['y'],'star',{'speed':{'min':0x190,'max':0x3e8},'angle':{'min':-0x64,'max':-0x50},'scale':{'start':0.1,'end':0x0},'alpha':{'start':0x1,'end':0x0},'quantity':0x5,'lifespan':0x1f4,'blendMode':'ADD','gravityY':0x64,'on':!0x1,'onComplete':()=>{const _0x44b521=_0x4759b5;_0x1e8cd7[_0x44b521(0x11a)]();}});_0x1e8cd7[_0x4759b5(0x15d)]();let _0x4db440=this[_0x4759b5(0x132)][_0x4759b5(0x17b)](0x0,0x0,_0x4759b5(0xee),{'speed':{'min':0x3e8,'max':0xbb8},'angle':-0x5a,'scaleY':{'start':0.4,'end':0x1},'scaleX':0.1,'alpha':{'start':0.5,'end':0x0},'lifespan':0x12c,'blendMode':_0x4759b5(0xe6),'manualEmit':!0x0,'on':!0x1,'onComplete':()=>{const _0x9b6010=_0x4759b5;_0x4db440[_0x9b6010(0x11a)]();}});_0x4db440[_0x4759b5(0x130)](),_0x4db440['addEmitZone']({'type':_0x4759b5(0x189),'source':new Phaser['Geom'][(_0x4759b5(0x17e))](_0x4dba51[_0x4759b5(0xdd)],_0x4dba51[_0x4759b5(0xc2)],_0x4dba51[_0x4759b5(0xfa)],_0x4dba51[_0x4759b5(0xc2)]),'quantity':0xa,'onComplete':()=>{const _0x36998f=_0x4759b5;_0x4db440[_0x36998f(0x11a)]();}}),_0x4db440[_0x4759b5(0x105)](0x32,0x32),this['cameras']['main'][_0x4759b5(0xf0)](0x64,0.0025-0.0005*(this[_0x4759b5(0x150)][_0x4759b5(0x149)]('y')-this[_0x4759b5(0xc6)][_0x4759b5(0x149)]('y')));}[_0x47235a(0x135)](){const _0x3ca316=_0x47235a;if(!this[_0x3ca316(0x120)]){for(this[_0x3ca316(0x11e)](),this['clearTetromino'](this['activePiece']),this[_0x3ca316(0xe1)](this[_0x3ca316(0x150)]);_0x14dd30(this[_0x3ca316(0xb5)],this[_0x3ca316(0x151)],this[_0x3ca316(0x115)],this[_0x3ca316(0xc6)],[0x0,0x1]););this[_0x3ca316(0x112)](this[_0x3ca316(0xc6)]),this['lockTetromino'](this[_0x3ca316(0xc6)]),this['spawn'](),this[_0x3ca316(0x112)](this[_0x3ca316(0xc6)]),this[_0x3ca316(0x172)]=0x0;}}[_0x47235a(0x182)](_0x43ba0e){const _0x4fd3cd=_0x47235a;let _0x9f821e=this[_0x4fd3cd(0x132)]['particles'](this[_0x4fd3cd(0xcc)]['x']*this[_0x4fd3cd(0x115)],0x0,_0x4fd3cd(0x134),{'frame':{'frames':[_0x4fd3cd(0x13d),'green',_0x4fd3cd(0xb6),_0x4fd3cd(0xbe),'purple'],'cycle':!0x0},'blendMode':_0x4fd3cd(0xe6),'lifespan':0xc8,'quantity':0x2,'manualEmit':!0x0,'frequency':0x8,'alpha':{'start':0x1,'end':0x0},'scale':{'start':0.5,'end':0.3},'onUpdate':_0xddb93c=>{const _0x3deee0=_0x4fd3cd;_0xddb93c[_0x3deee0(0x16c)]+=0x19;},'onComplete':()=>{_0x9f821e['destroy']();}});_0x9f821e[_0x4fd3cd(0x147)](0x2),_0x9f821e[_0x4fd3cd(0x130)](),_0x9f821e[_0x4fd3cd(0x10f)]({'type':_0x4fd3cd(0xcf),'source':new Phaser[(_0x4fd3cd(0x17c))][(_0x4fd3cd(0x17e))](this[_0x4fd3cd(0x151)][_0x4fd3cd(0xf3)](-5.75),this[_0x4fd3cd(0x151)]['tileToWorldY'](19.5-_0x43ba0e),this[_0x4fd3cd(0x151)][_0x4fd3cd(0xf3)](4.25),this[_0x4fd3cd(0x151)][_0x4fd3cd(0x140)](19.5-_0x43ba0e)),'quantity':0xa,'total':0x1}),_0x9f821e[_0x4fd3cd(0x105)](0x32,0x32);}['updateTimer'](){const _0x267508=_0x47235a;this[_0x267508(0x16d)]=Math[_0x267508(0x127)](this[_0x267508(0x15f)][_0x267508(0xc8)]());let _0xf31190=Math[_0x267508(0x14f)](this[_0x267508(0x145)]/0x3c),_0xf551bd=Math[_0x267508(0x14f)](this[_0x267508(0x145)]%0x3c),_0x3fb17d=this[_0x267508(0x16d)]%0x3e8;this[_0x267508(0x196)][_0x267508(0x169)](_0xf31190[_0x267508(0xd3)]()[_0x267508(0x131)](0x2,'0')+':'+_0xf551bd[_0x267508(0xd3)]()[_0x267508(0x131)](0x2,'0')+'.'+_0x3fb17d[_0x267508(0xd3)]()[_0x267508(0x131)](0x3,'0'));}[_0x47235a(0x10c)](){this['elapsedSeconds']+=0x1;}['advanceActivePiece'](){const _0x24939a=_0x47235a;this['activePiece']&&!DEBUG&&(this[_0x24939a(0xe1)](this[_0x24939a(0xc6)]),_0x14dd30(this[_0x24939a(0xb5)],this[_0x24939a(0x151)],this[_0x24939a(0x115)],this['activePiece'],[0x0,0x1])||(this['setTetromino'](this[_0x24939a(0xc6)]),this['lockTetromino'](this[_0x24939a(0xc6)]),this[_0x24939a(0x119)]()),this['setTetromino'](this[_0x24939a(0xc6)]));}['create'](){const _0x4dc20d=_0x47235a;this[_0x4dc20d(0x12d)](),this[_0x4dc20d(0x11f)](),_0x1da11c(this),_0x381b75(this),this[_0x4dc20d(0xb5)]=this['add'][_0x4dc20d(0xb5)](),this['spawn'](),this[_0x4dc20d(0x112)](this[_0x4dc20d(0xc6)]),this[_0x4dc20d(0x16d)]=0x0,this[_0x4dc20d(0x15f)]=this[_0x4dc20d(0xfb)]['addEvent']({'delay':0x3e8,'callback':this[_0x4dc20d(0x10c)],'callbackScope':this,'loop':!0x0}),this[_0x4dc20d(0xcb)]=this['time']['addEvent']({'delay':DROP_DELAY,'callback':this[_0x4dc20d(0xe9)],'callbackScope':this,'loop':!0x0}),console[_0x4dc20d(0x146)](window[_0x4dc20d(0xb1)],window[_0x4dc20d(0xb8)],window['devicePixelRatio']);}['spawn'](){const _0x149ac2=_0x47235a;for(this[_0x149ac2(0xc6)]&&this['activePiece'][_0x149ac2(0x11a)](),this['ghostPiece']&&this[_0x149ac2(0x150)][_0x149ac2(0x11a)](),this['activePiece']=_0x337882(this,0x4,0x13,this[_0x149ac2(0x115)]),this[_0x149ac2(0x150)]=_0x3b2b89(this,this['activePiece'],this[_0x149ac2(0x115)]);_0x14dd30(this[_0x149ac2(0xb5)],this['map'],this[_0x149ac2(0x115)],this[_0x149ac2(0x150)],[0x0,0x1]););this[_0x149ac2(0x112)](this['ghostPiece']),_0x45ad7a(this);}[_0x47235a(0xc5)](){const _0x311150=_0x47235a;for(this['clearTetromino'](this[_0x311150(0x150)]),this[_0x311150(0x150)][_0x311150(0xbc)]('x',this[_0x311150(0xc6)][_0x311150(0x149)]('x')),this[_0x311150(0x150)][_0x311150(0xbc)]('y',this[_0x311150(0xc6)][_0x311150(0x149)]('y')),this['ghostPiece']['x']=this[_0x311150(0x151)][_0x311150(0xf3)](this[_0x311150(0xc6)]['getData']('x')),this[_0x311150(0x150)]['y']=this['map'][_0x311150(0x140)](0x13-this[_0x311150(0xc6)]['getData']('y')),this[_0x311150(0x150)][_0x311150(0xbc)](_0x311150(0x12c),_0xfbbe36(this[_0x311150(0xc6)]['getData'](_0x311150(0x12c)))),this[_0x311150(0x150)][_0x311150(0xbc)](_0x311150(0x102),this['activePiece'][_0x311150(0x149)](_0x311150(0x102)));_0x14dd30(this[_0x311150(0xb5)],this[_0x311150(0x151)],this['gameScale'],this[_0x311150(0x150)],[0x0,0x1]););this[_0x311150(0x112)](this['ghostPiece']);}[_0x47235a(0xf5)](_0x45a36e,_0x2a0cc6){const _0x29294f=_0x47235a;this[_0x29294f(0x120)]||(_0xd51d5f(this),this[_0x29294f(0x128)]());}},_0x582dcd={'type':Phaser[_0x47235a(0x185)],'scale':{'mode':Phaser[_0x47235a(0x109)][_0x47235a(0xd9)],'parent':_0x47235a(0x144),'autoCenter':Phaser[_0x47235a(0x109)][_0x47235a(0xd2)],'width':WIDTH,'height':HEIGHT},'width':WIDTH,'height':HEIGHT,'backgroundColor':_0x47235a(0x19c),'scene':[_0x19a74d]},_0x42da16=new Phaser['Game'](_0x582dcd);})()));function _0x4eb9(_0x2481ad,_0xa31647){const _0x16ba92=_0x16ba();return _0x4eb9=function(_0x4eb939,_0x59873c){_0x4eb939=_0x4eb939-0xb1;let _0x2f0c78=_0x16ba92[_0x4eb939];return _0x2f0c78;},_0x4eb9(_0x2481ad,_0xa31647);}function _0x16ba(){const _0x67ba3e=['tiles','layer','adjustedBlockSize','pause','addTilesetImage','trunc','updateTimer','min','pop','keydown-RIGHT','cells','createTileMaps','Move\x20Data!!','deltaX','stop','padStart','add','activePieceTiles','flares','drop','9449QhaFdE','Rectangle','rotation','type','10158omUIGU','assign','index','blue','10lQscyl','rotateActivePiece','tileToWorldY','isFullscreen','setFrame','fullscreen','jetris','elapsedSeconds','log','setDepth','tetrominoTiles','getData','NEXT','from','activePointer','GREEN','isDown','floor','ghostPiece','map','0:00.000','1117852OhGWzg','BLUE','displayWidth','putTileAt','keydown-UP','Scene','input','alpha','preload','hold','explode','holdLayer','timer','GhostLayer','assets/particles/streak.png','keydown-DOWN','resume','abs','createUI','3BkyxfI','sort','ghostLayer','setText','lockTetromino','cos','angle','milliseconds','CYAN','#00DDFF','isPaused','container','elapsed','Linear','PURPLE','GHOST','JLOSTZ','color','block','bug:\x20','getTile','particles','Geom','queueMap','Line','Queue:\x20','SWAP','2110LwDXuy','showRowClearFX','pointerup','Spawned\x20tetromino:\x20','WEBGL','setName','queue','Wall\x20kick\x20failure','random','assets/images/bg.png','createBlankLayer','scene','28px\x20Exo','centerX','down','make','234710plJosY','assets/ui/fullscreen.png','keyboard','248ntvJsI','stringify','timeText','QueueLayer','push','setPipeline','fill','holdMap','rgb(3,\x2023,\x2054)','parse','innerWidth','Light2D','Created\x20tetromino:\x20','GameLayer','graphics','pink','spritesheet','innerHeight','particleEmitter','tile','EaseOutCubic','setData','image','yellow','holdText','setTile','scale','top','clear','moveActivePiece','updateGhost','activePiece','Wall\x20kicks\x20being\x20evaluated:\x20','getElapsed','tweens','Tetromino\x20bag:\x20','tetrominoTimer','center','atlas','nextText','edge','setOrigin','round','CENTER_BOTH','toString','ceil','setScale','hold_tiles','keydown-ESC','wallKicks','FIT','slice','assets/Sprites/tetris.png','max','left','Bug:\x20','setColor','startFullscreen','clearTetromino','Wall\x20kick\x20success','toFixed','6158112VwDCZy','keys','ADD','text','78352ZClZsh','advanceActivePiece','unshift','Tile\x20occupied','BOARD','nineslice','streak','#FF0077','shake','width','gameScaleY','tileToWorldX','setAmbientColor','update','12041775pgILtM','centerY','keydown-Q','keydown-P','right','time','length','getTileAt','deltaY','assets/particles/blocks.json','getTetrominoTiles','YELLOW','rotationIndex','addLight','46692cOriAj','start','reset','lights','tilemap','Scale','clearHold','load','addSecond','assets/Sprites/tetris_n.png','PopupBackground400','addEmitZone','trail','setTint','setTetromino','star','strokeRectShape','gameScale','queueLayer','BoardFrame','HoldLayer','spawn','destroy','HOLD','assets/ui/nine-slice.json','waterLayer','drawDropAnimation','addFullScreenToggle','gameOver','checkFractions'];_0x16ba=function(){return _0x67ba3e;};return _0x16ba();}