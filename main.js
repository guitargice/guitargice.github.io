(function(_0x3f5515,_0x48f214){const _0x33c2d7=_0x1775,_0x21af2d=_0x3f5515();while(!![]){try{const _0x52e787=-parseInt(_0x33c2d7(0x1a7))/0x1*(parseInt(_0x33c2d7(0x166))/0x2)+-parseInt(_0x33c2d7(0x156))/0x3*(parseInt(_0x33c2d7(0xec))/0x4)+-parseInt(_0x33c2d7(0x136))/0x5*(parseInt(_0x33c2d7(0x15a))/0x6)+parseInt(_0x33c2d7(0x155))/0x7*(parseInt(_0x33c2d7(0x1ab))/0x8)+parseInt(_0x33c2d7(0x197))/0x9+-parseInt(_0x33c2d7(0x1a3))/0xa*(-parseInt(_0x33c2d7(0x13b))/0xb)+-parseInt(_0x33c2d7(0x199))/0xc;if(_0x52e787===_0x48f214)break;else _0x21af2d['push'](_0x21af2d['shift']());}catch(_0x83cc7){_0x21af2d['push'](_0x21af2d['shift']());}}}(_0x1d9d,0xde43b),((()=>{const _0x32c766=_0x1775;var _0x8fcfe2=Tiles={'BLUE':0x0,'CYAN':0x1,'ORANGE':0x2,'YELLOW':0x3,'GREEN':0x4,'RED':0x5,'PURPLE':0x6,'BOARD':0x7,'BORDER_BOTTOM':0x8,'BORDER_LEFT':0x9,'BORDER_TOP':0xa,'BORDER_RIGHT':0xb,'GHOST':0xc,'HELPER':0xd,'EMPTY':0xe,'EMPTY2':0xf,'BORDER_CORNER_BOTTOM_LEFT':0x10,'BORDER_CORNER_TOP_LEFT':0x11,'BORDER_CORNER_TOP_RIGHT':0x12,'BORDER_CORNER_BOTTOM_RIGHT':0x13};cos=Math[_0x32c766(0x19e)](Math['PI']/0x2),sin=Math['sin'](Math['PI']/0x2),RotationMatrix=[cos,sin,-sin,cos],TetrominoBag=[],TetrominoQueue=[],heldPiece=null,hasSwapped=!0x1;var _0x377e24={'L':'L','I':'I','J':'J','O':'O','S':'S','T':'T','Z':'Z'},_0xb1d819=()=>{const _0xab4697=_0x32c766;if(TetrominoBag['length']===0x0){let _0x9df04a=Object[_0xab4697(0xe9)](_0x377e24);for(let _0x18ce87=_0x9df04a['length']-0x1;_0x18ce87>0x0;_0x18ce87--){let _0x1463cf=Math['floor'](Math[_0xab4697(0x1b6)]()*(_0x18ce87+0x1));[_0x9df04a[_0x18ce87],_0x9df04a[_0x1463cf]]=[_0x9df04a[_0x1463cf],_0x9df04a[_0x18ce87]];}TetrominoBag=[..._0x9df04a];}let _0x21a0b5=TetrominoBag[_0xab4697(0x1a2)]();return DEBUG&&console['log'](_0xab4697(0x10e),TetrominoBag),_0x21a0b5;};function _0xadf033(){const _0x44837e=_0x32c766;return TetrominoBag[_0x44837e(0x161)]===0x0&&_0xb1d819(),[...TetrominoBag[_0x44837e(0x125)](0x0,0x3)];}var _0x279555={'L':_0x8fcfe2[_0x32c766(0x1a8)],'I':_0x8fcfe2[_0x32c766(0x17a)],'J':_0x8fcfe2[_0x32c766(0x183)],'O':_0x8fcfe2[_0x32c766(0xff)],'S':_0x8fcfe2['GREEN'],'T':_0x8fcfe2['PURPLE'],'Z':_0x8fcfe2['RED']},_0x264a98={'I':[[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]]],'JLOSTZ':[[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]]]},_0x742196={'I':[0x0,0x0],'O':[0x0,0x0],'J':[-0.5,0.5],'L':[-0.5,0.5],'S':[-0.5,0.5],'T':[-0.5,0.5],'Z':[-0.5,0.5]},_0x43b1cd={'L':{'cells':[[0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x264a98['JLOSTZ'],'color':0xffa500},'I':{'cells':[[-0x1,0x1],[0x0,0x1],[0x1,0x1],[0x2,0x1]],'wallKicks':_0x264a98['I'],'color':0xffff},'J':{'cells':[[-0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x264a98[_0x32c766(0xf6)],'color':0xff},'O':{'cells':[[0x0,0x0],[0x1,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x264a98[_0x32c766(0xf6)],'color':0xffff00},'S':{'cells':[[-0x1,0x0],[0x0,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x264a98[_0x32c766(0xf6)],'color':0xff00},'T':{'cells':[[-0x1,0x0],[0x0,0x0],[0x1,0x0],[0x0,0x1]],'wallKicks':_0x264a98['JLOSTZ'],'color':0x800080},'Z':{'cells':[[-0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x264a98[_0x32c766(0xf6)],'color':0xff0000}};function _0x254440(_0x274052){const _0x43a79c=_0x32c766;return JSON[_0x43a79c(0x195)](JSON['stringify'](_0x274052));}function _0x1e9d78(_0x15885f){const _0xe7dffc=_0x32c766;let _0x116963=_0xadf033();for(let _0x44d655=0x0;_0x44d655<_0x116963[_0xe7dffc(0x161)];_0x44d655++)TetrominoQueue[_0xe7dffc(0xf5)](_0x2ce9af(_0x15885f,_0x116963[_0x44d655])),DEBUG&&console['log'](_0xe7dffc(0x182),TetrominoQueue);}function _0x2ce9af(_0x55ccee,_0x3d5bc){const _0x432fff=_0x32c766;let _0x1debe8=_0x43b1cd[_0x3d5bc],_0x357891=_0x55ccee['add'][_0x432fff(0x112)](0x0,0x0);return _0x357891[_0x432fff(0x13a)](_0x432fff(0x121),_0x254440(_0x1debe8['cells'])),_0x357891['setData'](_0x432fff(0x164),_0x1debe8[_0x432fff(0x164)]),_0x357891[_0x432fff(0x13a)](_0x432fff(0x10c),_0x1debe8[_0x432fff(0x10c)]),_0x357891['setData'](_0x432fff(0x1b0),_0x279555[_0x3d5bc]),_0x357891[_0x432fff(0x13a)]('type',_0x3d5bc),_0x357891[_0x432fff(0x13a)](_0x432fff(0x13f),0x0),_0x357891['setData'](_0x432fff(0x13d),[0x0,0x0]),_0x357891[_0x432fff(0x13a)]('x',0x0),_0x357891['setData']('y',0x0),DEBUG&&console['log']('Created\x20tetromino:\x20',_0x357891),_0x357891;}function _0x1ac0f7(_0x1f4fd1,_0x18130c,_0x4e2ecb,_0xa88d01){const _0x2b2353=_0x32c766;let _0x578fd3=TetrominoQueue[_0x2b2353(0x1a2)]()[_0x2b2353(0x18c)](_0xa88d01),_0x2bf929=_0x578fd3[_0x2b2353(0x1ae)](_0x2b2353(0x10f));return _0x578fd3[_0x2b2353(0x13a)]('x',_0x18130c),_0x578fd3['setData']('y',_0x4e2ecb-(_0x2bf929===_0x43b1cd['I']?0x1:0x0)),DEBUG&&console[_0x2b2353(0x18f)](_0x2b2353(0x15b),_0x578fd3),TetrominoQueue[_0x2b2353(0x1a9)](_0x2ce9af(_0x1f4fd1,_0xb1d819())),_0x578fd3;}function _0x5d49fb(){return TetrominoQueue;}function _0x3fda42(){return heldPiece;}function _0x4f977e(_0x516662){const _0xe2169f=_0x32c766;if(heldPiece){if(hasSwapped)return _0x516662[_0xe2169f(0x187)];{let _0x4cc4a4=_0x2ce9af(_0x516662,_0x516662['activePiece'][_0xe2169f(0x1ae)]('type')),_0x4e93f9=Object[_0xe2169f(0x173)](heldPiece);return _0x4e93f9[_0xe2169f(0x13a)]('x',_0x516662[_0xe2169f(0x187)]['getData']('x')),_0x4e93f9['setData']('y',_0x516662['activePiece'][_0xe2169f(0x1ae)]('y')),heldPiece=_0x4cc4a4,hasSwapped=!0x0,_0x4e93f9;}}else{heldPiece=_0x2ce9af(_0x516662,_0x516662[_0xe2169f(0x187)][_0xe2169f(0x1ae)](_0xe2169f(0x10f)));let _0x3c88eb=_0x1ac0f7(_0x516662,0x4,0x13,heldPiece[_0xe2169f(0x16f)]);return hasSwapped=!0x0,_0x3c88eb;}}function _0x15f0e5(){hasSwapped=!0x1;}function _0x4d860a(){hasSwapped=!0x1,heldPiece=null;}function _0x133512(_0x48016c,_0x108b69,_0x87ddf5){const _0x26a7ea=_0x32c766;let _0x248e61=_0x108b69['getData'](_0x26a7ea(0x10f)),_0x896f55=_0x43b1cd[_0x248e61],_0x5c0c90=_0x48016c[_0x26a7ea(0x128)][_0x26a7ea(0x112)](0x0,0x0)[_0x26a7ea(0x18c)](_0x87ddf5);return _0x5c0c90[_0x26a7ea(0x13a)](_0x26a7ea(0x1b0),_0x8fcfe2['GHOST']),_0x5c0c90[_0x26a7ea(0x13a)](_0x26a7ea(0x121),_0x254440(_0x108b69[_0x26a7ea(0x1ae)]('cells'))),_0x5c0c90[_0x26a7ea(0x13a)](_0x26a7ea(0x10f),_0x108b69['getData']('type')),_0x5c0c90[_0x26a7ea(0x13a)](_0x26a7ea(0x13f),_0x108b69[_0x26a7ea(0x1ae)](_0x26a7ea(0x13f))),_0x5c0c90[_0x26a7ea(0x13a)]('rotation',_0x108b69['getData'](_0x26a7ea(0x13d))),_0x5c0c90['setData']('x',_0x108b69[_0x26a7ea(0x1ae)]('x')),_0x5c0c90[_0x26a7ea(0x13a)]('y',_0x108b69['getData']('y')),_0x5c0c90[_0x26a7ea(0x13a)]('wallKicks',_0x108b69[_0x26a7ea(0x1ae)](_0x26a7ea(0x10c))),_0x5c0c90;}function _0x42fb91(_0x3e6abd,_0x2b24fb,_0x552ee7){return _0x3e6abd<_0x2b24fb?_0x552ee7-(_0x2b24fb-_0x3e6abd)%(_0x552ee7-_0x2b24fb):_0x2b24fb+(_0x3e6abd-_0x2b24fb)%(_0x552ee7-_0x2b24fb);}function _0x54f5fc(_0x1eb5c3,_0x185793,_0x29d2ea,_0x3a7aed,_0x3cd900){const _0x5d6b94=_0x32c766;originalRotation=_0x3a7aed[_0x5d6b94(0x1ae)](_0x5d6b94(0x13f))||0x0,rotationIndex=_0x42fb91(originalRotation+_0x3cd900,0x0,0x4),DEBUG&&console['log']('Rotation:\x20',rotationIndex),_0x4f7605(_0x3a7aed,_0x3cd900),_0x558699(_0x1eb5c3,_0x185793,_0x29d2ea,_0x3a7aed,rotationIndex,_0x3cd900)||(rotationIndex=originalRotation,_0x4f7605(_0x3a7aed,-_0x3cd900)),_0x3a7aed[_0x5d6b94(0x13a)](_0x5d6b94(0x13f),rotationIndex);}function _0x558699(_0x5e67b2,_0x2a3c23,_0x2fee9d,_0x3bfc89,_0x51b5ef,_0xb74d19){const _0x27c552=_0x32c766;for(wallKicks=_0x3bfc89[_0x27c552(0x1ae)](_0x27c552(0x10c)),wallKickIndex=_0x1be84a(_0x51b5ef,_0xb74d19),DEBUG&&console[_0x27c552(0x18f)](_0x27c552(0x19c),wallKicks[wallKickIndex]),i=0x0;i<0x5;i++)if(translation=wallKicks[wallKickIndex][i],_0x47998c(_0x5e67b2,_0x2a3c23,_0x2fee9d,_0x3bfc89,translation,!0x0))return DEBUG&&console[_0x27c552(0x18f)](_0x27c552(0x16d)),!0x0;return DEBUG&&console[_0x27c552(0x18f)](_0x27c552(0x145)),!0x1;}function _0x1be84a(_0x2fbf38,_0x14fbde){return wallKickIndex=_0x2fbf38*0x2,_0x14fbde<0x0&&wallKickIndex--,_0x42fb91(wallKickIndex,0x0,0x8);}function _0x5c79e(_0x4cb4d0,_0x40bfed,_0x2c55f9,_0x4b2360,_0x547a86,_0x458126){const _0x2ddd6f=_0x32c766;let _0x556dac=_0x4b2360[_0x2ddd6f(0x1ae)]('cells'),_0xd326a=_0x4b2360[_0x2ddd6f(0x1ae)]('type'),_0x1fbba3=_0x4b2360[_0x2ddd6f(0x1ae)]('x'),_0x5223b4=_0x4b2360[_0x2ddd6f(0x1ae)]('y');DEBUG&&(_0x4cb4d0[_0x2ddd6f(0x1ad)](),DEBUG&&console[_0x2ddd6f(0x18f)](_0x2ddd6f(0x101),_0x547a86));for(let _0x42ec61=0x0;_0x42ec61<_0x556dac[_0x2ddd6f(0x161)];_0x42ec61++){let _0x51659e=_0x1fbba3+_0x556dac[_0x42ec61][0x0]+_0x547a86[0x0],_0x1d0bb0=_0x5223b4+_0x556dac[_0x42ec61][0x1]-_0x547a86[0x1];if(DEBUG&&(wx=_0x40bfed[_0x2ddd6f(0x122)](_0x51659e),wy=_0x40bfed[_0x2ddd6f(0x12e)](0x14-_0x1d0bb0),_0x4cb4d0[_0x2ddd6f(0x13c)](0x1,0xff00ff),_0x4cb4d0[_0x2ddd6f(0x114)](new Phaser[(_0x2ddd6f(0x19d))]['Rectangle'](wx,wy,0x40*_0x2c55f9,0x40*_0x2c55f9))),_0x51659e%0x1!=0x0||_0x1d0bb0%0x1!=0x0)return DEBUG&&console['log'](_0x2ddd6f(0x126),_0x51659e,_0x1d0bb0),!0x1;let _0x43cfaa=_0x40bfed['getTileAt'](_0x51659e,0x14-_0x1d0bb0);if(!_0x43cfaa||_0x43cfaa[_0x2ddd6f(0x14d)]!==_0x8fcfe2[_0x2ddd6f(0x16c)]&&_0x43cfaa[_0x2ddd6f(0x14d)]!==_0x8fcfe2[_0x2ddd6f(0x11b)])return DEBUG&&console[_0x2ddd6f(0x18f)]('Tile\x20occupied'),!0x1;}return!0x0;}function _0x47998c(_0xd7b7e7,_0x3cb06b,_0xe8138d,_0x1902bd,_0x55786c,_0x331b68){const _0x349568=_0x32c766;return isValid=_0x5c79e(_0xd7b7e7,_0x3cb06b,_0xe8138d,_0x1902bd,_0x55786c,_0x331b68),isValid&&(_0x1902bd[_0x349568(0x13a)]('x',_0x1902bd[_0x349568(0x1ae)]('x')+_0x55786c[0x0]),_0x1902bd[_0x349568(0x13a)]('y',_0x1902bd[_0x349568(0x1ae)]('y')-_0x55786c[0x1]),_0x1902bd['x']=_0x3cb06b[_0x349568(0x122)](_0x1902bd[_0x349568(0x1ae)]('x')),_0x1902bd['y']=_0x3cb06b[_0x349568(0x12e)](0x13-_0x1902bd['getData']('y'))),isValid;}function _0x4f7605(_0x4fa6b1,_0x5e4c5d){const _0x14d6f1=_0x32c766;let _0xb7d28d=_0x742196[_0x4fa6b1['getData']('type')],_0x4ab2aa=_0x4fa6b1[_0x14d6f1(0x1ae)]('cells'),_0x19e2b4=_0x4fa6b1[_0x14d6f1(0x1ae)]('type'),_0x265e98=RotationMatrix,_0x16b69d=[],_0x2f6791=_0x19e2b4===_0x377e24['O']||_0x19e2b4===_0x377e24['I'];if(_0x2f6791){for(let _0x178412=0x0;_0x178412<_0x4ab2aa[_0x14d6f1(0x161)];_0x178412++)_0x4ab2aa[_0x178412][0x0]-=0.5,_0x4ab2aa[_0x178412][0x1]-=0.5;}for(let _0x3ca62c=0x0;_0x3ca62c<_0x4ab2aa[_0x14d6f1(0x161)];_0x3ca62c++){let _0x1b2b9b=parseFloat((_0x4ab2aa[_0x3ca62c][0x0]*_0x265e98[0x0]*_0x5e4c5d+_0x4ab2aa[_0x3ca62c][0x1]*_0x265e98[0x1]*_0x5e4c5d)[_0x14d6f1(0x12f)](0x1)),_0x94f8c0=parseFloat((_0x4ab2aa[_0x3ca62c][0x0]*_0x265e98[0x2]*_0x5e4c5d+_0x4ab2aa[_0x3ca62c][0x1]*_0x265e98[0x3]*_0x5e4c5d)[_0x14d6f1(0x12f)](0x1));_0x16b69d['push']([_0x2f6791?Math[_0x14d6f1(0x116)](_0x1b2b9b):Math['round'](_0x1b2b9b),_0x2f6791?Math[_0x14d6f1(0x116)](_0x94f8c0):Math[_0x14d6f1(0x18b)](_0x94f8c0)]);}return _0x4fa6b1[_0x14d6f1(0x13a)]('cells',_0x16b69d),tmp=[parseFloat((_0xb7d28d[0x0]*_0x265e98[0x0]*_0x5e4c5d+_0xb7d28d[0x1]*_0x265e98[0x1]*_0x5e4c5d)[_0x14d6f1(0x12f)](0x1)),parseFloat((_0xb7d28d[0x0]*_0x265e98[0x2]*_0x5e4c5d+_0xb7d28d[0x1]*_0x265e98[0x3]*_0x5e4c5d)['toFixed'](0x1))],_0x4fa6b1[_0x14d6f1(0x13a)](_0x14d6f1(0x13d),tmp),_0x16b69d;}function _0x52e51c(_0x1bbff0){const _0x1b51f7=_0x32c766;_0x1bbff0[_0x1b51f7(0x124)]['addPointer'](0x1),_0x1bbff0[_0x1b51f7(0x124)][_0x1b51f7(0x12d)]['on'](_0x1b51f7(0xe8),()=>{const _0xfb043e=_0x1b51f7;_0x1bbff0[_0xfb043e(0x178)]([-0x1,0x0]);}),_0x1bbff0['input'][_0x1b51f7(0x12d)]['on']('keydown-RIGHT',()=>{const _0x46a6ac=_0x1b51f7;_0x1bbff0[_0x46a6ac(0x178)]([0x1,0x0]);}),_0x1bbff0[_0x1b51f7(0x124)]['keyboard']['on'](_0x1b51f7(0x148),()=>{const _0x50a90b=_0x1b51f7;_0x1bbff0[_0x50a90b(0x178)]([0x0,0x1]);}),DEBUG&&_0x1bbff0[_0x1b51f7(0x124)]['keyboard']['on'](_0x1b51f7(0x1ac),()=>{const _0x35a4a7=_0x1b51f7;_0x1bbff0[_0x35a4a7(0x178)]([0x0,-0x1]);}),_0x1bbff0[_0x1b51f7(0x124)][_0x1b51f7(0x12d)]['on'](_0x1b51f7(0x15d),()=>{_0x1bbff0['rotateActivePiece'](0x1);}),_0x1bbff0['input']['keyboard']['on'](_0x1b51f7(0x1a0),()=>{const _0x338553=_0x1b51f7;_0x1bbff0[_0x338553(0x138)](-0x1);}),_0x1bbff0[_0x1b51f7(0x124)][_0x1b51f7(0x12d)]['on'](_0x1b51f7(0x12b),()=>{const _0x27fd85=_0x1b51f7;_0x1bbff0[_0x27fd85(0x11a)]();}),_0x1bbff0[_0x1b51f7(0x124)][_0x1b51f7(0x12d)]['on'](_0x1b51f7(0x188),()=>{const _0x3d1673=_0x1b51f7;_0x1bbff0[_0x3d1673(0x1b2)]();}),_0x1bbff0[_0x1b51f7(0x124)][_0x1b51f7(0x12d)]['on'](_0x1b51f7(0x18d),()=>{const _0x346c58=_0x1b51f7;_0x1bbff0[_0x346c58(0xee)][_0x346c58(0x109)]()?_0x1bbff0[_0x346c58(0xee)]['resume']():_0x1bbff0[_0x346c58(0xee)][_0x346c58(0x127)]();}),_0x1bbff0[_0x1b51f7(0x124)][_0x1b51f7(0x12d)]['on'](_0x1b51f7(0x134),()=>{const _0x1ad302=_0x1b51f7;_0x1bbff0[_0x1ad302(0x17e)][_0x1ad302(0x143)](Tiles[_0x1ad302(0x16c)]),_0x1bbff0[_0x1ad302(0x17e)][_0x1ad302(0x143)](null,0x0,0x0,BOARD_WIDTH,BOARD_HEIGHT,!0x0,'GhostLayer'),_0x1bbff0['clearHold'](),_0x1bbff0[_0x1ad302(0x159)]=!0x1,_0x1bbff0[_0x1ad302(0x146)](),_0x1bbff0[_0x1ad302(0x175)](_0x1bbff0[_0x1ad302(0x187)]);});}isClicking=!0x1,dropped=!0x1,held=!0x1,clicked=!0x1,dragged=!0x1,touchDeltaX=0x0,touchDeltaY=0x0;function _0x1f4c30(_0xe27cd7){const _0x38afa1=_0x32c766;if(_0xe27cd7[_0x38afa1(0x124)][_0x38afa1(0x170)][_0x38afa1(0x1b4)]){clicked=!0x0;let _0x4554d8=Math[_0x38afa1(0x17d)](_0xe27cd7[_0x38afa1(0x124)][_0x38afa1(0x170)]['x']-touchDeltaX),_0xf6c14c=Math[_0x38afa1(0x17d)](_0xe27cd7['input'][_0x38afa1(0x170)]['y']-touchDeltaY);_0x4554d8>=0x4b&&_0x4554d8>_0xf6c14c?(_0xe27cd7[_0x38afa1(0x124)][_0x38afa1(0x170)]['x']<touchDeltaX?swipeDirection=_0x38afa1(0x1a6):_0xe27cd7[_0x38afa1(0x124)]['activePointer']['x']>touchDeltaX&&touchDeltaX!=0x0?swipeDirection=_0x38afa1(0xfd):(swipeDirection='',touchDeltaX=0x0),touchDeltaX=_0xe27cd7[_0x38afa1(0x124)][_0x38afa1(0x170)]['x'],swipeDirection!=''&&(_0xe27cd7[_0x38afa1(0x178)]([swipeDirection==_0x38afa1(0x1a6)?-0x1:0x1,0x0]),dragged=!0x0)):!dropped&&!held&&_0xf6c14c>=0xc8&&_0xf6c14c>_0x4554d8&&(_0xe27cd7[_0x38afa1(0x124)][_0x38afa1(0x170)]['y']>touchDeltaY&&touchDeltaY!=0x0?swipeDirection=_0x38afa1(0x12c):_0xe27cd7['input'][_0x38afa1(0x170)]['y']<touchDeltaY&&touchDeltaY!=0x0?swipeDirection='up':(swipeDirection='',touchDeltaY=0x0),touchDeltaY=_0xe27cd7[_0x38afa1(0x124)][_0x38afa1(0x170)]['y'],swipeDirection==_0x38afa1(0x12c)?(_0xe27cd7[_0x38afa1(0x11a)](),dropped=!0x0):swipeDirection=='up'&&(_0xe27cd7['hold'](),held=!0x0));}else touchDeltaX=0x0,touchDeltaY=0x0,clicked&&!dragged&&!dropped&&!held&&(_0xe27cd7[_0x38afa1(0x124)][_0x38afa1(0x170)]['x']<_0xe27cd7[_0x38afa1(0x120)]['x']?_0xe27cd7[_0x38afa1(0x138)](-0x1):_0xe27cd7[_0x38afa1(0x138)](0x1)),clicked=!0x1,dropped=!0x1,dragged=!0x1,held=!0x1;}WIDTH=0x320,HEIGHT=0x400,DEBUG=!0x1,BOARD_WIDTH=0xa,BOARD_HEIGHT=0x14,BLOCK_SIZE=0x40,swipeDirection='',touchDeltaX=0x0,touchDeltaY=0x0,swipeDelay=0x0;var _0x23a3c2=class extends Phaser[_0x32c766(0x113)]{constructor(){const _0x791066=_0x32c766;super({'key':_0x791066(0x185),'active':!0x0}),(this['container'],this[_0x791066(0x167)]=Array[_0x791066(0x174)]({'length':BOARD_HEIGHT},()=>Array[_0x791066(0x174)]({'length':BOARD_WIDTH},()=>_0x8fcfe2[_0x791066(0x16c)])),this[_0x791066(0x17e)],this[_0x791066(0x107)],this[_0x791066(0x14c)],this[_0x791066(0x120)]={'x':WIDTH/0x2,'y':HEIGHT/0x2},this['deltaX']=this['center']['x']*0x2/0x8,this[_0x791066(0x18e)]=this['center']['y']*0x2/0x14,this[_0x791066(0x1a1)]=this[_0x791066(0x194)]*2.5/this[_0x791066(0x120)]['x'],this[_0x791066(0xfa)]=this[_0x791066(0x18e)]*2.5/this[_0x791066(0x120)]['y'],this[_0x791066(0x19b)]=BLOCK_SIZE*this[_0x791066(0x1a1)],this[_0x791066(0x151)]=0x0,this['activePiece'],this[_0x791066(0x132)],this[_0x791066(0x141)],this['gameOver']=!0x1,this['layer'],this['ghostLayer'],this[_0x791066(0x10d)],this[_0x791066(0x184)],this[_0x791066(0x186)],this[_0x791066(0x10b)]);}['preload'](){const _0x526472=_0x32c766;this[_0x526472(0x19f)]['image'](_0x526472(0xf9),[_0x526472(0x15f),'assets/Sprites/tetris_n.png']),this[_0x526472(0x19f)][_0x526472(0x123)](_0x526472(0x119),_0x526472(0xfb),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this[_0x526472(0x19f)]['spritesheet']('blocks',_0x526472(0x15f),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this['load']['atlas'](_0x526472(0x12a),_0x526472(0x1a4),_0x526472(0xef)),this[_0x526472(0x19f)][_0x526472(0x1af)](_0x526472(0x131),_0x526472(0x137)),this[_0x526472(0x19f)][_0x526472(0x1af)](_0x526472(0x10a),_0x526472(0x19a)),this['load']['image'](_0x526472(0x1a5),_0x526472(0x11d)),this[_0x526472(0x19f)][_0x526472(0x1af)]('bg',_0x526472(0x171));}['createQueueMap'](){const _0x1100b1=_0x32c766;let _0x14d00a=Array[_0x1100b1(0x174)]({'length':0x9},()=>Array['from']({'length':0x4},()=>_0x8fcfe2['BOARD']));for(let _0x2ff047=0x0;_0x2ff047<0x9;_0x2ff047++)for(let _0x50cac7=0x0;_0x50cac7<0x4;_0x50cac7++)_0x50cac7%0x2==0x0?_0x14d00a[_0x2ff047][_0x50cac7]=_0x8fcfe2[_0x1100b1(0x16c)]:_0x14d00a[_0x2ff047][_0x50cac7]=null;this['queueMap']=this['make']['tilemap']({'key':'queue_tiles','data':_0x14d00a,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x1100b1(0x144)]=this['queueMap']['addTilesetImage'](_0x1100b1(0x117),_0x1100b1(0xf9),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x1100b1(0x16e)]=this[_0x1100b1(0x107)][_0x1100b1(0xfc)](_0x1100b1(0x179),this[_0x1100b1(0x144)],this[_0x1100b1(0x120)]['x']+(BOARD_WIDTH+0x2)/0x2*BLOCK_SIZE*this['gameScale'],0x3*BLOCK_SIZE*this[_0x1100b1(0x1a1)])[_0x1100b1(0x18c)](this[_0x1100b1(0x1a1)]*0.75),this['queueLayer'][_0x1100b1(0x163)](_0x1100b1(0x133)),this[_0x1100b1(0x107)][_0x1100b1(0x143)](_0x8fcfe2[_0x1100b1(0x16c)],0x0,0x0,0x4,0x9,!0x0);for(let _0x101243=0x0;_0x101243<0x4;_0x101243++)for(let _0x13f3e4=0x0;_0x13f3e4<0x9;_0x13f3e4++)_0x13f3e4%0x3==0x2&&this[_0x1100b1(0x107)][_0x1100b1(0x1aa)](_0x101243,_0x13f3e4,!0x0,!0x1,'QueueLayer');}[_0x32c766(0x147)](){const _0x45d6fe=_0x32c766;let _0xbc5496=Array[_0x45d6fe(0x174)]({'length':0x2},()=>Array[_0x45d6fe(0x174)]({'length':0x4},()=>_0x8fcfe2[_0x45d6fe(0x16c)]));this[_0x45d6fe(0x14c)]=this['make'][_0x45d6fe(0x193)]({'key':'queue_tiles','data':_0xbc5496,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x45d6fe(0x153)]=this[_0x45d6fe(0x14c)][_0x45d6fe(0x1b3)](_0x45d6fe(0x117),_0x45d6fe(0xf9),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this['holdLayer']=this[_0x45d6fe(0x14c)][_0x45d6fe(0xfc)]('HoldLayer',this[_0x45d6fe(0x144)],this[_0x45d6fe(0x120)]['x']-(BOARD_WIDTH+0x8)/0x2*BLOCK_SIZE*this['gameScale'],0x3*BLOCK_SIZE*this['gameScale'])[_0x45d6fe(0x18c)](this[_0x45d6fe(0x1a1)]*0.75),this[_0x45d6fe(0xeb)][_0x45d6fe(0x163)]('Light2D'),this[_0x45d6fe(0x14c)]['fill'](_0x8fcfe2[_0x45d6fe(0x16c)],0x0,0x0,0x4,0x2,!0x0);}[_0x32c766(0x177)](){const _0x2856d1=_0x32c766;this['map']=this[_0x2856d1(0x16b)][_0x2856d1(0x193)]({'key':_0x2856d1(0x106),'data':this['level'],'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x304bec=this[_0x2856d1(0x17e)][_0x2856d1(0x1b3)]('tiles','block',BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);this['ghostLayer']=this[_0x2856d1(0x17e)][_0x2856d1(0xfc)]('GhostLayer',_0x304bec,this[_0x2856d1(0x120)]['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this['gameScale'],0x3*BLOCK_SIZE*this[_0x2856d1(0x1a1)])[_0x2856d1(0x18c)](this[_0x2856d1(0x1a1)]),this[_0x2856d1(0xfe)]=this['map'][_0x2856d1(0xfc)](_0x2856d1(0xe5),_0x304bec,this['center']['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this['gameScale'],0x3*BLOCK_SIZE*this['gameScale'])['setScale'](this[_0x2856d1(0x1a1)]),this['layer'][_0x2856d1(0x163)](_0x2856d1(0x133)),this[_0x2856d1(0x17e)][_0x2856d1(0x143)](_0x8fcfe2[_0x2856d1(0x16c)]);}[_0x32c766(0xf8)](){const _0x265756=_0x32c766;this[_0x265756(0x128)][_0x265756(0x1af)](this[_0x265756(0x120)]['x'],this['center']['y'],'bg')['setScale'](this[_0x265756(0x1a1)]*1.6),this['lights']['enable']()['setAmbientColor'](0xeeeeee);let _0x5badb0=this[_0x265756(0x18a)][_0x265756(0x103)](WIDTH,-HEIGHT,HEIGHT*0x3,0xffffff,0x4);this[_0x265756(0x152)](),this['createHoldMap'](),this[_0x265756(0x177)]();}['checkFractions'](_0xc9ad61,_0x110d55){const _0x3c4121=_0x32c766;return _0xc9ad61%0x1!=0x0||_0x110d55%0x1!=0x0?(DEBUG&&console[_0x3c4121(0x18f)](_0x3c4121(0x191),_0xc9ad61,_0x110d55),!0x0):!0x1;}[_0x32c766(0x189)](_0x3255e8,_0x1fee18,_0x99a3d9){const _0x2fef55=_0x32c766;this[_0x2fef55(0x192)](_0x3255e8,_0x1fee18)||(this[_0x2fef55(0x17e)][_0x2fef55(0x196)](_0x99a3d9,_0x3255e8,BOARD_HEIGHT-_0x1fee18,!0x1,_0x99a3d9===_0x8fcfe2[_0x2fef55(0x11b)]?_0x2fef55(0x142):_0x2fef55(0xe5)),_0x99a3d9===_0x8fcfe2[_0x2fef55(0x16c)]&&this[_0x2fef55(0x17e)][_0x2fef55(0x1aa)](_0x3255e8,BOARD_HEIGHT-_0x1fee18,!0x0,!0x1,_0x2fef55(0x142)));}[_0x32c766(0x150)](_0x4ce188,_0x491496){const _0x51c879=_0x32c766;return this[_0x51c879(0x192)](_0x4ce188,_0x491496)?null:this['map'][_0x51c879(0x14f)](_0x4ce188,BOARD_HEIGHT-_0x491496,!0x1,this[_0x51c879(0xfe)]);}[_0x32c766(0x175)](_0x4eeb53){const _0x5b013f=_0x32c766;let _0x58b883=_0x4eeb53[_0x5b013f(0x1ae)]('cells'),_0x264a45=_0x4eeb53[_0x5b013f(0x1ae)]('x'),_0x51e0f8=_0x4eeb53[_0x5b013f(0x1ae)]('y');if(this['checkFractions'](_0x264a45,_0x51e0f8)){DEBUG&&console[_0x5b013f(0x18f)](_0x5b013f(0x172),_0x4eeb53);return;}for(let _0x55f58c=0x0;_0x55f58c<_0x58b883[_0x5b013f(0x161)];_0x55f58c++)for(let _0xad835e=0x0;_0xad835e<_0x58b883[_0x55f58c]['length']-0x1;_0xad835e++){if(this[_0x5b013f(0x192)](_0x58b883[_0x55f58c][_0xad835e],_0x58b883[_0x55f58c][_0xad835e+0x1])){DEBUG&&console[_0x5b013f(0x18f)](_0x5b013f(0x108),tetrommino);return;}let _0x5c9a3e=this['getTile'](_0x264a45+_0x58b883[_0x55f58c][_0xad835e],_0x51e0f8+_0x58b883[_0x55f58c][_0xad835e+0x1]);if(_0x5c9a3e&&_0x5c9a3e[_0x5b013f(0x14d)]===_0x8fcfe2[_0x5b013f(0x16c)])this[_0x5b013f(0x189)](_0x264a45+_0x58b883[_0x55f58c][_0xad835e],_0x51e0f8+_0x58b883[_0x55f58c][_0xad835e+0x1],_0x4eeb53[_0x5b013f(0x1ae)](_0x5b013f(0x1b0)));else{this[_0x5b013f(0x159)]=!0x0;return;}}}[_0x32c766(0x115)](){const _0x3d98e9=_0x32c766;this[_0x3d98e9(0x14c)]['fill'](_0x8fcfe2[_0x3d98e9(0x16c)],0x0,0x0,0x4,0x2,!0x0),_0x4d860a();}[_0x32c766(0xf7)](_0x2ba2c7){const _0x50d5f9=_0x32c766;let _0x26615c=_0x2ba2c7[_0x50d5f9(0x1ae)](_0x50d5f9(0x121)),_0x3f2d6f=_0x2ba2c7['getData']('x'),_0x19ad15=_0x2ba2c7[_0x50d5f9(0x1ae)]('y');if(!this[_0x50d5f9(0x192)](_0x3f2d6f,_0x19ad15)){for(let _0x4f0933=0x0;_0x4f0933<_0x26615c[_0x50d5f9(0x161)];_0x4f0933++)for(let _0x5463e0=0x0;_0x5463e0<_0x26615c[_0x4f0933][_0x50d5f9(0x161)]-0x1;_0x5463e0++){if(this[_0x50d5f9(0x192)](_0x26615c[_0x4f0933][_0x5463e0],_0x26615c[_0x4f0933][_0x5463e0+0x1]))return;this[_0x50d5f9(0x189)](_0x3f2d6f+_0x26615c[_0x4f0933][_0x5463e0],_0x19ad15+_0x26615c[_0x4f0933][_0x5463e0+0x1],_0x8fcfe2[_0x50d5f9(0x16c)]);}}}[_0x32c766(0x139)](){const _0x1e71d6=_0x32c766;let _0x366967=this['add'][_0x1e71d6(0x1af)](WIDTH-0x10,0x10,_0x1e71d6(0x119),0x0)[_0x1e71d6(0x165)](0x1,0x0)[_0x1e71d6(0x18c)](0.25)[_0x1e71d6(0xed)]();_0x366967['on'](_0x1e71d6(0x1b1),function(){const _0x331fb8=_0x1e71d6;this['scale'][_0x331fb8(0x17c)]?(_0x366967[_0x331fb8(0x180)](0x0),this[_0x331fb8(0x16f)][_0x331fb8(0x13e)]()):(_0x366967['setFrame'](0x1),this['scale'][_0x331fb8(0x1b5)]());},this);}[_0x32c766(0x178)](_0x13feba){const _0x5a0fbd=_0x32c766;this[_0x5a0fbd(0x187)]&&(this[_0x5a0fbd(0xf7)](this[_0x5a0fbd(0x187)]),_0x47998c(this['graphics'],this[_0x5a0fbd(0x17e)],this[_0x5a0fbd(0x1a1)],this[_0x5a0fbd(0x187)],_0x13feba),this[_0x5a0fbd(0x160)](),this[_0x5a0fbd(0x175)](this[_0x5a0fbd(0x187)]));}[_0x32c766(0x1b2)](){const _0x43924b=_0x32c766;let _0x581340=this[_0x43924b(0x187)][_0x43924b(0x1ae)](_0x43924b(0x10f));this['clearTetromino'](this[_0x43924b(0x187)]);let _0x4c7b16=_0x4f977e(this);if(_0x4c7b16===this['activePiece']){let _0x41e479=this[_0x43924b(0x104)](this[_0x43924b(0x187)]);this[_0x43924b(0x141)][_0x43924b(0x13c)](0x4,0xff0000,0x1),this[_0x43924b(0x141)][_0x43924b(0x114)](_0x41e479),this[_0x43924b(0x14e)][_0x43924b(0x128)]({'targets':this[_0x43924b(0x141)],'alpha':0x0,'duration':0x1f4,'ease':_0x43924b(0x129),'onComplete':()=>{const _0x5b0f90=_0x43924b;this[_0x5b0f90(0x141)][_0x5b0f90(0x1ad)](),this['graphics']['alpha']=0x1;}});}else this[_0x43924b(0x187)]=_0x4c7b16,this[_0x43924b(0x169)](),this[_0x43924b(0x105)]();this[_0x43924b(0x160)](),this[_0x43924b(0x175)](this[_0x43924b(0x187)]);}[_0x32c766(0x138)](_0x35152c){const _0x495508=_0x32c766;this['clearTetromino'](this[_0x495508(0x187)]),_0x54f5fc(this['graphics'],this['map'],this[_0x495508(0x1a1)],this[_0x495508(0x187)],_0x35152c),this['updateGhost'](),this[_0x495508(0x175)](this['activePiece']);}[_0x32c766(0xea)](_0x46ad49){const _0x4ebebe=_0x32c766;_0x15f0e5();let _0x4a4722=new Set(),_0x5af5ba=_0x46ad49[_0x4ebebe(0x1ae)](_0x4ebebe(0x121)),_0x51e615=_0x46ad49[_0x4ebebe(0x1ae)]('x'),_0x3c20c0=_0x46ad49[_0x4ebebe(0x1ae)]('y');if(!this[_0x4ebebe(0x192)](_0x51e615,_0x3c20c0)){for(let _0x43c165=0x0;_0x43c165<_0x5af5ba['length'];_0x43c165++)for(let _0x1d9880=0x0;_0x1d9880<_0x5af5ba[_0x43c165]['length']-0x1;_0x1d9880++){if(this[_0x4ebebe(0x192)](_0x5af5ba[_0x43c165][_0x1d9880],_0x5af5ba[_0x43c165][_0x1d9880+0x1]))return;_0x4a4722[_0x4ebebe(0x128)](_0x3c20c0+_0x5af5ba[_0x43c165][_0x1d9880+0x1]);}_0x4a4722=Array[_0x4ebebe(0x174)](_0x4a4722)[_0x4ebebe(0x198)]((_0x476744,_0x13af8c)=>_0x13af8c-_0x476744);for(let _0x57bf31=0x0;_0x57bf31<_0x4a4722[_0x4ebebe(0x161)];_0x57bf31++){let _0x17bb83=_0x4a4722[_0x57bf31],_0x562965=!0x0;for(let _0x23a2ad=0x0;_0x23a2ad<BOARD_WIDTH;_0x23a2ad++){let _0x4c3f9f=this[_0x4ebebe(0x150)](_0x23a2ad,_0x17bb83);if(!_0x4c3f9f||_0x4c3f9f[_0x4ebebe(0x14d)]===_0x8fcfe2[_0x4ebebe(0x16c)]){_0x562965=!0x1;break;}}if(_0x562965){for(let _0x2aa872=0x0;_0x2aa872<BOARD_WIDTH;_0x2aa872++)this['setTile'](_0x2aa872,_0x17bb83,_0x8fcfe2[_0x4ebebe(0x16c)]);for(let _0x435639=_0x17bb83+0x1;_0x435639<BOARD_HEIGHT;_0x435639++)for(let _0x34b485=0x0;_0x34b485<BOARD_WIDTH;_0x34b485++){let _0x251d0f=this['getTile'](_0x34b485,_0x435639);_0x251d0f&&_0x251d0f['index']!==_0x8fcfe2['BOARD']&&(this['setTile'](_0x34b485,_0x435639-0x1,_0x251d0f['index']),this['setTile'](_0x34b485,_0x435639,_0x8fcfe2[_0x4ebebe(0x16c)]));}this[_0x4ebebe(0x181)](_0x17bb83-0x1);}}}}[_0x32c766(0x104)](_0x5430b5){const _0x203d40=_0x32c766;let _0x10683d=_0x5430b5[_0x203d40(0x1ae)](_0x203d40(0x121)),_0x54ea2a=_0x5430b5['getData']('x'),_0x2f5e3f=_0x5430b5[_0x203d40(0x1ae)]('y');if(this['checkFractions'](_0x54ea2a,_0x2f5e3f))return;let _0x48b99b=BOARD_WIDTH,_0x29be6d=0x0,_0x589e17=BOARD_HEIGHT,_0x3aedb3=0x0;for(let _0x19fc7b=0x0;_0x19fc7b<_0x10683d[_0x203d40(0x161)];_0x19fc7b++)for(let _0xd5e35e=0x0;_0xd5e35e<_0x10683d[_0x19fc7b]['length']-0x1;_0xd5e35e++){if(this[_0x203d40(0x192)](_0x10683d[_0x19fc7b][_0xd5e35e],_0x10683d[_0x19fc7b][_0xd5e35e+0x1]))return;_0x48b99b=Math['min'](_0x48b99b,_0x54ea2a+_0x10683d[_0x19fc7b][_0xd5e35e]),_0x29be6d=Math[_0x203d40(0x11f)](_0x29be6d,_0x54ea2a+_0x10683d[_0x19fc7b][_0xd5e35e]),_0x589e17=Math[_0x203d40(0x168)](_0x589e17,_0x2f5e3f+_0x10683d[_0x19fc7b][_0xd5e35e+0x1]),_0x3aedb3=Math['max'](_0x3aedb3,_0x2f5e3f+_0x10683d[_0x19fc7b][_0xd5e35e+0x1]);}return new Phaser[(_0x203d40(0x19d))][(_0x203d40(0xf2))](this[_0x203d40(0x17e)][_0x203d40(0x122)](_0x48b99b),this[_0x203d40(0x17e)][_0x203d40(0x12e)](0x13-_0x3aedb3)+BLOCK_SIZE*this['gameScale'],this[_0x203d40(0x17e)][_0x203d40(0x122)](_0x29be6d)-this[_0x203d40(0x17e)][_0x203d40(0x122)](_0x48b99b)+BLOCK_SIZE*this['gameScale'],this[_0x203d40(0x17e)]['tileToWorldY'](0x13-_0x589e17)-this[_0x203d40(0x17e)][_0x203d40(0x12e)](0x13-_0x3aedb3)+BLOCK_SIZE*this[_0x203d40(0x1a1)]);}[_0x32c766(0x102)](){const _0x242ab0=_0x32c766;let _0x218591=this[_0x242ab0(0x104)](this[_0x242ab0(0x187)]),_0x5db4a4=this['getBoundingBox'](this[_0x242ab0(0x132)]),_0x3b46e6=this[_0x242ab0(0x128)][_0x242ab0(0x1af)](_0x218591[_0x242ab0(0x17f)],_0x218591[_0x242ab0(0x14b)],'trail');_0x3b46e6[_0x242ab0(0x165)](0.5,0x0),_0x3b46e6['setTint'](this[_0x242ab0(0x187)][_0x242ab0(0x1ae)](_0x242ab0(0x164))),_0x3b46e6[_0x242ab0(0x118)]=_0x218591[_0x242ab0(0x158)],_0x3b46e6[_0x242ab0(0x15c)]=_0x5db4a4['y']-_0x218591['y'],_0x3b46e6[_0x242ab0(0x110)]=-0x1,this[_0x242ab0(0x14e)][_0x242ab0(0x128)]({'targets':_0x3b46e6,'displayHeight':0x0,'y':_0x5db4a4['y'],'alpha':0x0,'duration':0xc8,'ease':_0x242ab0(0x129),'onComplete':()=>{const _0x506779=_0x242ab0;_0x3b46e6[_0x506779(0x11e)]();}});let _0x16aef4=this[_0x242ab0(0x128)][_0x242ab0(0x100)](_0x5db4a4['centerX'],_0x5db4a4['y'],_0x242ab0(0x1a5),{'speed':{'min':0x190,'max':0x3e8},'angle':{'min':-0x69,'max':-0x4b},'scale':{'start':0.1,'end':0x0},'alpha':{'start':0.4,'end':0x0},'quantity':0x5,'lifespan':0x1f4,'blendMode':'ADD','gravityY':0x64,'on':!0x1,'onComplete':()=>{_0x16aef4['destroy']();}});_0x16aef4[_0x242ab0(0xf3)](),this[_0x242ab0(0x141)][_0x242ab0(0x13c)](0x4,0xff00,0x1),this[_0x242ab0(0x141)][_0x242ab0(0x114)](_0x218591),this['tweens'][_0x242ab0(0x128)]({'targets':this['graphics'],'alpha':0x0,'duration':0x190,'ease':_0x242ab0(0x129),'onComplete':()=>{const _0x4a1976=_0x242ab0;this['graphics'][_0x4a1976(0x1ad)](),this[_0x4a1976(0x141)]['alpha']=0x1;}}),this[_0x242ab0(0x17b)][_0x242ab0(0x135)][_0x242ab0(0x176)](0x64,0.0025-0.0005*(this[_0x242ab0(0x132)][_0x242ab0(0x1ae)]('y')-this[_0x242ab0(0x187)]['getData']('y')));}[_0x32c766(0x11a)](){const _0x17c371=_0x32c766;if(!this[_0x17c371(0x159)]){for(this[_0x17c371(0x102)](),this['clearTetromino'](this[_0x17c371(0x187)]),this[_0x17c371(0xf7)](this[_0x17c371(0x132)]);_0x47998c(this[_0x17c371(0x141)],this[_0x17c371(0x17e)],this[_0x17c371(0x1a1)],this[_0x17c371(0x187)],[0x0,0x1]););this['setTetromino'](this[_0x17c371(0x187)]),this[_0x17c371(0xea)](this[_0x17c371(0x187)]),this[_0x17c371(0x146)](),this[_0x17c371(0x175)](this[_0x17c371(0x187)]),this[_0x17c371(0x151)]=0x0;}}[_0x32c766(0x181)](_0xc49912){const _0x123ef8=_0x32c766;let _0x4b5b9c=this['add']['particles'](this[_0x123ef8(0x120)]['x']*this[_0x123ef8(0x1a1)],0x0,_0x123ef8(0x12a),{'frame':{'frames':['blue',_0x123ef8(0xe6),_0x123ef8(0x154),_0x123ef8(0x190),_0x123ef8(0x140)],'cycle':!0x0},'blendMode':_0x123ef8(0x14a),'lifespan':0x96,'quantity':0x1,'manualEmit':!0x0,'frequency':0x5,'alpha':{'start':0x1,'end':0x0},'scale':{'start':0.4,'end':0.1},'onComplete':()=>{const _0x4265e2=_0x123ef8;_0x4b5b9c[_0x4265e2(0x11e)]();}});_0x4b5b9c[_0x123ef8(0xe3)](),_0x4b5b9c[_0x123ef8(0x149)]({'type':_0x123ef8(0x1b7),'source':new Phaser[(_0x123ef8(0x19d))][(_0x123ef8(0x111))](this['map'][_0x123ef8(0x122)](-5.75),this[_0x123ef8(0x17e)]['tileToWorldY'](19.5-_0xc49912),this[_0x123ef8(0x17e)]['tileToWorldX'](4.25),this[_0x123ef8(0x17e)][_0x123ef8(0x12e)](19.5-_0xc49912)),'quantity':0xa,'total':0x1}),_0x4b5b9c[_0x123ef8(0x157)](0x32,0x32);}[_0x32c766(0xf4)](){const _0x31a693=_0x32c766;this[_0x31a693(0xf8)](),this[_0x31a693(0x139)](),_0x1e9d78(this),_0x52e51c(this),this[_0x31a693(0x146)](),this['graphics']=this[_0x31a693(0x128)][_0x31a693(0x141)](),this[_0x31a693(0x175)](this[_0x31a693(0x187)]),console['log'](window[_0x31a693(0xf1)],window['innerHeight'],window[_0x31a693(0x130)]);}[_0x32c766(0x169)](){const _0x58f54b=_0x32c766;let _0x590b60=_0x5d49fb();this[_0x58f54b(0x107)]['fill'](_0x8fcfe2['BOARD'],0x0,0x0,0x4,0x9,!0x0);for(let _0x16e58a=0x0;_0x16e58a<_0x590b60['length'];_0x16e58a++){let _0xc7169c=_0x590b60[_0x16e58a],_0x462bd4=_0xc7169c[_0x58f54b(0x1ae)](_0x58f54b(0x121)),_0x10bbc0=_0xc7169c[_0x58f54b(0x1ae)](_0x58f54b(0x1b0));for(let _0x266e80=0x0;_0x266e80<_0x462bd4[_0x58f54b(0x161)];_0x266e80++)for(let _0x3840d5=0x0;_0x3840d5<_0x462bd4[_0x266e80][_0x58f54b(0x161)]-0x1;_0x3840d5++)this[_0x58f54b(0x107)][_0x58f54b(0x196)](_0x10bbc0,0x1+_0x462bd4[_0x266e80][_0x3840d5],0x6-_0x16e58a*0x3-_0x462bd4[_0x266e80][_0x3840d5+0x1]+0x1,!0x1,_0x58f54b(0x179));}}['drawHold'](){const _0x146c82=_0x32c766;let _0x737ec7=_0x3fda42(),_0x4e7356=_0x737ec7[_0x146c82(0x1ae)](_0x146c82(0x121)),_0x4baff9=_0x737ec7[_0x146c82(0x1ae)](_0x146c82(0x1b0));this['holdMap']['fill'](_0x8fcfe2[_0x146c82(0x16c)],0x0,0x0,0x4,0x2,!0x0);for(let _0x1b314e=0x0;_0x1b314e<_0x4e7356[_0x146c82(0x161)];_0x1b314e++)for(let _0xd20eb3=0x0;_0xd20eb3<_0x4e7356[_0x1b314e]['length']-0x1;_0xd20eb3++)this['holdMap'][_0x146c82(0x196)](_0x4baff9,0x1+_0x4e7356[_0x1b314e][_0xd20eb3],0x1-_0x4e7356[_0x1b314e][_0xd20eb3+0x1],!0x1,_0x146c82(0xe4));}['spawn'](){const _0x5c0f21=_0x32c766;for(this[_0x5c0f21(0x187)]&&this[_0x5c0f21(0x187)][_0x5c0f21(0x11e)](),this['ghostPiece']&&this['ghostPiece'][_0x5c0f21(0x11e)](),this[_0x5c0f21(0x187)]=_0x1ac0f7(this,0x4,0x13,this[_0x5c0f21(0x1a1)]),this[_0x5c0f21(0x132)]=_0x133512(this,this[_0x5c0f21(0x187)],this[_0x5c0f21(0x1a1)]);_0x47998c(this['graphics'],this[_0x5c0f21(0x17e)],this[_0x5c0f21(0x1a1)],this[_0x5c0f21(0x132)],[0x0,0x1]););this['setTetromino'](this[_0x5c0f21(0x132)]),this[_0x5c0f21(0x169)]();}[_0x32c766(0x160)](){const _0xdc9b53=_0x32c766;for(this['clearTetromino'](this[_0xdc9b53(0x132)]),this['ghostPiece'][_0xdc9b53(0x13a)]('x',this[_0xdc9b53(0x187)][_0xdc9b53(0x1ae)]('x')),this[_0xdc9b53(0x132)][_0xdc9b53(0x13a)]('y',this[_0xdc9b53(0x187)]['getData']('y')),this[_0xdc9b53(0x132)]['x']=this[_0xdc9b53(0x17e)][_0xdc9b53(0x122)](this[_0xdc9b53(0x187)]['getData']('x')),this[_0xdc9b53(0x132)]['y']=this[_0xdc9b53(0x17e)][_0xdc9b53(0x12e)](0x13-this[_0xdc9b53(0x187)]['getData']('y')),this['ghostPiece'][_0xdc9b53(0x13a)](_0xdc9b53(0x121),_0x254440(this[_0xdc9b53(0x187)][_0xdc9b53(0x1ae)](_0xdc9b53(0x121)))),this[_0xdc9b53(0x132)]['setData'](_0xdc9b53(0x13f),this[_0xdc9b53(0x187)]['getData']('rotationIndex'));_0x47998c(this[_0xdc9b53(0x141)],this[_0xdc9b53(0x17e)],this['gameScale'],this['ghostPiece'],[0x0,0x1]););this[_0xdc9b53(0x175)](this['ghostPiece']);}[_0x32c766(0xe7)](_0x5388d3,_0x4e5c70){const _0x284331=_0x32c766;this[_0x284331(0x159)]||(_0x1f4c30(this),this[_0x284331(0x151)]+=_0x4e5c70,this[_0x284331(0x151)]>0x3e8&&(this[_0x284331(0x151)]=0x0),this[_0x284331(0x151)]===0x0&&this[_0x284331(0x187)]&&!DEBUG&&(this[_0x284331(0xf7)](this[_0x284331(0x187)]),_0x47998c(this[_0x284331(0x141)],this['map'],this[_0x284331(0x1a1)],this[_0x284331(0x187)],[0x0,0x1])||(this[_0x284331(0x175)](this[_0x284331(0x187)]),this[_0x284331(0xea)](this[_0x284331(0x187)]),this[_0x284331(0x146)]()),this[_0x284331(0x175)](this['activePiece'])));}},_0x3dfbb8={'type':Phaser['WEBGL'],'scale':{'mode':Phaser[_0x32c766(0xf0)][_0x32c766(0x162)],'parent':'jetris','autoCenter':Phaser['Scale'][_0x32c766(0x16a)],'width':WIDTH,'height':HEIGHT},'width':WIDTH,'height':HEIGHT,'backgroundColor':_0x32c766(0x15e),'scene':[_0x23a3c2]},_0x18583e=new Phaser[(_0x32c766(0x11c))](_0x3dfbb8);})()));function _0x1775(_0x30cccb,_0x5e03c6){const _0x1d9d22=_0x1d9d();return _0x1775=function(_0x1775d8,_0xd7ef04){_0x1775d8=_0x1775d8-0xe3;let _0x4679ef=_0x1d9d22[_0x1775d8];return _0x4679ef;},_0x1775(_0x30cccb,_0x5e03c6);}function _0x1d9d(){const _0x329eee=['create','push','JLOSTZ','clearTetromino','createTileMaps','block','gameScaleY','assets/ui/fullscreen.png','createBlankLayer','right','layer','YELLOW','particles','Testing\x20move:\x20','drawDropAnimation','addLight','getBoundingBox','drawHold','map_tiles','queueMap','Move\x20Data!!','isPaused','streak','particleEmitter','wallKicks','rockLayer','Tetromino\x20bag:\x20','type','depth','Line','container','Scene','strokeRectShape','clearHold','ceil','tiles','displayWidth','fullscreen','drop','GHOST','Game','assets/particles/star.png','destroy','max','center','cells','tileToWorldX','spritesheet','input','slice','Bug:\x20','pause','add','Linear','flares','keydown-SPACE','down','keyboard','tileToWorldY','toFixed','devicePixelRatio','trail','ghostPiece','Light2D','keydown-ESC','main','35WBdkBg','assets/particles/trail.png','rotateActivePiece','addFullScreenToggle','setData','18480781TBMpZR','lineStyle','rotation','stopFullscreen','rotationIndex','purple','graphics','GhostLayer','fill','queueTiles','Wall\x20kick\x20failure','spawn','createHoldMap','keydown-DOWN','addEmitZone','ADD','centerY','holdMap','index','tweens','getTileAt','getTile','elapsed','createQueueMap','holdTiles','pink','21QEkkIk','6SsJUbv','start','width','gameOver','1319946dnfAhP','Spawned\x20tetromino:\x20','displayHeight','keydown-E','rgb(3,\x2023,\x2054)','assets/Sprites/tetris.png','updateGhost','length','FIT','setPipeline','color','setOrigin','334602AASDjM','level','min','drawQueue','CENTER_BOTH','make','BOARD','Wall\x20kick\x20success','queueLayer','scale','activePointer','assets/images/bg.png','SetTetromino:\x20','assign','from','setTetromino','shake','createGameMap','moveActivePiece','QueueLayer','CYAN','cameras','isFullscreen','abs','map','centerX','setFrame','showRowClearFX','Queue:\x20','BLUE','waterLayer','Jetris','rowClearParticles','activePiece','keydown-ENTER','setTile','lights','round','setScale','keydown-P','deltaY','log','yellow','bug:\x20','checkFractions','tilemap','deltaX','parse','putTileAt','8384796WuypRa','sort','4196580bSZXYw','assets/particles/streak.png','adjustedBlockSize','Wall\x20kicks\x20being\x20evaluated:\x20','Geom','cos','load','keydown-Q','gameScale','pop','10vBdpqZ','assets/particles/blocks.png','star','left','1JxSRRt','ORANGE','unshift','removeTileAt','1855544hJgyjb','keydown-UP','clear','getData','image','tile','pointerup','hold','addTilesetImage','isDown','startFullscreen','random','edge','stop','HoldLayer','GameLayer','green','update','keydown-LEFT','keys','lockTetromino','holdLayer','680392iufwwV','setInteractive','scene','assets/particles/blocks.json','Scale','innerWidth','Rectangle','explode'];_0x1d9d=function(){return _0x329eee;};return _0x1d9d();}