(function(_0x353dd9,_0x2136ba){const _0x5cb30b=_0xb1ba,_0x3c16f5=_0x353dd9();while(!![]){try{const _0xa41984=-parseInt(_0x5cb30b(0xbd))/0x1*(-parseInt(_0x5cb30b(0xa9))/0x2)+-parseInt(_0x5cb30b(0x132))/0x3*(parseInt(_0x5cb30b(0x104))/0x4)+parseInt(_0x5cb30b(0xc5))/0x5+-parseInt(_0x5cb30b(0x107))/0x6*(parseInt(_0x5cb30b(0xd0))/0x7)+-parseInt(_0x5cb30b(0xe5))/0x8+parseInt(_0x5cb30b(0xde))/0x9+parseInt(_0x5cb30b(0x145))/0xa;if(_0xa41984===_0x2136ba)break;else _0x3c16f5['push'](_0x3c16f5['shift']());}catch(_0x5a567f){_0x3c16f5['push'](_0x3c16f5['shift']());}}}(_0x3521,0xe064f),((()=>{const _0x4c02b9=_0xb1ba;var _0x1e40b8=Tiles={'BLUE':0x0,'CYAN':0x1,'ORANGE':0x2,'YELLOW':0x3,'GREEN':0x4,'RED':0x5,'PURPLE':0x6,'BOARD':0x7,'BORDER_BOTTOM':0x8,'BORDER_LEFT':0x9,'BORDER_TOP':0xa,'BORDER_RIGHT':0xb,'GHOST':0xc,'HELPER':0xd,'EMPTY':0xe,'EMPTY2':0xf,'BORDER_CORNER_BOTTOM_LEFT':0x10,'BORDER_CORNER_TOP_LEFT':0x11,'BORDER_CORNER_TOP_RIGHT':0x12,'BORDER_CORNER_BOTTOM_RIGHT':0x13};cos=Math[_0x4c02b9(0x97)](Math['PI']/0x2),sin=Math['sin'](Math['PI']/0x2),RotationMatrix=[cos,sin,-sin,cos],TetrominoBag=[],TetrominoQueue=[],heldPiece=null,hasSwapped=!0x1;var _0x27db60={'L':'L','I':'I','J':'J','O':'O','S':'S','T':'T','Z':'Z'},_0x23dd9b=()=>{const _0x83383c=_0x4c02b9;if(TetrominoBag[_0x83383c(0xf4)]===0x0){let _0x4451ee=Object[_0x83383c(0xb9)](_0x27db60);for(let _0x3d1cd1=_0x4451ee[_0x83383c(0xf4)]-0x1;_0x3d1cd1>0x0;_0x3d1cd1--){let _0x2dd857=Math[_0x83383c(0xb3)](Math[_0x83383c(0xfc)]()*(_0x3d1cd1+0x1));[_0x4451ee[_0x3d1cd1],_0x4451ee[_0x2dd857]]=[_0x4451ee[_0x2dd857],_0x4451ee[_0x3d1cd1]];}TetrominoBag=[..._0x4451ee];}let _0x593431=TetrominoBag[_0x83383c(0x8b)]();return DEBUG&&console[_0x83383c(0x10c)]('Tetromino\x20bag:\x20',TetrominoBag),_0x593431;};function _0x4d2f5c(){const _0x309f07=_0x4c02b9;return TetrominoBag[_0x309f07(0xf4)]===0x0&&_0x23dd9b(),[...TetrominoBag['slice'](0x0,0x3)];}var _0x3cbdc4={'L':_0x1e40b8['ORANGE'],'I':_0x1e40b8['CYAN'],'J':_0x1e40b8[_0x4c02b9(0xdb)],'O':_0x1e40b8['YELLOW'],'S':_0x1e40b8[_0x4c02b9(0x13f)],'T':_0x1e40b8[_0x4c02b9(0xee)],'Z':_0x1e40b8['RED']},_0x21ef9e={'I':[[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]]],'JLOSTZ':[[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]]]},_0x3a5ca3={'I':[0x0,0x0],'O':[0x0,0x0],'J':[-0.5,0.5],'L':[-0.5,0.5],'S':[-0.5,0.5],'T':[-0.5,0.5],'Z':[-0.5,0.5]},_0x4ccc6f={'L':{'cells':[[0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x21ef9e[_0x4c02b9(0x11f)],'color':0xffa500},'I':{'cells':[[-0x1,0x1],[0x0,0x1],[0x1,0x1],[0x2,0x1]],'wallKicks':_0x21ef9e['I'],'color':0xffff},'J':{'cells':[[-0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x21ef9e[_0x4c02b9(0x11f)],'color':0xff},'O':{'cells':[[0x0,0x0],[0x1,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x21ef9e[_0x4c02b9(0x11f)],'color':0xffff00},'S':{'cells':[[-0x1,0x0],[0x0,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x21ef9e[_0x4c02b9(0x11f)],'color':0xff00},'T':{'cells':[[-0x1,0x0],[0x0,0x0],[0x1,0x0],[0x0,0x1]],'wallKicks':_0x21ef9e[_0x4c02b9(0x11f)],'color':0x800080},'Z':{'cells':[[-0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x21ef9e[_0x4c02b9(0x11f)],'color':0xff0000}};function _0x408f52(_0x447d4f){const _0x19fe29=_0x4c02b9;return JSON[_0x19fe29(0x110)](JSON[_0x19fe29(0x130)](_0x447d4f));}function _0x523256(_0x56c15e){const _0x5787dc=_0x4c02b9;let _0x338762=_0x4d2f5c();for(let _0x3ef567=0x0;_0x3ef567<_0x338762[_0x5787dc(0xf4)];_0x3ef567++)TetrominoQueue[_0x5787dc(0xaf)](_0x2f3585(_0x56c15e,_0x338762[_0x3ef567])),DEBUG&&console[_0x5787dc(0x10c)](_0x5787dc(0x140),TetrominoQueue);}function _0x2f3585(_0x9f8741,_0x1e02cd){const _0x30b959=_0x4c02b9;let _0x3ba353=_0x4ccc6f[_0x1e02cd],_0x49240d=_0x9f8741[_0x30b959(0xf9)]['container'](0x0,0x0);return _0x49240d[_0x30b959(0x120)](_0x30b959(0x118),_0x408f52(_0x3ba353[_0x30b959(0x118)])),_0x49240d[_0x30b959(0x120)]('color',_0x3ba353[_0x30b959(0xcd)]),_0x49240d[_0x30b959(0x120)]('wallKicks',_0x3ba353[_0x30b959(0x112)]),_0x49240d[_0x30b959(0x120)](_0x30b959(0x141),_0x3cbdc4[_0x1e02cd]),_0x49240d['setData'](_0x30b959(0xd4),_0x1e02cd),_0x49240d[_0x30b959(0x120)](_0x30b959(0x144),0x0),_0x49240d[_0x30b959(0x120)](_0x30b959(0xea),[0x0,0x0]),_0x49240d[_0x30b959(0x120)]('x',0x0),_0x49240d[_0x30b959(0x120)]('y',0x0),DEBUG&&console[_0x30b959(0x10c)](_0x30b959(0xbf),_0x49240d),_0x49240d;}function _0x45fae1(_0x3a94f2,_0x3c5f5f,_0x17a2ec,_0x56608a){const _0x26d89f=_0x4c02b9;let _0x5796a3=TetrominoQueue[_0x26d89f(0x8b)]()[_0x26d89f(0xc9)](_0x56608a),_0x5d11e0=_0x5796a3[_0x26d89f(0x14b)]('type');return _0x5796a3['setData']('x',_0x3c5f5f),_0x5796a3[_0x26d89f(0x120)]('y',_0x17a2ec-(_0x5d11e0===_0x4ccc6f['I']?0x1:0x0)),DEBUG&&console[_0x26d89f(0x10c)]('Spawned\x20tetromino:\x20',_0x5796a3),TetrominoQueue[_0x26d89f(0xa5)](_0x2f3585(_0x3a94f2,_0x23dd9b())),_0x5796a3;}function _0x14f4a4(){return TetrominoQueue;}function _0x3bba2e(){return heldPiece;}function _0x222980(_0x48a1fd){const _0x14c194=_0x4c02b9;if(heldPiece){if(hasSwapped)return _0x48a1fd[_0x14c194(0x13e)];{let _0x5c8a93=_0x2f3585(_0x48a1fd,_0x48a1fd[_0x14c194(0x13e)][_0x14c194(0x14b)]('type')),_0x4b85b5=Object['assign'](heldPiece);return _0x4b85b5[_0x14c194(0x120)]('x',_0x48a1fd['activePiece']['getData']('x')),_0x4b85b5['setData']('y',_0x48a1fd[_0x14c194(0x13e)]['getData']('y')),heldPiece=_0x5c8a93,hasSwapped=!0x0,_0x4b85b5;}}else{heldPiece=_0x2f3585(_0x48a1fd,_0x48a1fd['activePiece'][_0x14c194(0x14b)](_0x14c194(0xd4)));let _0x575f5f=_0x45fae1(_0x48a1fd,0x4,0x13,heldPiece[_0x14c194(0xfb)]);return hasSwapped=!0x0,_0x575f5f;}}function _0x4ceb30(){hasSwapped=!0x1;}function _0x5479b4(){hasSwapped=!0x1,heldPiece=null;}function _0x9e11e5(_0x96be7d,_0x2ed7af,_0x445451){const _0x442c06=_0x4c02b9;let _0x1dd587=_0x2ed7af[_0x442c06(0x14b)](_0x442c06(0xd4)),_0x2742a7=_0x4ccc6f[_0x1dd587],_0x162370=_0x96be7d[_0x442c06(0xf9)][_0x442c06(0xfe)](0x0,0x0)[_0x442c06(0xc9)](_0x445451);return _0x162370[_0x442c06(0x120)](_0x442c06(0x141),_0x1e40b8[_0x442c06(0x105)]),_0x162370[_0x442c06(0x120)](_0x442c06(0x118),_0x408f52(_0x2ed7af['getData'](_0x442c06(0x118)))),_0x162370[_0x442c06(0x120)](_0x442c06(0xd4),_0x2ed7af['getData'](_0x442c06(0xd4))),_0x162370[_0x442c06(0x120)](_0x442c06(0x144),_0x2ed7af[_0x442c06(0x14b)](_0x442c06(0x144))),_0x162370[_0x442c06(0x120)](_0x442c06(0xea),_0x2ed7af[_0x442c06(0x14b)](_0x442c06(0xea))),_0x162370['setData']('x',_0x2ed7af[_0x442c06(0x14b)]('x')),_0x162370[_0x442c06(0x120)]('y',_0x2ed7af['getData']('y')),_0x162370[_0x442c06(0x120)](_0x442c06(0x112),_0x2ed7af[_0x442c06(0x14b)](_0x442c06(0x112))),_0x162370;}function _0x367445(_0x2bf201,_0x11690b,_0x493c50){return _0x2bf201<_0x11690b?_0x493c50-(_0x11690b-_0x2bf201)%(_0x493c50-_0x11690b):_0x11690b+(_0x2bf201-_0x11690b)%(_0x493c50-_0x11690b);}function _0x2266b8(_0x5a03b9,_0x2511ad,_0x4abb4c,_0x4ab1c5,_0x24205c){const _0x35e1b8=_0x4c02b9;originalRotation=_0x4ab1c5[_0x35e1b8(0x14b)](_0x35e1b8(0x144))||0x0,rotationIndex=_0x367445(originalRotation+_0x24205c,0x0,0x4),DEBUG&&console['log'](_0x35e1b8(0xed),rotationIndex),_0x1cea6b(_0x4ab1c5,_0x24205c),_0x3f9ce2(_0x5a03b9,_0x2511ad,_0x4abb4c,_0x4ab1c5,rotationIndex,_0x24205c)||(rotationIndex=originalRotation,_0x1cea6b(_0x4ab1c5,-_0x24205c)),_0x4ab1c5[_0x35e1b8(0x120)]('rotationIndex',rotationIndex);}function _0x3f9ce2(_0x48a6d4,_0x787659,_0x56c620,_0x31b686,_0x38d1ea,_0x4bb29b){const _0x35bc79=_0x4c02b9;for(wallKicks=_0x31b686[_0x35bc79(0x14b)](_0x35bc79(0x112)),wallKickIndex=_0x34623f(_0x38d1ea,_0x4bb29b),DEBUG&&console[_0x35bc79(0x10c)](_0x35bc79(0xf2),wallKicks[wallKickIndex]),i=0x0;i<0x5;i++)if(translation=wallKicks[wallKickIndex][i],_0x2718ca(_0x48a6d4,_0x787659,_0x56c620,_0x31b686,translation,!0x0))return DEBUG&&console[_0x35bc79(0x10c)](_0x35bc79(0x147)),!0x0;return DEBUG&&console['log'](_0x35bc79(0xe9)),!0x1;}function _0x34623f(_0x4254c0,_0x5078fc){return wallKickIndex=_0x4254c0*0x2,_0x5078fc<0x0&&wallKickIndex--,_0x367445(wallKickIndex,0x0,0x8);}function _0x290354(_0x1f1cc0,_0x3b8737,_0x1b8513,_0xcdf31a,_0x559285,_0x2277d3){const _0x4ce63f=_0x4c02b9;let _0x5170a5=_0xcdf31a[_0x4ce63f(0x14b)](_0x4ce63f(0x118)),_0x51f6ce=_0xcdf31a[_0x4ce63f(0x14b)](_0x4ce63f(0xd4)),_0x329f81=_0xcdf31a[_0x4ce63f(0x14b)]('x'),_0xe74e44=_0xcdf31a['getData']('y');DEBUG&&(_0x1f1cc0['clear'](),DEBUG&&console[_0x4ce63f(0x10c)]('Testing\x20move:\x20',_0x559285));for(let _0x441293=0x0;_0x441293<_0x5170a5[_0x4ce63f(0xf4)];_0x441293++){let _0x1348da=_0x329f81+_0x5170a5[_0x441293][0x0]+_0x559285[0x0],_0x362571=_0xe74e44+_0x5170a5[_0x441293][0x1]-_0x559285[0x1];if(DEBUG&&(wx=_0x3b8737[_0x4ce63f(0xd9)](_0x1348da),wy=_0x3b8737[_0x4ce63f(0x14c)](0x14-_0x362571),_0x1f1cc0[_0x4ce63f(0x9b)](0x1,0xff00ff),_0x1f1cc0['strokeRectShape'](new Phaser[(_0x4ce63f(0x93))][(_0x4ce63f(0xd2))](wx,wy,0x40*_0x1b8513,0x40*_0x1b8513))),_0x1348da%0x1!==0x0||_0x362571%0x1!==0x0)return DEBUG&&console['log'](_0x4ce63f(0x14d),_0x1348da,_0x362571),!0x1;let _0x1a0f1c=_0x3b8737[_0x4ce63f(0x134)](_0x1348da,0x14-_0x362571);if(!_0x1a0f1c||_0x1a0f1c['index']!==_0x1e40b8[_0x4ce63f(0x86)]&&_0x1a0f1c[_0x4ce63f(0xb4)]!==_0x1e40b8[_0x4ce63f(0x105)])return DEBUG&&console[_0x4ce63f(0x10c)](_0x4ce63f(0xb7)),!0x1;}return!0x0;}function _0x2718ca(_0x355fb1,_0x38b0d1,_0x17ce4e,_0x10818c,_0xbcdf61,_0x2689f5){const _0x16ede9=_0x4c02b9;return isValid=_0x290354(_0x355fb1,_0x38b0d1,_0x17ce4e,_0x10818c,_0xbcdf61,_0x2689f5),isValid&&(_0x10818c[_0x16ede9(0x120)]('x',_0x10818c[_0x16ede9(0x14b)]('x')+_0xbcdf61[0x0]),_0x10818c[_0x16ede9(0x120)]('y',_0x10818c[_0x16ede9(0x14b)]('y')-_0xbcdf61[0x1]),_0x10818c['x']=_0x38b0d1[_0x16ede9(0xd9)](_0x10818c[_0x16ede9(0x14b)]('x')),_0x10818c['y']=_0x38b0d1[_0x16ede9(0x14c)](0x13-_0x10818c[_0x16ede9(0x14b)]('y'))),isValid;}function _0x1cea6b(_0x2cfc0b,_0x201725){const _0x4f149b=_0x4c02b9;let _0x486144=_0x3a5ca3[_0x2cfc0b[_0x4f149b(0x14b)](_0x4f149b(0xd4))],_0x40950b=_0x2cfc0b[_0x4f149b(0x14b)]('cells'),_0x185986=_0x2cfc0b[_0x4f149b(0x14b)]('type'),_0x1a5652=RotationMatrix,_0x1d53a7=[],_0x302da8=_0x185986===_0x27db60['O']||_0x185986===_0x27db60['I'];if(_0x302da8){for(let _0x5df815=0x0;_0x5df815<_0x40950b['length'];_0x5df815++)_0x40950b[_0x5df815][0x0]-=0.5,_0x40950b[_0x5df815][0x1]-=0.5;}for(let _0x21ff34=0x0;_0x21ff34<_0x40950b[_0x4f149b(0xf4)];_0x21ff34++){let _0x478779=parseFloat((_0x40950b[_0x21ff34][0x0]*_0x1a5652[0x0]*_0x201725+_0x40950b[_0x21ff34][0x1]*_0x1a5652[0x1]*_0x201725)[_0x4f149b(0x111)](0x1)),_0x373ec9=parseFloat((_0x40950b[_0x21ff34][0x0]*_0x1a5652[0x2]*_0x201725+_0x40950b[_0x21ff34][0x1]*_0x1a5652[0x3]*_0x201725)[_0x4f149b(0x111)](0x1));_0x1d53a7[_0x4f149b(0xaf)]([_0x302da8?Math[_0x4f149b(0x101)](_0x478779):Math[_0x4f149b(0xff)](_0x478779),_0x302da8?Math['ceil'](_0x373ec9):Math[_0x4f149b(0xff)](_0x373ec9)]);}return _0x2cfc0b['setData'](_0x4f149b(0x118),_0x1d53a7),tmp=[parseFloat((_0x486144[0x0]*_0x1a5652[0x0]*_0x201725+_0x486144[0x1]*_0x1a5652[0x1]*_0x201725)[_0x4f149b(0x111)](0x1)),parseFloat((_0x486144[0x0]*_0x1a5652[0x2]*_0x201725+_0x486144[0x1]*_0x1a5652[0x3]*_0x201725)[_0x4f149b(0x111)](0x1))],_0x2cfc0b['setData'](_0x4f149b(0xea),tmp),_0x1d53a7;}function _0x4774c8(_0xa9c150){const _0x47d89f=_0x4c02b9;_0xa9c150[_0x47d89f(0xce)][_0x47d89f(0x84)](0x1),_0xa9c150['input'][_0x47d89f(0x98)]['on'](_0x47d89f(0x9c),()=>{const _0x138da9=_0x47d89f;_0xa9c150[_0x138da9(0x12e)]([-0x1,0x0]);}),_0xa9c150[_0x47d89f(0xce)]['keyboard']['on'](_0x47d89f(0xbb),()=>{const _0x428b8a=_0x47d89f;_0xa9c150[_0x428b8a(0x12e)]([0x1,0x0]);}),_0xa9c150[_0x47d89f(0xce)][_0x47d89f(0x98)]['on'](_0x47d89f(0xe2),()=>{const _0x3187fc=_0x47d89f;_0xa9c150[_0x3187fc(0x12e)]([0x0,0x1]);}),DEBUG&&_0xa9c150[_0x47d89f(0xce)][_0x47d89f(0x98)]['on'](_0x47d89f(0x11c),()=>{const _0x28a7bb=_0x47d89f;_0xa9c150[_0x28a7bb(0x12e)]([0x0,-0x1]);}),_0xa9c150[_0x47d89f(0xce)][_0x47d89f(0x98)]['on']('keydown-E',()=>{const _0x52f5c7=_0x47d89f;_0xa9c150[_0x52f5c7(0x128)](0x1);}),_0xa9c150[_0x47d89f(0xce)]['keyboard']['on']('keydown-Q',()=>{const _0x564fed=_0x47d89f;_0xa9c150[_0x564fed(0x128)](-0x1);}),_0xa9c150[_0x47d89f(0xce)][_0x47d89f(0x98)]['on'](_0x47d89f(0xba),()=>{const _0x5ebc64=_0x47d89f;_0xa9c150[_0x5ebc64(0xa3)]();}),_0xa9c150[_0x47d89f(0xce)][_0x47d89f(0x98)]['on'](_0x47d89f(0xc6),()=>{const _0x1b1942=_0x47d89f;_0xa9c150[_0x1b1942(0x135)]();}),_0xa9c150[_0x47d89f(0xce)]['keyboard']['on'](_0x47d89f(0x14e),()=>{const _0x1db1fe=_0x47d89f;_0xa9c150['scene'][_0x1db1fe(0xd1)]()?_0xa9c150[_0x1db1fe(0xeb)][_0x1db1fe(0x137)]():_0xa9c150[_0x1db1fe(0xeb)][_0x1db1fe(0xf1)]();}),_0xa9c150[_0x47d89f(0xce)][_0x47d89f(0x98)]['on']('keydown-ESC',()=>{const _0x26fd8b=_0x47d89f;_0xa9c150[_0x26fd8b(0xa1)]['fill'](Tiles['BOARD']),_0xa9c150[_0x26fd8b(0xa1)][_0x26fd8b(0x91)](null,0x0,0x0,BOARD_WIDTH,BOARD_HEIGHT,!0x0,_0x26fd8b(0xc4)),_0xa9c150[_0x26fd8b(0xc1)](),_0xa9c150[_0x26fd8b(0x90)]=!0x1,_0xa9c150[_0x26fd8b(0xf0)](),_0xa9c150[_0x26fd8b(0x119)](_0xa9c150[_0x26fd8b(0x13e)]);});}isClicking=!0x1,dropped=!0x1,clicked=!0x1,dragged=!0x1;function _0x4d866d(_0x93c177){const _0xb0a821=_0x4c02b9;_0x93c177['input'][_0xb0a821(0xb5)][_0xb0a821(0x10d)]?(clicked=!0x0,Math['abs'](_0x93c177[_0xb0a821(0xce)][_0xb0a821(0xb5)]['x']-touchDeltaX)>=0x64?(_0x93c177[_0xb0a821(0xce)]['activePointer']['x']<touchDeltaX?swipeDirection='left':_0x93c177[_0xb0a821(0xce)][_0xb0a821(0xb5)]['x']>touchDeltaX&&touchDeltaX!=0x0?swipeDirection='right':(swipeDirection='',touchDeltaX=0x0),touchDeltaX=_0x93c177[_0xb0a821(0xce)]['activePointer']['x'],swipeDirection!=''&&(_0x93c177[_0xb0a821(0x12e)]([swipeDirection==_0xb0a821(0xd8)?-0x1:0x1,0x0]),dragged=!0x0)):!dropped&&Math[_0xb0a821(0xf8)](_0x93c177[_0xb0a821(0xce)]['activePointer']['y']-touchDeltaY)>=0xc8&&(_0x93c177[_0xb0a821(0xce)][_0xb0a821(0xb5)]['y']>touchDeltaY&&touchDeltaY!=0x0?swipeDirection='down':(swipeDirection='',touchDeltaY=0x0),touchDeltaY=_0x93c177['input'][_0xb0a821(0xb5)]['y'],swipeDirection=='down'&&(_0x93c177[_0xb0a821(0xa3)](),dropped=!0x0))):(touchDeltaX=0x0,touchDeltaY=0x0,clicked&&!dragged&&!dropped&&(_0x93c177['input'][_0xb0a821(0xb5)]['x']<_0x93c177[_0xb0a821(0x117)]['x']?_0x93c177['rotateActivePiece'](-0x1):_0x93c177[_0xb0a821(0x128)](0x1)),clicked=!0x1,dropped=!0x1,dragged=!0x1);}WIDTH=0x320,HEIGHT=0x400,DEBUG=!0x1,BOARD_WIDTH=0xa,BOARD_HEIGHT=0x14,BLOCK_SIZE=0x40,swipeDirection='',touchDeltaX=0x0,touchDeltaY=0x0,swipeDelay=0x0;var _0x217704=class extends Phaser[_0x4c02b9(0x108)]{constructor(){const _0x297fb3=_0x4c02b9;super({'key':_0x297fb3(0xd3),'active':!0x0}),this[_0x297fb3(0xfe)],this[_0x297fb3(0x12d)]=Array[_0x297fb3(0x148)]({'length':BOARD_HEIGHT},()=>Array[_0x297fb3(0x148)]({'length':BOARD_WIDTH},()=>_0x1e40b8[_0x297fb3(0x86)])),this[_0x297fb3(0xa1)],this[_0x297fb3(0x115)],this[_0x297fb3(0xaa)],this['center']={'x':WIDTH/0x2,'y':HEIGHT/0x2},this[_0x297fb3(0xd7)]=this[_0x297fb3(0x117)]['x']*0x2/0x8,this['deltaY']=this[_0x297fb3(0x117)]['y']*0x2/0x14,this[_0x297fb3(0xcc)]=this[_0x297fb3(0xd7)]*2.5/this[_0x297fb3(0x117)]['x'],this['gameScaleY']=this['deltaY']*2.5/this['center']['y'],this[_0x297fb3(0x12f)]=BLOCK_SIZE*this[_0x297fb3(0xcc)],this['elapsed']=0x0,this['activePiece'],this[_0x297fb3(0x9d)],this[_0x297fb3(0x11e)],this[_0x297fb3(0x90)]=!0x1,this[_0x297fb3(0x124)],this['ghostLayer'],this[_0x297fb3(0x143)],this['waterLayer'],this[_0x297fb3(0xec)],this[_0x297fb3(0x129)];}[_0x4c02b9(0xf3)](){const _0x3af95c=_0x4c02b9;this[_0x3af95c(0x13c)][_0x3af95c(0x11d)](_0x3af95c(0x125),[_0x3af95c(0xf5),'assets/Sprites/tetris_n.png']),this[_0x3af95c(0x13c)]['spritesheet']('fullscreen',_0x3af95c(0x85),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this['load'][_0x3af95c(0xbe)]('blocks',_0x3af95c(0xf5),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this['load'][_0x3af95c(0xc0)](_0x3af95c(0xb1),_0x3af95c(0x127),_0x3af95c(0x8c)),this['load'][_0x3af95c(0x11d)](_0x3af95c(0x146),_0x3af95c(0xdf)),this[_0x3af95c(0x13c)][_0x3af95c(0x11d)](_0x3af95c(0xa8),'assets/particles/streak.png'),this[_0x3af95c(0x13c)][_0x3af95c(0x11d)](_0x3af95c(0x103),_0x3af95c(0xa2)),this[_0x3af95c(0x13c)][_0x3af95c(0x11d)]('bg','assets/images/bg.png');}[_0x4c02b9(0x123)](){const _0x507953=_0x4c02b9;let _0x1f2101=Array['from']({'length':0x9},()=>Array['from']({'length':0x4},()=>_0x1e40b8[_0x507953(0x86)]));for(let _0x4c522c=0x0;_0x4c522c<0x9;_0x4c522c++)for(let _0x46fa24=0x0;_0x46fa24<0x4;_0x46fa24++)_0x46fa24%0x2===0x0?_0x1f2101[_0x4c522c][_0x46fa24]=_0x1e40b8[_0x507953(0x86)]:_0x1f2101[_0x4c522c][_0x46fa24]=null;this[_0x507953(0x115)]=this[_0x507953(0xe1)]['tilemap']({'key':_0x507953(0xa0),'data':_0x1f2101,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x507953(0x92)]=this[_0x507953(0x115)][_0x507953(0x87)]('tiles',_0x507953(0x125),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x507953(0x10a)]=this[_0x507953(0x115)][_0x507953(0x142)](_0x507953(0xd6),this[_0x507953(0x92)],this[_0x507953(0x117)]['x']+(BOARD_WIDTH+0x2)/0x2*BLOCK_SIZE*this[_0x507953(0xcc)],0x3*BLOCK_SIZE*this['gameScale'])[_0x507953(0xc9)](this[_0x507953(0xcc)]*0.75),this[_0x507953(0x115)][_0x507953(0x91)](_0x1e40b8['BOARD'],0x0,0x0,0x4,0x9,!0x0);for(let _0x2f44fb=0x0;_0x2f44fb<0x4;_0x2f44fb++)for(let _0x1269a0=0x0;_0x1269a0<0x9;_0x1269a0++)_0x1269a0%0x3===0x2&&this[_0x507953(0x115)][_0x507953(0x89)](_0x2f44fb,_0x1269a0,!0x0,!0x1,'QueueLayer');}[_0x4c02b9(0x8e)](){const _0x1f0b07=_0x4c02b9;let _0x33aac0=Array[_0x1f0b07(0x148)]({'length':0x2},()=>Array[_0x1f0b07(0x148)]({'length':0x4},()=>_0x1e40b8[_0x1f0b07(0x86)]));this[_0x1f0b07(0xaa)]=this[_0x1f0b07(0xe1)][_0x1f0b07(0x11b)]({'key':_0x1f0b07(0xa0),'data':_0x33aac0,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x1f0b07(0x99)]=this[_0x1f0b07(0xaa)]['addTilesetImage']('tiles',_0x1f0b07(0x125),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this['holdLayer']=this[_0x1f0b07(0xaa)][_0x1f0b07(0x142)](_0x1f0b07(0x12c),this['queueTiles'],this[_0x1f0b07(0x117)]['x']-(BOARD_WIDTH+0x8)/0x2*BLOCK_SIZE*this[_0x1f0b07(0xcc)],0x3*BLOCK_SIZE*this[_0x1f0b07(0xcc)])[_0x1f0b07(0xc9)](this[_0x1f0b07(0xcc)]*0.75),this[_0x1f0b07(0xaa)]['fill'](_0x1e40b8[_0x1f0b07(0x86)],0x0,0x0,0x4,0x2,!0x0);}['createGameMap'](){const _0x57b2c3=_0x4c02b9;this[_0x57b2c3(0xa1)]=this[_0x57b2c3(0xe1)][_0x57b2c3(0x11b)]({'key':_0x57b2c3(0x13d),'data':this[_0x57b2c3(0x12d)],'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x2d112b=this['map'][_0x57b2c3(0x87)]('tiles',_0x57b2c3(0x125),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);this[_0x57b2c3(0xe0)]=this[_0x57b2c3(0xa1)]['createBlankLayer'](_0x57b2c3(0xc4),_0x2d112b,this[_0x57b2c3(0x117)]['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x57b2c3(0xcc)],0x3*BLOCK_SIZE*this[_0x57b2c3(0xcc)])[_0x57b2c3(0xc9)](this[_0x57b2c3(0xcc)]),this[_0x57b2c3(0x124)]=this[_0x57b2c3(0xa1)][_0x57b2c3(0x142)](_0x57b2c3(0xcf),_0x2d112b,this[_0x57b2c3(0x117)]['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x57b2c3(0xcc)],0x3*BLOCK_SIZE*this['gameScale'])['setScale'](this[_0x57b2c3(0xcc)]),this[_0x57b2c3(0x124)][_0x57b2c3(0x94)](_0x57b2c3(0xb0)),this[_0x57b2c3(0xa1)][_0x57b2c3(0x91)](_0x1e40b8[_0x57b2c3(0x86)]);}[_0x4c02b9(0xbc)](){const _0x3b02aa=_0x4c02b9;this[_0x3b02aa(0xf9)][_0x3b02aa(0x11d)](this['center']['x'],this['center']['y'],'bg')[_0x3b02aa(0xc9)](this['gameScale']*1.6),this[_0x3b02aa(0xc2)][_0x3b02aa(0xfd)]()[_0x3b02aa(0xab)](0xeeeeee);let _0x29a5dd=this['lights'][_0x3b02aa(0x9f)](WIDTH,-HEIGHT,HEIGHT*0x3,0xffffff,0x4);this[_0x3b02aa(0x123)](),this[_0x3b02aa(0x8e)](),this[_0x3b02aa(0x13a)]();}[_0x4c02b9(0x100)](_0x77802,_0x27afbb){const _0x448afa=_0x4c02b9;return _0x77802%0x1!==0x0||_0x27afbb%0x1!==0x0?(DEBUG&&console[_0x448afa(0x10c)](_0x448afa(0xa6),_0x77802,_0x27afbb),!0x0):!0x1;}['setTile'](_0x1a1d7f,_0x207cbe,_0x4d350f){const _0x13633d=_0x4c02b9;this['checkFractions'](_0x1a1d7f,_0x207cbe)||(this[_0x13633d(0xa1)][_0x13633d(0xe6)](_0x4d350f,_0x1a1d7f,BOARD_HEIGHT-_0x207cbe,!0x1,_0x4d350f===_0x1e40b8[_0x13633d(0x105)]?_0x13633d(0xc4):'GameLayer'),_0x4d350f===_0x1e40b8[_0x13633d(0x86)]&&this[_0x13633d(0xa1)]['removeTileAt'](_0x1a1d7f,BOARD_HEIGHT-_0x207cbe,!0x0,!0x1,'GhostLayer'));}[_0x4c02b9(0x9e)](_0x13fa8d,_0x2befd0){const _0x37d082=_0x4c02b9;return this[_0x37d082(0x100)](_0x13fa8d,_0x2befd0)?null:this[_0x37d082(0xa1)]['getTileAt'](_0x13fa8d,BOARD_HEIGHT-_0x2befd0,!0x1,this[_0x37d082(0x124)]);}[_0x4c02b9(0x119)](_0x50a25b){const _0x2feb0c=_0x4c02b9;let _0x33e23c=_0x50a25b[_0x2feb0c(0x14b)](_0x2feb0c(0x118)),_0x2d930d=_0x50a25b[_0x2feb0c(0x14b)]('x'),_0x1cc9a1=_0x50a25b[_0x2feb0c(0x14b)]('y');if(this[_0x2feb0c(0x100)](_0x2d930d,_0x1cc9a1)){DEBUG&&console['log'](_0x2feb0c(0xac),_0x50a25b);return;}for(let _0x354c64=0x0;_0x354c64<_0x33e23c['length'];_0x354c64++)for(let _0xb1a049=0x0;_0xb1a049<_0x33e23c[_0x354c64][_0x2feb0c(0xf4)]-0x1;_0xb1a049++){if(this[_0x2feb0c(0x100)](_0x33e23c[_0x354c64][_0xb1a049],_0x33e23c[_0x354c64][_0xb1a049+0x1])){DEBUG&&console['log'](_0x2feb0c(0xdc),tetrommino);return;}let _0x2ea8c8=this[_0x2feb0c(0x9e)](_0x2d930d+_0x33e23c[_0x354c64][_0xb1a049],_0x1cc9a1+_0x33e23c[_0x354c64][_0xb1a049+0x1]);if(_0x2ea8c8&&_0x2ea8c8[_0x2feb0c(0xb4)]===_0x1e40b8[_0x2feb0c(0x86)])this['setTile'](_0x2d930d+_0x33e23c[_0x354c64][_0xb1a049],_0x1cc9a1+_0x33e23c[_0x354c64][_0xb1a049+0x1],_0x50a25b[_0x2feb0c(0x14b)](_0x2feb0c(0x141)));else{this[_0x2feb0c(0x90)]=!0x0;return;}}}[_0x4c02b9(0xc1)](){const _0x1d1358=_0x4c02b9;this[_0x1d1358(0xaa)][_0x1d1358(0x91)](_0x1e40b8['BOARD'],0x0,0x0,0x4,0x2,!0x0),_0x5479b4();}[_0x4c02b9(0xe4)](_0x58af3f){const _0x34be59=_0x4c02b9;let _0x583eb0=_0x58af3f[_0x34be59(0x14b)]('cells'),_0x373ca2=_0x58af3f[_0x34be59(0x14b)]('x'),_0x1c024b=_0x58af3f[_0x34be59(0x14b)]('y');if(!this[_0x34be59(0x100)](_0x373ca2,_0x1c024b)){for(let _0xcfc93b=0x0;_0xcfc93b<_0x583eb0[_0x34be59(0xf4)];_0xcfc93b++)for(let _0x19c2c4=0x0;_0x19c2c4<_0x583eb0[_0xcfc93b]['length']-0x1;_0x19c2c4++){if(this['checkFractions'](_0x583eb0[_0xcfc93b][_0x19c2c4],_0x583eb0[_0xcfc93b][_0x19c2c4+0x1]))return;this[_0x34be59(0xcb)](_0x373ca2+_0x583eb0[_0xcfc93b][_0x19c2c4],_0x1c024b+_0x583eb0[_0xcfc93b][_0x19c2c4+0x1],_0x1e40b8[_0x34be59(0x86)]);}}}[_0x4c02b9(0x11a)](){const _0x3c8beb=_0x4c02b9;let _0x3d6607=this['add'][_0x3c8beb(0x11d)](WIDTH-0x10,0x10,_0x3c8beb(0x14a),0x0)[_0x3c8beb(0x131)](0x1,0x0)['setScale'](0.25)[_0x3c8beb(0xb8)]();_0x3d6607['on'](_0x3c8beb(0x8d),function(){const _0x66f8ce=_0x3c8beb;this[_0x66f8ce(0xfb)][_0x66f8ce(0x136)]?(_0x3d6607[_0x66f8ce(0xc7)](0x0),this[_0x66f8ce(0xfb)][_0x66f8ce(0x8a)]()):(_0x3d6607[_0x66f8ce(0xc7)](0x1),this[_0x66f8ce(0xfb)][_0x66f8ce(0xc8)]());},this);}['moveActivePiece'](_0x1e88fd){const _0x580402=_0x4c02b9;this[_0x580402(0x13e)]&&(this[_0x580402(0xe4)](this[_0x580402(0x13e)]),_0x2718ca(this[_0x580402(0x11e)],this[_0x580402(0xa1)],this['gameScale'],this[_0x580402(0x13e)],_0x1e88fd),this[_0x580402(0xa4)](),this[_0x580402(0x119)](this[_0x580402(0x13e)]));}[_0x4c02b9(0x135)](){const _0x328dbe=_0x4c02b9;let _0xfa5c34=this['activePiece'][_0x328dbe(0x14b)](_0x328dbe(0xd4));this[_0x328dbe(0xe4)](this[_0x328dbe(0x13e)]);let _0x24437b=_0x222980(this);if(_0x24437b===this[_0x328dbe(0x13e)]){let _0x3b3ffe=this[_0x328dbe(0x133)](this[_0x328dbe(0x13e)]);this[_0x328dbe(0x11e)]['lineStyle'](0x4,0xff0000,0x1),this[_0x328dbe(0x11e)][_0x328dbe(0xf6)](_0x3b3ffe),this[_0x328dbe(0x12b)][_0x328dbe(0xf9)]({'targets':this['graphics'],'alpha':0x0,'duration':0x1f4,'ease':'Linear','onComplete':()=>{const _0x335cb6=_0x328dbe;this['graphics'][_0x335cb6(0x10f)](),this['graphics']['alpha']=0x1;}});}else this[_0x328dbe(0x13e)]=_0x24437b,this[_0x328dbe(0x13b)](),this[_0x328dbe(0xa7)]();this['updateGhost'](),this[_0x328dbe(0x119)](this[_0x328dbe(0x13e)]);}[_0x4c02b9(0x128)](_0xc63825){const _0x57a163=_0x4c02b9;this[_0x57a163(0xe4)](this['activePiece']),_0x2266b8(this[_0x57a163(0x11e)],this[_0x57a163(0xa1)],this[_0x57a163(0xcc)],this[_0x57a163(0x13e)],_0xc63825),this[_0x57a163(0xa4)](),this[_0x57a163(0x119)](this['activePiece']);}[_0x4c02b9(0x149)](_0x4b8852){const _0x55032c=_0x4c02b9;_0x4ceb30();let _0x20cbe5=new Set(),_0x4d4848=_0x4b8852[_0x55032c(0x14b)](_0x55032c(0x118)),_0x24fe07=_0x4b8852[_0x55032c(0x14b)]('x'),_0x379958=_0x4b8852[_0x55032c(0x14b)]('y');if(!this[_0x55032c(0x100)](_0x24fe07,_0x379958)){for(let _0x596b0e=0x0;_0x596b0e<_0x4d4848['length'];_0x596b0e++)for(let _0xb4c4b0=0x0;_0xb4c4b0<_0x4d4848[_0x596b0e][_0x55032c(0xf4)]-0x1;_0xb4c4b0++){if(this[_0x55032c(0x100)](_0x4d4848[_0x596b0e][_0xb4c4b0],_0x4d4848[_0x596b0e][_0xb4c4b0+0x1]))return;_0x20cbe5['add'](_0x379958+_0x4d4848[_0x596b0e][_0xb4c4b0+0x1]);}_0x20cbe5=Array[_0x55032c(0x148)](_0x20cbe5)[_0x55032c(0x10b)]((_0x3239f7,_0x17df21)=>_0x17df21-_0x3239f7);for(let _0x439586=0x0;_0x439586<_0x20cbe5['length'];_0x439586++){let _0x4a0a77=_0x20cbe5[_0x439586],_0x41cf5a=!0x0;for(let _0x2724d6=0x0;_0x2724d6<BOARD_WIDTH;_0x2724d6++){let _0x522992=this[_0x55032c(0x9e)](_0x2724d6,_0x4a0a77);if(!_0x522992||_0x522992[_0x55032c(0xb4)]===_0x1e40b8[_0x55032c(0x86)]){_0x41cf5a=!0x1;break;}}if(_0x41cf5a){for(let _0xc72257=0x0;_0xc72257<BOARD_WIDTH;_0xc72257++)this['setTile'](_0xc72257,_0x4a0a77,_0x1e40b8[_0x55032c(0x86)]);for(let _0x140be5=_0x4a0a77+0x1;_0x140be5<BOARD_HEIGHT;_0x140be5++)for(let _0x11166e=0x0;_0x11166e<BOARD_WIDTH;_0x11166e++){let _0x3cb8fc=this[_0x55032c(0x9e)](_0x11166e,_0x140be5);_0x3cb8fc&&_0x3cb8fc[_0x55032c(0xb4)]!==_0x1e40b8[_0x55032c(0x86)]&&(this[_0x55032c(0xcb)](_0x11166e,_0x140be5-0x1,_0x3cb8fc[_0x55032c(0xb4)]),this[_0x55032c(0xcb)](_0x11166e,_0x140be5,_0x1e40b8[_0x55032c(0x86)]));}this[_0x55032c(0x14f)](_0x4a0a77-0x1);}}}}[_0x4c02b9(0x133)](_0x470c8d){const _0x3fa0a7=_0x4c02b9;let _0x2eadfd=_0x470c8d[_0x3fa0a7(0x14b)]('cells'),_0x46871c=_0x470c8d[_0x3fa0a7(0x14b)]('x'),_0x458ad2=_0x470c8d[_0x3fa0a7(0x14b)]('y');if(this['checkFractions'](_0x46871c,_0x458ad2))return;let _0x125538=BOARD_WIDTH,_0xfe3231=0x0,_0xa06a13=BOARD_HEIGHT,_0x3ba8b5=0x0;for(let _0x5486ec=0x0;_0x5486ec<_0x2eadfd[_0x3fa0a7(0xf4)];_0x5486ec++)for(let _0x59493e=0x0;_0x59493e<_0x2eadfd[_0x5486ec][_0x3fa0a7(0xf4)]-0x1;_0x59493e++){if(this[_0x3fa0a7(0x100)](_0x2eadfd[_0x5486ec][_0x59493e],_0x2eadfd[_0x5486ec][_0x59493e+0x1]))return;_0x125538=Math[_0x3fa0a7(0x12a)](_0x125538,_0x46871c+_0x2eadfd[_0x5486ec][_0x59493e]),_0xfe3231=Math[_0x3fa0a7(0xd5)](_0xfe3231,_0x46871c+_0x2eadfd[_0x5486ec][_0x59493e]),_0xa06a13=Math[_0x3fa0a7(0x12a)](_0xa06a13,_0x458ad2+_0x2eadfd[_0x5486ec][_0x59493e+0x1]),_0x3ba8b5=Math[_0x3fa0a7(0xd5)](_0x3ba8b5,_0x458ad2+_0x2eadfd[_0x5486ec][_0x59493e+0x1]);}return new Phaser[(_0x3fa0a7(0x93))][(_0x3fa0a7(0xd2))](this[_0x3fa0a7(0xa1)]['tileToWorldX'](_0x125538),this[_0x3fa0a7(0xa1)][_0x3fa0a7(0x14c)](0x13-_0x3ba8b5)+BLOCK_SIZE*this[_0x3fa0a7(0xcc)],this['map']['tileToWorldX'](_0xfe3231)-this['map']['tileToWorldX'](_0x125538)+BLOCK_SIZE*this[_0x3fa0a7(0xcc)],this[_0x3fa0a7(0xa1)][_0x3fa0a7(0x14c)](0x13-_0xa06a13)-this[_0x3fa0a7(0xa1)][_0x3fa0a7(0x14c)](0x13-_0x3ba8b5)+BLOCK_SIZE*this[_0x3fa0a7(0xcc)]);}[_0x4c02b9(0xe7)](){const _0x50832b=_0x4c02b9;let _0x7b0239=this['getBoundingBox'](this[_0x50832b(0x13e)]),_0x1f7ad0=this['getBoundingBox'](this[_0x50832b(0x9d)]),_0x3805fb=this[_0x50832b(0xf9)][_0x50832b(0x11d)](_0x7b0239[_0x50832b(0x138)],_0x7b0239[_0x50832b(0xca)],'trail');_0x3805fb['setOrigin'](0.5,0x0),_0x3805fb[_0x50832b(0x139)](this['activePiece'][_0x50832b(0x14b)](_0x50832b(0xcd))),_0x3805fb[_0x50832b(0x114)]=_0x7b0239[_0x50832b(0x10e)],_0x3805fb[_0x50832b(0x126)]=_0x1f7ad0['y']-_0x7b0239['y'],_0x3805fb[_0x50832b(0x113)]=-0x1,this[_0x50832b(0x12b)][_0x50832b(0xf9)]({'targets':_0x3805fb,'displayHeight':0x0,'y':_0x1f7ad0['y'],'alpha':0x0,'duration':0xc8,'ease':'Linear','onComplete':()=>{_0x3805fb['destroy']();}});let _0x525665=this[_0x50832b(0xf9)]['particles'](_0x1f7ad0['centerX'],_0x1f7ad0['y'],'star',{'speed':{'min':0x190,'max':0x3e8},'angle':{'min':-0x69,'max':-0x4b},'scale':{'start':0.1,'end':0x0},'alpha':{'start':0.4,'end':0x0},'quantity':0x5,'lifespan':0x1f4,'blendMode':_0x50832b(0xf7),'gravityY':0x64,'on':!0x1,'onComplete':()=>{const _0x10e55d=_0x50832b;_0x525665[_0x10e55d(0x109)]();}});_0x525665[_0x50832b(0x122)](),this[_0x50832b(0x11e)][_0x50832b(0x9b)](0x4,0xff00,0x1),this['graphics'][_0x50832b(0xf6)](_0x7b0239),this[_0x50832b(0x12b)][_0x50832b(0xf9)]({'targets':this[_0x50832b(0x11e)],'alpha':0x0,'duration':0x190,'ease':_0x50832b(0x8f),'onComplete':()=>{const _0xbd7826=_0x50832b;this[_0xbd7826(0x11e)][_0xbd7826(0x10f)](),this[_0xbd7826(0x11e)][_0xbd7826(0xdd)]=0x1;}}),this['cameras'][_0x50832b(0xef)][_0x50832b(0x88)](0x64,0.0025-0.0005*(this[_0x50832b(0x9d)]['getData']('y')-this[_0x50832b(0x13e)][_0x50832b(0x14b)]('y')));}['drop'](){const _0x28c52a=_0x4c02b9;if(!this[_0x28c52a(0x90)]){for(this[_0x28c52a(0xe7)](),this[_0x28c52a(0xe4)](this['activePiece']),this[_0x28c52a(0xe4)](this['ghostPiece']);_0x2718ca(this['graphics'],this[_0x28c52a(0xa1)],this['gameScale'],this[_0x28c52a(0x13e)],[0x0,0x1]););this[_0x28c52a(0x119)](this[_0x28c52a(0x13e)]),this[_0x28c52a(0x149)](this[_0x28c52a(0x13e)]),this['spawn'](),this[_0x28c52a(0x119)](this[_0x28c52a(0x13e)]),this['elapsed']=0x0;}}['showRowClearFX'](_0x50364a){const _0x3ce38f=_0x4c02b9;let _0x2d4a4f=this[_0x3ce38f(0xf9)]['particles'](this[_0x3ce38f(0x117)]['x']*this[_0x3ce38f(0xcc)],0x0,_0x3ce38f(0xb1),{'frame':{'frames':[_0x3ce38f(0x102),_0x3ce38f(0x96),_0x3ce38f(0x121),_0x3ce38f(0xda),_0x3ce38f(0xc3)],'cycle':!0x0},'blendMode':_0x3ce38f(0xf7),'lifespan':0x96,'quantity':0x1,'manualEmit':!0x0,'frequency':0x5,'alpha':{'start':0x1,'end':0x0},'scale':{'start':0.4,'end':0.1},'onComplete':()=>{const _0x2dc94a=_0x3ce38f;_0x2d4a4f[_0x2dc94a(0x109)]();}});_0x2d4a4f[_0x3ce38f(0x116)](),_0x2d4a4f['addEmitZone']({'type':_0x3ce38f(0x106),'source':new Phaser[(_0x3ce38f(0x93))][(_0x3ce38f(0x95))](this[_0x3ce38f(0xa1)][_0x3ce38f(0xd9)](-5.75),this['map']['tileToWorldY'](19.5-_0x50364a),this[_0x3ce38f(0xa1)][_0x3ce38f(0xd9)](4.25),this[_0x3ce38f(0xa1)][_0x3ce38f(0x14c)](19.5-_0x50364a)),'quantity':0xa,'total':0x1}),_0x2d4a4f[_0x3ce38f(0xb6)](0x32,0x32);}['create'](){const _0x5cdf6b=_0x4c02b9;this[_0x5cdf6b(0xbc)](),this['addFullScreenToggle'](),_0x523256(this),_0x4774c8(this),this[_0x5cdf6b(0xf0)](),this[_0x5cdf6b(0x11e)]=this[_0x5cdf6b(0xf9)][_0x5cdf6b(0x11e)](),this[_0x5cdf6b(0x119)](this[_0x5cdf6b(0x13e)]),console['log'](window['innerWidth'],window[_0x5cdf6b(0xfa)],window['devicePixelRatio']);}[_0x4c02b9(0x13b)](){const _0x66b97b=_0x4c02b9;let _0x3a5b7c=_0x14f4a4();this[_0x66b97b(0x115)][_0x66b97b(0x91)](_0x1e40b8[_0x66b97b(0x86)],0x0,0x0,0x4,0x9,!0x0);for(let _0x6f8548=0x0;_0x6f8548<_0x3a5b7c[_0x66b97b(0xf4)];_0x6f8548++){let _0x4f1df0=_0x3a5b7c[_0x6f8548],_0x39a5db=_0x4f1df0[_0x66b97b(0x14b)]('cells'),_0x40608f=_0x4f1df0[_0x66b97b(0x14b)](_0x66b97b(0x141));for(let _0x2b3d81=0x0;_0x2b3d81<_0x39a5db['length'];_0x2b3d81++)for(let _0x5b74de=0x0;_0x5b74de<_0x39a5db[_0x2b3d81]['length']-0x1;_0x5b74de++)this[_0x66b97b(0x115)]['putTileAt'](_0x40608f,0x1+_0x39a5db[_0x2b3d81][_0x5b74de],0x6-_0x6f8548*0x3-_0x39a5db[_0x2b3d81][_0x5b74de+0x1]+0x1,!0x1,_0x66b97b(0xd6));}}['drawHold'](){const _0x4489fa=_0x4c02b9;let _0x38dbd1=_0x3bba2e(),_0x2fcba2=_0x38dbd1[_0x4489fa(0x14b)]('cells'),_0x3a69f6=_0x38dbd1['getData'](_0x4489fa(0x141));this[_0x4489fa(0xaa)][_0x4489fa(0x91)](_0x1e40b8[_0x4489fa(0x86)],0x0,0x0,0x4,0x2,!0x0);for(let _0x179c61=0x0;_0x179c61<_0x2fcba2[_0x4489fa(0xf4)];_0x179c61++)for(let _0x2172c9=0x0;_0x2172c9<_0x2fcba2[_0x179c61][_0x4489fa(0xf4)]-0x1;_0x2172c9++)this[_0x4489fa(0xaa)][_0x4489fa(0xe6)](_0x3a69f6,0x1+_0x2fcba2[_0x179c61][_0x2172c9],0x1-_0x2fcba2[_0x179c61][_0x2172c9+0x1],!0x1,_0x4489fa(0x12c));}[_0x4c02b9(0xf0)](){const _0x2040f7=_0x4c02b9;for(this[_0x2040f7(0x13e)]&&this[_0x2040f7(0x13e)][_0x2040f7(0x109)](),this['ghostPiece']&&this['ghostPiece'][_0x2040f7(0x109)](),this[_0x2040f7(0x13e)]=_0x45fae1(this,0x4,0x13,this['gameScale']),this[_0x2040f7(0x9d)]=_0x9e11e5(this,this['activePiece'],this[_0x2040f7(0xcc)]);_0x2718ca(this[_0x2040f7(0x11e)],this[_0x2040f7(0xa1)],this[_0x2040f7(0xcc)],this[_0x2040f7(0x9d)],[0x0,0x1]););this[_0x2040f7(0x119)](this[_0x2040f7(0x9d)]),this[_0x2040f7(0x13b)]();}[_0x4c02b9(0xa4)](){const _0x247b33=_0x4c02b9;for(this[_0x247b33(0xe4)](this[_0x247b33(0x9d)]),this['ghostPiece'][_0x247b33(0x120)]('x',this[_0x247b33(0x13e)]['getData']('x')),this[_0x247b33(0x9d)][_0x247b33(0x120)]('y',this[_0x247b33(0x13e)][_0x247b33(0x14b)]('y')),this[_0x247b33(0x9d)]['x']=this[_0x247b33(0xa1)][_0x247b33(0xd9)](this[_0x247b33(0x13e)][_0x247b33(0x14b)]('x')),this[_0x247b33(0x9d)]['y']=this[_0x247b33(0xa1)][_0x247b33(0x14c)](0x13-this['activePiece'][_0x247b33(0x14b)]('y')),this['ghostPiece'][_0x247b33(0x120)](_0x247b33(0x118),_0x408f52(this[_0x247b33(0x13e)][_0x247b33(0x14b)]('cells'))),this['ghostPiece'][_0x247b33(0x120)](_0x247b33(0x144),this['activePiece']['getData'](_0x247b33(0x144)));_0x2718ca(this['graphics'],this[_0x247b33(0xa1)],this['gameScale'],this[_0x247b33(0x9d)],[0x0,0x1]););this[_0x247b33(0x119)](this[_0x247b33(0x9d)]);}[_0x4c02b9(0xae)](_0x456e5a,_0x531ed6){const _0x51ee15=_0x4c02b9;this[_0x51ee15(0x90)]||(_0x4d866d(this),this[_0x51ee15(0x9a)]+=_0x531ed6,this[_0x51ee15(0x9a)]>0x3e8&&(this['elapsed']=0x0),this[_0x51ee15(0x9a)]===0x0&&this['activePiece']&&!DEBUG&&(this[_0x51ee15(0xe4)](this['activePiece']),_0x2718ca(this[_0x51ee15(0x11e)],this[_0x51ee15(0xa1)],this[_0x51ee15(0xcc)],this[_0x51ee15(0x13e)],[0x0,0x1])||(this[_0x51ee15(0x119)](this[_0x51ee15(0x13e)]),this[_0x51ee15(0x149)](this['activePiece']),this[_0x51ee15(0xf0)]()),this[_0x51ee15(0x119)](this[_0x51ee15(0x13e)])));}},_0x90550a={'type':Phaser['WEBGL'],'scale':{'mode':Phaser['Scale'][_0x4c02b9(0xb2)],'parent':_0x4c02b9(0xe8),'autoCenter':Phaser['Scale']['CENTER_BOTH'],'width':WIDTH,'height':HEIGHT},'width':WIDTH,'height':HEIGHT,'backgroundColor':_0x4c02b9(0xad),'scene':[_0x217704]},_0x4de691=new Phaser[(_0x4c02b9(0xe3))](_0x90550a);})()));function _0xb1ba(_0x5b4262,_0x5103eb){const _0x3521d6=_0x3521();return _0xb1ba=function(_0xb1ba7b,_0x1a3748){_0xb1ba7b=_0xb1ba7b-0x84;let _0x18b683=_0x3521d6[_0xb1ba7b];return _0x18b683;},_0xb1ba(_0x5b4262,_0x5103eb);}function _0x3521(){const _0x334402=['GHOST','edge','66VyHGeL','Scene','destroy','queueLayer','sort','log','isDown','width','clear','parse','toFixed','wallKicks','depth','displayWidth','queueMap','stop','center','cells','setTetromino','addFullScreenToggle','tilemap','keydown-UP','image','graphics','JLOSTZ','setData','pink','explode','createQueueMap','layer','block','displayHeight','assets/particles/blocks.png','rotateActivePiece','particleEmitter','min','tweens','HoldLayer','level','moveActivePiece','adjustedBlockSize','stringify','setOrigin','1662117fKqdhq','getBoundingBox','getTileAt','hold','isFullscreen','resume','centerX','setTint','createGameMap','drawQueue','load','map_tiles','activePiece','GREEN','Queue:\x20','tile','createBlankLayer','rockLayer','rotationIndex','20790360kmYmnr','trail','Wall\x20kick\x20success','from','lockTetromino','fullscreen','getData','tileToWorldY','Bug:\x20','keydown-P','showRowClearFX','addPointer','assets/ui/fullscreen.png','BOARD','addTilesetImage','shake','removeTileAt','stopFullscreen','pop','assets/particles/blocks.json','pointerup','createHoldMap','Linear','gameOver','fill','queueTiles','Geom','setPipeline','Line','green','cos','keyboard','holdTiles','elapsed','lineStyle','keydown-LEFT','ghostPiece','getTile','addLight','queue_tiles','map','assets/particles/star.png','drop','updateGhost','unshift','bug:\x20','drawHold','streak','72thjSWJ','holdMap','setAmbientColor','SetTetromino:\x20','rgb(3,\x2023,\x2054)','update','push','Light2D','flares','FIT','floor','index','activePointer','start','Tile\x20occupied','setInteractive','keys','keydown-SPACE','keydown-RIGHT','createTileMaps','23747dLecem','spritesheet','Created\x20tetromino:\x20','atlas','clearHold','lights','purple','GhostLayer','5231715RsYoCk','keydown-ENTER','setFrame','startFullscreen','setScale','centerY','setTile','gameScale','color','input','GameLayer','720965iULcTb','isPaused','Rectangle','Jetris','type','max','QueueLayer','deltaX','left','tileToWorldX','yellow','BLUE','Move\x20Data!!','alpha','3130371Lunabb','assets/particles/trail.png','ghostLayer','make','keydown-DOWN','Game','clearTetromino','13775896dooqMf','putTileAt','drawDropAnimation','jetris','Wall\x20kick\x20failure','rotation','scene','rowClearParticles','Rotation:\x20','PURPLE','main','spawn','pause','Wall\x20kicks\x20being\x20evaluated:\x20','preload','length','assets/Sprites/tetris.png','strokeRectShape','ADD','abs','add','innerHeight','scale','random','enable','container','round','checkFractions','ceil','blue','star','4ooZbcP'];_0x3521=function(){return _0x334402;};return _0x3521();}