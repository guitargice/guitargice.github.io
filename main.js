function _0x591e(_0x33a166,_0x55441f){const _0x242478=_0x2424();return _0x591e=function(_0x591e64,_0x111b33){_0x591e64=_0x591e64-0x1eb;let _0x1920a4=_0x242478[_0x591e64];return _0x1920a4;},_0x591e(_0x33a166,_0x55441f);}(function(_0x2b86af,_0x31d013){const _0x253dcf=_0x591e,_0x2b30bc=_0x2b86af();while(!![]){try{const _0x58ff56=parseInt(_0x253dcf(0x24a))/0x1*(parseInt(_0x253dcf(0x2ab))/0x2)+-parseInt(_0x253dcf(0x2a0))/0x3*(-parseInt(_0x253dcf(0x250))/0x4)+parseInt(_0x253dcf(0x255))/0x5*(-parseInt(_0x253dcf(0x239))/0x6)+parseInt(_0x253dcf(0x27b))/0x7+-parseInt(_0x253dcf(0x2ac))/0x8*(parseInt(_0x253dcf(0x287))/0x9)+-parseInt(_0x253dcf(0x22f))/0xa+parseInt(_0x253dcf(0x2b3))/0xb*(parseInt(_0x253dcf(0x2a4))/0xc);if(_0x58ff56===_0x31d013)break;else _0x2b30bc['push'](_0x2b30bc['shift']());}catch(_0x36c3b1){_0x2b30bc['push'](_0x2b30bc['shift']());}}}(_0x2424,0x59851),((()=>{const _0x5b0985=_0x591e;var _0x32e9ec=Tiles={'BLUE':0x0,'CYAN':0x1,'ORANGE':0x2,'YELLOW':0x3,'GREEN':0x4,'RED':0x5,'PURPLE':0x6,'BOARD':0x7,'BORDER_BOTTOM':0x8,'BORDER_LEFT':0x9,'BORDER_TOP':0xa,'BORDER_RIGHT':0xb,'GHOST':0xc,'HELPER':0xd,'EMPTY':0xe,'EMPTY2':0xf,'BORDER_CORNER_BOTTOM_LEFT':0x10,'BORDER_CORNER_TOP_LEFT':0x11,'BORDER_CORNER_TOP_RIGHT':0x12,'BORDER_CORNER_BOTTOM_RIGHT':0x13};cos=Math[_0x5b0985(0x25e)](Math['PI']/0x2),sin=Math[_0x5b0985(0x233)](Math['PI']/0x2),RotationMatrix=[cos,sin,-sin,cos],TetrominoBag=[],TetrominoQueue=[],heldPiece=null,hasSwapped=!0x1;var _0x41fb81={'L':'L','I':'I','J':'J','O':'O','S':'S','T':'T','Z':'Z'},_0x41c76e=()=>{const _0x8304f1=_0x5b0985;if(TetrominoBag[_0x8304f1(0x220)]===0x0){let _0x10bc70=Object[_0x8304f1(0x23e)](_0x41fb81);for(let _0x324fa8=_0x10bc70[_0x8304f1(0x220)]-0x1;_0x324fa8>0x0;_0x324fa8--){let _0xd69cc0=Math[_0x8304f1(0x27c)](Math[_0x8304f1(0x240)]()*(_0x324fa8+0x1));[_0x10bc70[_0x324fa8],_0x10bc70[_0xd69cc0]]=[_0x10bc70[_0xd69cc0],_0x10bc70[_0x324fa8]];}TetrominoBag=[..._0x10bc70];}let _0x269993=TetrominoBag['pop']();return DEBUG&&console[_0x8304f1(0x236)](_0x8304f1(0x269),TetrominoBag),_0x269993;};function _0x182e03(){const _0x3ddc44=_0x5b0985;return TetrominoBag['length']===0x0&&_0x41c76e(),[...TetrominoBag[_0x3ddc44(0x266)](0x0,0x3)];}var _0x47fbdf={'L':_0x32e9ec['ORANGE'],'I':_0x32e9ec[_0x5b0985(0x203)],'J':_0x32e9ec['BLUE'],'O':_0x32e9ec[_0x5b0985(0x1f9)],'S':_0x32e9ec[_0x5b0985(0x281)],'T':_0x32e9ec['PURPLE'],'Z':_0x32e9ec['RED']},_0x2632bc={'I':[[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]]],'JLOSTZ':[[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]]]},_0x15f0d1={'I':[0x0,0x0],'O':[0x0,0x0],'J':[-0.5,0.5],'L':[-0.5,0.5],'S':[-0.5,0.5],'T':[-0.5,0.5],'Z':[-0.5,0.5]},_0x3d74e4={'L':{'cells':[[0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x2632bc[_0x5b0985(0x235)],'color':0xffa500},'I':{'cells':[[-0x1,0x1],[0x0,0x1],[0x1,0x1],[0x2,0x1]],'wallKicks':_0x2632bc['I'],'color':0xffff},'J':{'cells':[[-0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x2632bc[_0x5b0985(0x235)],'color':0xff},'O':{'cells':[[0x0,0x0],[0x1,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x2632bc[_0x5b0985(0x235)],'color':0xffff00},'S':{'cells':[[-0x1,0x0],[0x0,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x2632bc['JLOSTZ'],'color':0xff00},'T':{'cells':[[-0x1,0x0],[0x0,0x0],[0x1,0x0],[0x0,0x1]],'wallKicks':_0x2632bc[_0x5b0985(0x235)],'color':0x800080},'Z':{'cells':[[-0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x2632bc[_0x5b0985(0x235)],'color':0xff0000}};function _0x22c611(_0x2ad3d4){const _0xa9b396=_0x5b0985;return JSON[_0xa9b396(0x1f8)](JSON[_0xa9b396(0x293)](_0x2ad3d4));}function _0x43ad68(_0x12e33e){const _0x380b93=_0x5b0985;let _0x42a2e3=_0x182e03();for(let _0x70153d=0x0;_0x70153d<_0x42a2e3[_0x380b93(0x220)];_0x70153d++)TetrominoQueue['push'](_0x473c3d(_0x12e33e,_0x42a2e3[_0x70153d])),DEBUG&&console[_0x380b93(0x236)](_0x380b93(0x213),TetrominoQueue);}function _0x473c3d(_0x21ccd6,_0x506cad){const _0x30634f=_0x5b0985;let _0xbc3c56=_0x3d74e4[_0x506cad],_0x26344b=_0x21ccd6[_0x30634f(0x20d)][_0x30634f(0x251)](0x0,0x0);return _0x26344b[_0x30634f(0x24b)]('cells',_0x22c611(_0xbc3c56['cells'])),_0x26344b[_0x30634f(0x24b)](_0x30634f(0x26b),_0xbc3c56[_0x30634f(0x26b)]),_0x26344b[_0x30634f(0x24b)](_0x30634f(0x222),_0xbc3c56[_0x30634f(0x222)]),_0x26344b[_0x30634f(0x24b)](_0x30634f(0x1ed),_0x47fbdf[_0x506cad]),_0x26344b[_0x30634f(0x24b)](_0x30634f(0x271),_0x506cad),_0x26344b[_0x30634f(0x24b)](_0x30634f(0x27f),0x0),_0x26344b[_0x30634f(0x24b)]('rotation',[0x0,0x0]),_0x26344b['setData']('x',0x0),_0x26344b[_0x30634f(0x24b)]('y',0x0),DEBUG&&console['log'](_0x30634f(0x296),_0x26344b),_0x26344b;}function _0x2c2842(_0x4b2d45,_0x17faf3,_0x907365,_0x2a7a85){const _0x46434f=_0x5b0985;let _0x4a5d8c=TetrominoQueue['pop']()['setScale'](_0x2a7a85),_0x3be239=_0x4a5d8c[_0x46434f(0x231)](_0x46434f(0x271));return _0x4a5d8c[_0x46434f(0x24b)]('x',_0x17faf3),_0x4a5d8c[_0x46434f(0x24b)]('y',_0x907365-(_0x3be239===_0x3d74e4['I']?0x1:0x0)),DEBUG&&console[_0x46434f(0x236)](_0x46434f(0x2bb),_0x4a5d8c),TetrominoQueue['unshift'](_0x473c3d(_0x4b2d45,_0x41c76e())),_0x4a5d8c;}function _0x2084ba(){return TetrominoQueue;}function _0x520c47(){return heldPiece;}function _0x33e97f(_0x2e36e6){const _0x2d7f39=_0x5b0985;if(heldPiece){if(hasSwapped)return _0x2e36e6[_0x2d7f39(0x2af)];{let _0x230882=_0x473c3d(_0x2e36e6,_0x2e36e6[_0x2d7f39(0x2af)]['getData'](_0x2d7f39(0x271))),_0x3fb273=Object[_0x2d7f39(0x283)](heldPiece);return _0x3fb273[_0x2d7f39(0x24b)]('x',_0x2e36e6['activePiece']['getData']('x')),_0x3fb273[_0x2d7f39(0x24b)]('y',_0x2e36e6[_0x2d7f39(0x2af)][_0x2d7f39(0x231)]('y')),heldPiece=_0x230882,hasSwapped=!0x0,_0x3fb273;}}else{heldPiece=_0x473c3d(_0x2e36e6,_0x2e36e6['activePiece'][_0x2d7f39(0x231)]('type'));let _0xe03285=_0x2c2842(_0x2e36e6,0x4,0x13,heldPiece[_0x2d7f39(0x22e)]);return hasSwapped=!0x0,_0xe03285;}}function _0x55a3d8(){hasSwapped=!0x1;}function _0x4eb115(){hasSwapped=!0x1,heldPiece=null;}function _0x1b4ac4(_0x464062,_0x4e29d2,_0x197e44){const _0x1d040b=_0x5b0985;let _0xedb896=_0x4e29d2[_0x1d040b(0x231)](_0x1d040b(0x271)),_0x556c3b=_0x3d74e4[_0xedb896],_0x263989=_0x464062[_0x1d040b(0x20d)][_0x1d040b(0x251)](0x0,0x0)[_0x1d040b(0x205)](_0x197e44);return _0x263989[_0x1d040b(0x24b)](_0x1d040b(0x1ed),_0x32e9ec[_0x1d040b(0x24c)]),_0x263989[_0x1d040b(0x24b)](_0x1d040b(0x29c),_0x22c611(_0x4e29d2[_0x1d040b(0x231)]('cells'))),_0x263989[_0x1d040b(0x24b)]('type',_0x4e29d2[_0x1d040b(0x231)]('type')),_0x263989[_0x1d040b(0x24b)](_0x1d040b(0x27f),_0x4e29d2[_0x1d040b(0x231)](_0x1d040b(0x27f))),_0x263989[_0x1d040b(0x24b)](_0x1d040b(0x249),_0x4e29d2[_0x1d040b(0x231)](_0x1d040b(0x249))),_0x263989['setData']('x',_0x4e29d2['getData']('x')),_0x263989[_0x1d040b(0x24b)]('y',_0x4e29d2[_0x1d040b(0x231)]('y')),_0x263989['setData'](_0x1d040b(0x222),_0x4e29d2['getData'](_0x1d040b(0x222))),_0x263989;}function _0x55d0e4(_0x43e21a,_0x3293d7,_0x3ff0ea){return _0x43e21a<_0x3293d7?_0x3ff0ea-(_0x3293d7-_0x43e21a)%(_0x3ff0ea-_0x3293d7):_0x3293d7+(_0x43e21a-_0x3293d7)%(_0x3ff0ea-_0x3293d7);}function _0x3cd7f9(_0x522141,_0x5382dd,_0x5286a9,_0x457971,_0x396f64){const _0x4e1baa=_0x5b0985;originalRotation=_0x457971['getData'](_0x4e1baa(0x27f))||0x0,rotationIndex=_0x55d0e4(originalRotation+_0x396f64,0x0,0x4),DEBUG&&console[_0x4e1baa(0x236)]('Rotation:\x20',rotationIndex),_0x5f0726(_0x457971,_0x396f64),_0x4f4829(_0x522141,_0x5382dd,_0x5286a9,_0x457971,rotationIndex,_0x396f64)||(rotationIndex=originalRotation,_0x5f0726(_0x457971,-_0x396f64)),_0x457971['setData']('rotationIndex',rotationIndex);}function _0x4f4829(_0x12a71d,_0x5ba7f9,_0xbcaae0,_0x2b0f20,_0x4378a2,_0x155e85){const _0x31ba53=_0x5b0985;for(wallKicks=_0x2b0f20['getData'](_0x31ba53(0x222)),wallKickIndex=_0x26892a(_0x4378a2,_0x155e85),DEBUG&&console[_0x31ba53(0x236)](_0x31ba53(0x2a7),wallKicks[wallKickIndex]),i=0x0;i<0x5;i++)if(translation=wallKicks[wallKickIndex][i],_0x446d17(_0x12a71d,_0x5ba7f9,_0xbcaae0,_0x2b0f20,translation,!0x0))return DEBUG&&console[_0x31ba53(0x236)](_0x31ba53(0x1f0)),!0x0;return DEBUG&&console[_0x31ba53(0x236)](_0x31ba53(0x1f2)),!0x1;}function _0x26892a(_0x1fe257,_0x57d9f5){return wallKickIndex=_0x1fe257*0x2,_0x57d9f5<0x0&&wallKickIndex--,_0x55d0e4(wallKickIndex,0x0,0x8);}function _0x44a6e3(_0x4ca459,_0x556699,_0x41aa20,_0x443262,_0x3aa711,_0x195c26){const _0x551948=_0x5b0985;let _0x55ca49=_0x443262[_0x551948(0x231)](_0x551948(0x29c)),_0x27c100=_0x443262[_0x551948(0x231)](_0x551948(0x271)),_0x589861=_0x443262[_0x551948(0x231)]('x'),_0x36a682=_0x443262[_0x551948(0x231)]('y');DEBUG&&(_0x4ca459[_0x551948(0x23d)](),DEBUG&&console[_0x551948(0x236)](_0x551948(0x207),_0x3aa711));for(let _0x5a12fe=0x0;_0x5a12fe<_0x55ca49[_0x551948(0x220)];_0x5a12fe++){let _0x438475=_0x589861+_0x55ca49[_0x5a12fe][0x0]+_0x3aa711[0x0],_0x33bd2b=_0x36a682+_0x55ca49[_0x5a12fe][0x1]-_0x3aa711[0x1];if(DEBUG&&(wx=_0x556699['tileToWorldX'](_0x438475),wy=_0x556699[_0x551948(0x210)](0x14-_0x33bd2b),_0x4ca459[_0x551948(0x1fd)](0x1,0xff00ff),_0x4ca459[_0x551948(0x27a)](new Phaser[(_0x551948(0x285))][(_0x551948(0x21e))](wx,wy,0x40*_0x41aa20,0x40*_0x41aa20))),_0x438475%0x1!==0x0||_0x33bd2b%0x1!==0x0)return DEBUG&&console['log'](_0x551948(0x216),_0x438475,_0x33bd2b),!0x1;let _0x9bffc0=_0x556699['getTileAt'](_0x438475,0x14-_0x33bd2b);if(!_0x9bffc0||_0x9bffc0['index']!==_0x32e9ec['BOARD']&&_0x9bffc0[_0x551948(0x23f)]!==_0x32e9ec[_0x551948(0x24c)])return DEBUG&&console['log'](_0x551948(0x29a)),!0x1;}return!0x0;}function _0x446d17(_0x59433a,_0x330ff5,_0x5996d3,_0x23246c,_0x597ccf,_0x3fbcb2){const _0x1653f0=_0x5b0985;return isValid=_0x44a6e3(_0x59433a,_0x330ff5,_0x5996d3,_0x23246c,_0x597ccf,_0x3fbcb2),isValid&&(_0x23246c[_0x1653f0(0x24b)]('x',_0x23246c[_0x1653f0(0x231)]('x')+_0x597ccf[0x0]),_0x23246c[_0x1653f0(0x24b)]('y',_0x23246c['getData']('y')-_0x597ccf[0x1]),_0x23246c['x']=_0x330ff5[_0x1653f0(0x209)](_0x23246c[_0x1653f0(0x231)]('x')),_0x23246c['y']=_0x330ff5[_0x1653f0(0x210)](0x13-_0x23246c['getData']('y'))),isValid;}function _0x5f0726(_0xc70639,_0x5377b1){const _0x393bdb=_0x5b0985;let _0x2c61fd=_0x15f0d1[_0xc70639['getData'](_0x393bdb(0x271))],_0x5197df=_0xc70639[_0x393bdb(0x231)](_0x393bdb(0x29c)),_0x1e5430=_0xc70639[_0x393bdb(0x231)](_0x393bdb(0x271)),_0x2109c2=RotationMatrix,_0x1f9612=[],_0x4088e3=_0x1e5430===_0x41fb81['O']||_0x1e5430===_0x41fb81['I'];if(_0x4088e3){for(let _0x2d1d9a=0x0;_0x2d1d9a<_0x5197df['length'];_0x2d1d9a++)_0x5197df[_0x2d1d9a][0x0]-=0.5,_0x5197df[_0x2d1d9a][0x1]-=0.5;}for(let _0x5d08be=0x0;_0x5d08be<_0x5197df['length'];_0x5d08be++){let _0x17a047=parseFloat((_0x5197df[_0x5d08be][0x0]*_0x2109c2[0x0]*_0x5377b1+_0x5197df[_0x5d08be][0x1]*_0x2109c2[0x1]*_0x5377b1)[_0x393bdb(0x270)](0x1)),_0x1663b3=parseFloat((_0x5197df[_0x5d08be][0x0]*_0x2109c2[0x2]*_0x5377b1+_0x5197df[_0x5d08be][0x1]*_0x2109c2[0x3]*_0x5377b1)[_0x393bdb(0x270)](0x1));_0x1f9612['push']([_0x4088e3?Math[_0x393bdb(0x274)](_0x17a047):Math[_0x393bdb(0x215)](_0x17a047),_0x4088e3?Math['ceil'](_0x1663b3):Math['round'](_0x1663b3)]);}return _0xc70639[_0x393bdb(0x24b)](_0x393bdb(0x29c),_0x1f9612),tmp=[parseFloat((_0x2c61fd[0x0]*_0x2109c2[0x0]*_0x5377b1+_0x2c61fd[0x1]*_0x2109c2[0x1]*_0x5377b1)[_0x393bdb(0x270)](0x1)),parseFloat((_0x2c61fd[0x0]*_0x2109c2[0x2]*_0x5377b1+_0x2c61fd[0x1]*_0x2109c2[0x3]*_0x5377b1)[_0x393bdb(0x270)](0x1))],_0xc70639[_0x393bdb(0x24b)]('rotation',tmp),_0x1f9612;}function _0x4a009d(_0xd7e0a5){const _0x35b9ff=_0x5b0985;_0xd7e0a5[_0x35b9ff(0x29b)][_0x35b9ff(0x273)](0x1),_0xd7e0a5[_0x35b9ff(0x29b)][_0x35b9ff(0x25c)]['on'](_0x35b9ff(0x259),()=>{const _0x1ea8f8=_0x35b9ff;_0xd7e0a5[_0x1ea8f8(0x232)]([-0x1,0x0]);}),_0xd7e0a5[_0x35b9ff(0x29b)]['keyboard']['on'](_0x35b9ff(0x22c),()=>{_0xd7e0a5['moveActivePiece']([0x1,0x0]);}),_0xd7e0a5[_0x35b9ff(0x29b)][_0x35b9ff(0x25c)]['on']('keydown-DOWN',()=>{_0xd7e0a5['moveActivePiece']([0x0,0x1]);}),DEBUG&&_0xd7e0a5[_0x35b9ff(0x29b)][_0x35b9ff(0x25c)]['on'](_0x35b9ff(0x1fc),()=>{_0xd7e0a5['moveActivePiece']([0x0,-0x1]);}),_0xd7e0a5[_0x35b9ff(0x29b)][_0x35b9ff(0x25c)]['on']('keydown-E',()=>{const _0x331e6b=_0x35b9ff;_0xd7e0a5[_0x331e6b(0x26a)](0x1);}),_0xd7e0a5[_0x35b9ff(0x29b)][_0x35b9ff(0x25c)]['on'](_0x35b9ff(0x28d),()=>{_0xd7e0a5['rotateActivePiece'](-0x1);}),_0xd7e0a5[_0x35b9ff(0x29b)][_0x35b9ff(0x25c)]['on'](_0x35b9ff(0x1fb),()=>{const _0x377145=_0x35b9ff;_0xd7e0a5[_0x377145(0x227)]();}),_0xd7e0a5[_0x35b9ff(0x29b)]['keyboard']['on'](_0x35b9ff(0x26e),()=>{const _0x484d1a=_0x35b9ff;_0xd7e0a5[_0x484d1a(0x278)]();}),_0xd7e0a5['input'][_0x35b9ff(0x25c)]['on'](_0x35b9ff(0x2b5),()=>{const _0x13a7d8=_0x35b9ff;_0xd7e0a5[_0x13a7d8(0x26d)][_0x13a7d8(0x225)]()?_0xd7e0a5[_0x13a7d8(0x26d)][_0x13a7d8(0x23a)]():_0xd7e0a5['scene'][_0x13a7d8(0x2b7)]();}),_0xd7e0a5[_0x35b9ff(0x29b)][_0x35b9ff(0x25c)]['on'](_0x35b9ff(0x25f),()=>{const _0x191234=_0x35b9ff;_0xd7e0a5[_0x191234(0x276)][_0x191234(0x1f3)](Tiles[_0x191234(0x290)]),_0xd7e0a5[_0x191234(0x276)][_0x191234(0x1f3)](null,0x0,0x0,BOARD_WIDTH,BOARD_HEIGHT,!0x0,_0x191234(0x1f1)),_0xd7e0a5[_0x191234(0x22a)](),_0xd7e0a5['gameOver']=!0x1,_0xd7e0a5['spawn'](),_0xd7e0a5[_0x191234(0x258)](_0xd7e0a5[_0x191234(0x2af)]);});}isClicking=!0x1,dropped=!0x1,held=!0x1,clicked=!0x1,dragged=!0x1,touchDeltaX=0x0,touchDeltaY=0x0;function _0x45147c(_0x1d79e4){const _0x827e86=_0x5b0985;if(_0x1d79e4[_0x827e86(0x29b)][_0x827e86(0x246)][_0x827e86(0x253)]){clicked=!0x0;let _0x464e0b=Math['abs'](_0x1d79e4['input'][_0x827e86(0x246)]['x']-touchDeltaX),_0x1e3857=Math['abs'](_0x1d79e4[_0x827e86(0x29b)][_0x827e86(0x246)]['y']-touchDeltaY);_0x464e0b>=0x4b&&_0x464e0b>_0x1e3857?(_0x1d79e4['input'][_0x827e86(0x246)]['x']<touchDeltaX?swipeDirection='left':_0x1d79e4[_0x827e86(0x29b)][_0x827e86(0x246)]['x']>touchDeltaX&&touchDeltaX!=0x0?swipeDirection=_0x827e86(0x22d):(swipeDirection='',touchDeltaX=0x0),touchDeltaX=_0x1d79e4['input'][_0x827e86(0x246)]['x'],swipeDirection!=''&&(_0x1d79e4['moveActivePiece']([swipeDirection==_0x827e86(0x263)?-0x1:0x1,0x0]),dragged=!0x0)):!dropped&&!held&&_0x1e3857>=0xc8&&_0x1e3857>_0x464e0b&&(_0x1d79e4[_0x827e86(0x29b)][_0x827e86(0x246)]['y']>touchDeltaY&&touchDeltaY!=0x0?swipeDirection=_0x827e86(0x208):_0x1d79e4['input'][_0x827e86(0x246)]['y']<touchDeltaY&&touchDeltaY!=0x0?swipeDirection='up':(swipeDirection='',touchDeltaY=0x0),touchDeltaY=_0x1d79e4['input'][_0x827e86(0x246)]['y'],swipeDirection==_0x827e86(0x208)?(_0x1d79e4['drop'](),dropped=!0x0):swipeDirection=='up'&&(_0x1d79e4['hold'](),held=!0x0));}else touchDeltaX=0x0,touchDeltaY=0x0,clicked&&!dragged&&!dropped&&!held&&(_0x1d79e4[_0x827e86(0x29b)][_0x827e86(0x246)]['x']<_0x1d79e4[_0x827e86(0x2a8)]['x']?_0x1d79e4[_0x827e86(0x26a)](-0x1):_0x1d79e4[_0x827e86(0x26a)](0x1)),clicked=!0x1,dropped=!0x1,dragged=!0x1,held=!0x1;}WIDTH=0x320,HEIGHT=0x400,DEBUG=!0x1,BOARD_WIDTH=0xa,BOARD_HEIGHT=0x14,BLOCK_SIZE=0x40,swipeDirection='',touchDeltaX=0x0,touchDeltaY=0x0,swipeDelay=0x0;var _0x4a197e=class extends Phaser[_0x5b0985(0x28f)]{constructor(){const _0x4b0320=_0x5b0985;super({'key':'Jetris','active':!0x0}),this['container'],this[_0x4b0320(0x20f)]=Array[_0x4b0320(0x277)]({'length':BOARD_HEIGHT},()=>Array[_0x4b0320(0x277)]({'length':BOARD_WIDTH},()=>_0x32e9ec['BOARD'])),this[_0x4b0320(0x276)],this[_0x4b0320(0x28e)],this[_0x4b0320(0x212)],this['center']={'x':WIDTH/0x2,'y':HEIGHT/0x2},this[_0x4b0320(0x218)]=this[_0x4b0320(0x2a8)]['x']*0x2/0x8,this[_0x4b0320(0x291)]=this[_0x4b0320(0x2a8)]['y']*0x2/0x14,this[_0x4b0320(0x257)]=this['deltaX']*2.5/this[_0x4b0320(0x2a8)]['x'],this[_0x4b0320(0x26f)]=this['deltaY']*2.5/this[_0x4b0320(0x2a8)]['y'],this[_0x4b0320(0x292)]=BLOCK_SIZE*this['gameScale'],this['elapsed']=0x0,this['activePiece'],this[_0x4b0320(0x298)],this[_0x4b0320(0x260)],this[_0x4b0320(0x24e)]=!0x1,this[_0x4b0320(0x245)],this[_0x4b0320(0x27d)],this['rockLayer'],this[_0x4b0320(0x1f6)],this['rowClearParticles'],this[_0x4b0320(0x229)];}['preload'](){const _0x1025ee=_0x5b0985;this[_0x1025ee(0x211)]['image'](_0x1025ee(0x1ee),[_0x1025ee(0x1fa),_0x1025ee(0x217)]),this[_0x1025ee(0x211)][_0x1025ee(0x2a2)](_0x1025ee(0x20a),_0x1025ee(0x223),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this[_0x1025ee(0x211)]['spritesheet']('blocks','assets/Sprites/tetris.png',{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this['load'][_0x1025ee(0x272)](_0x1025ee(0x1fe),_0x1025ee(0x2a5),_0x1025ee(0x29f)),this[_0x1025ee(0x211)][_0x1025ee(0x206)](_0x1025ee(0x221),'assets/particles/trail.png'),this[_0x1025ee(0x211)][_0x1025ee(0x206)](_0x1025ee(0x1f7),'assets/particles/streak.png'),this['load']['image'](_0x1025ee(0x228),'assets/particles/star.png'),this[_0x1025ee(0x211)]['image']('bg',_0x1025ee(0x28a));}[_0x5b0985(0x275)](){const _0x1d2a7e=_0x5b0985;let _0x273488=Array[_0x1d2a7e(0x277)]({'length':0x9},()=>Array['from']({'length':0x4},()=>_0x32e9ec['BOARD']));for(let _0x4d02f4=0x0;_0x4d02f4<0x9;_0x4d02f4++)for(let _0x69a95d=0x0;_0x69a95d<0x4;_0x69a95d++)_0x69a95d%0x2===0x0?_0x273488[_0x4d02f4][_0x69a95d]=_0x32e9ec[_0x1d2a7e(0x290)]:_0x273488[_0x4d02f4][_0x69a95d]=null;this['queueMap']=this[_0x1d2a7e(0x241)][_0x1d2a7e(0x20b)]({'key':_0x1d2a7e(0x1ec),'data':_0x273488,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x1d2a7e(0x21a)]=this['queueMap'][_0x1d2a7e(0x234)](_0x1d2a7e(0x248),_0x1d2a7e(0x1ee),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x1d2a7e(0x268)]=this[_0x1d2a7e(0x28e)][_0x1d2a7e(0x295)](_0x1d2a7e(0x297),this[_0x1d2a7e(0x21a)],this[_0x1d2a7e(0x2a8)]['x']+(BOARD_WIDTH+0x2)/0x2*BLOCK_SIZE*this[_0x1d2a7e(0x257)],0x3*BLOCK_SIZE*this[_0x1d2a7e(0x257)])[_0x1d2a7e(0x205)](this['gameScale']*0.75),this['queueLayer'][_0x1d2a7e(0x265)](_0x1d2a7e(0x294)),this[_0x1d2a7e(0x28e)][_0x1d2a7e(0x1f3)](_0x32e9ec[_0x1d2a7e(0x290)],0x0,0x0,0x4,0x9,!0x0);for(let _0x13fc46=0x0;_0x13fc46<0x4;_0x13fc46++)for(let _0x23a7bb=0x0;_0x23a7bb<0x9;_0x23a7bb++)_0x23a7bb%0x3===0x2&&this['queueMap'][_0x1d2a7e(0x201)](_0x13fc46,_0x23a7bb,!0x0,!0x1,_0x1d2a7e(0x297));}[_0x5b0985(0x286)](){const _0x5977d7=_0x5b0985;let _0x1db757=Array[_0x5977d7(0x277)]({'length':0x2},()=>Array[_0x5977d7(0x277)]({'length':0x4},()=>_0x32e9ec['BOARD']));this['holdMap']=this[_0x5977d7(0x241)]['tilemap']({'key':'queue_tiles','data':_0x1db757,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x5977d7(0x237)]=this[_0x5977d7(0x212)][_0x5977d7(0x234)](_0x5977d7(0x248),'block',BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x5977d7(0x214)]=this[_0x5977d7(0x212)][_0x5977d7(0x295)](_0x5977d7(0x224),this[_0x5977d7(0x21a)],this[_0x5977d7(0x2a8)]['x']-(BOARD_WIDTH+0x8)/0x2*BLOCK_SIZE*this[_0x5977d7(0x257)],0x3*BLOCK_SIZE*this[_0x5977d7(0x257)])[_0x5977d7(0x205)](this[_0x5977d7(0x257)]*0.75),this['holdLayer'][_0x5977d7(0x265)](_0x5977d7(0x294)),this[_0x5977d7(0x212)][_0x5977d7(0x1f3)](_0x32e9ec[_0x5977d7(0x290)],0x0,0x0,0x4,0x2,!0x0);}['createGameMap'](){const _0x36ade6=_0x5b0985;this[_0x36ade6(0x276)]=this[_0x36ade6(0x241)][_0x36ade6(0x20b)]({'key':'map_tiles','data':this[_0x36ade6(0x20f)],'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x35e343=this[_0x36ade6(0x276)][_0x36ade6(0x234)](_0x36ade6(0x248),_0x36ade6(0x1ee),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);this[_0x36ade6(0x27d)]=this[_0x36ade6(0x276)][_0x36ade6(0x295)]('GhostLayer',_0x35e343,this['center']['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x36ade6(0x257)],0x3*BLOCK_SIZE*this[_0x36ade6(0x257)])[_0x36ade6(0x205)](this[_0x36ade6(0x257)]),this[_0x36ade6(0x245)]=this[_0x36ade6(0x276)]['createBlankLayer']('GameLayer',_0x35e343,this[_0x36ade6(0x2a8)]['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x36ade6(0x257)],0x3*BLOCK_SIZE*this[_0x36ade6(0x257)])[_0x36ade6(0x205)](this[_0x36ade6(0x257)]),this[_0x36ade6(0x245)][_0x36ade6(0x265)](_0x36ade6(0x294)),this[_0x36ade6(0x276)][_0x36ade6(0x1f3)](_0x32e9ec[_0x36ade6(0x290)]);}[_0x5b0985(0x22b)](){const _0x4790bc=_0x5b0985;this[_0x4790bc(0x20d)]['image'](this[_0x4790bc(0x2a8)]['x'],this[_0x4790bc(0x2a8)]['y'],'bg')[_0x4790bc(0x205)](this[_0x4790bc(0x257)]*1.6),this[_0x4790bc(0x25d)][_0x4790bc(0x230)]()[_0x4790bc(0x2a9)](0xeeeeee);let _0x495e72=this[_0x4790bc(0x25d)][_0x4790bc(0x1f5)](WIDTH,-HEIGHT,HEIGHT*0x3,0xffffff,0x4);this[_0x4790bc(0x275)](),this[_0x4790bc(0x286)](),this[_0x4790bc(0x23c)]();}['checkFractions'](_0x309ac1,_0xba562e){const _0x3d7f3c=_0x5b0985;return _0x309ac1%0x1!==0x0||_0xba562e%0x1!==0x0?(DEBUG&&console[_0x3d7f3c(0x236)](_0x3d7f3c(0x2ad),_0x309ac1,_0xba562e),!0x0):!0x1;}[_0x5b0985(0x256)](_0xc39933,_0x4a3176,_0x2d6fe2){const _0x47c0ca=_0x5b0985;this[_0x47c0ca(0x299)](_0xc39933,_0x4a3176)||(this[_0x47c0ca(0x276)][_0x47c0ca(0x25b)](_0x2d6fe2,_0xc39933,BOARD_HEIGHT-_0x4a3176,!0x1,_0x2d6fe2===_0x32e9ec[_0x47c0ca(0x24c)]?_0x47c0ca(0x1f1):_0x47c0ca(0x21c)),_0x2d6fe2===_0x32e9ec[_0x47c0ca(0x290)]&&this[_0x47c0ca(0x276)][_0x47c0ca(0x201)](_0xc39933,BOARD_HEIGHT-_0x4a3176,!0x0,!0x1,'GhostLayer'));}[_0x5b0985(0x1ff)](_0x8d3429,_0x432977){const _0x24c04f=_0x5b0985;return this[_0x24c04f(0x299)](_0x8d3429,_0x432977)?null:this[_0x24c04f(0x276)][_0x24c04f(0x23b)](_0x8d3429,BOARD_HEIGHT-_0x432977,!0x1,this[_0x24c04f(0x245)]);}[_0x5b0985(0x258)](_0x394931){const _0x4dae37=_0x5b0985;let _0x1caa22=_0x394931['getData'](_0x4dae37(0x29c)),_0x3c80ae=_0x394931[_0x4dae37(0x231)]('x'),_0x3d6015=_0x394931['getData']('y');if(this[_0x4dae37(0x299)](_0x3c80ae,_0x3d6015)){DEBUG&&console[_0x4dae37(0x236)](_0x4dae37(0x2b8),_0x394931);return;}for(let _0x1cc480=0x0;_0x1cc480<_0x1caa22['length'];_0x1cc480++)for(let _0x505f37=0x0;_0x505f37<_0x1caa22[_0x1cc480][_0x4dae37(0x220)]-0x1;_0x505f37++){if(this[_0x4dae37(0x299)](_0x1caa22[_0x1cc480][_0x505f37],_0x1caa22[_0x1cc480][_0x505f37+0x1])){DEBUG&&console[_0x4dae37(0x236)](_0x4dae37(0x288),tetrommino);return;}let _0x45bb17=this['getTile'](_0x3c80ae+_0x1caa22[_0x1cc480][_0x505f37],_0x3d6015+_0x1caa22[_0x1cc480][_0x505f37+0x1]);if(_0x45bb17&&_0x45bb17[_0x4dae37(0x23f)]===_0x32e9ec['BOARD'])this[_0x4dae37(0x256)](_0x3c80ae+_0x1caa22[_0x1cc480][_0x505f37],_0x3d6015+_0x1caa22[_0x1cc480][_0x505f37+0x1],_0x394931[_0x4dae37(0x231)](_0x4dae37(0x1ed)));else{this[_0x4dae37(0x24e)]=!0x0;return;}}}['clearHold'](){const _0x1533af=_0x5b0985;this[_0x1533af(0x212)][_0x1533af(0x1f3)](_0x32e9ec[_0x1533af(0x290)],0x0,0x0,0x4,0x2,!0x0),_0x4eb115();}[_0x5b0985(0x289)](_0x4a3cab){const _0x56a975=_0x5b0985;let _0x108b07=_0x4a3cab[_0x56a975(0x231)](_0x56a975(0x29c)),_0x254ea8=_0x4a3cab[_0x56a975(0x231)]('x'),_0xca565c=_0x4a3cab[_0x56a975(0x231)]('y');if(!this[_0x56a975(0x299)](_0x254ea8,_0xca565c)){for(let _0x545602=0x0;_0x545602<_0x108b07[_0x56a975(0x220)];_0x545602++)for(let _0xe8300=0x0;_0xe8300<_0x108b07[_0x545602][_0x56a975(0x220)]-0x1;_0xe8300++){if(this['checkFractions'](_0x108b07[_0x545602][_0xe8300],_0x108b07[_0x545602][_0xe8300+0x1]))return;this[_0x56a975(0x256)](_0x254ea8+_0x108b07[_0x545602][_0xe8300],_0xca565c+_0x108b07[_0x545602][_0xe8300+0x1],_0x32e9ec[_0x56a975(0x290)]);}}}[_0x5b0985(0x2b1)](){const _0x1bde16=_0x5b0985;let _0x42d689=this[_0x1bde16(0x20d)][_0x1bde16(0x206)](WIDTH-0x10,0x10,_0x1bde16(0x20a),0x0)[_0x1bde16(0x267)](0x1,0x0)[_0x1bde16(0x205)](0.25)['setInteractive']();_0x42d689['on'](_0x1bde16(0x219),function(){const _0x294090=_0x1bde16;this[_0x294090(0x22e)][_0x294090(0x21d)]?(_0x42d689[_0x294090(0x1f4)](0x0),this[_0x294090(0x22e)][_0x294090(0x2a6)]()):(_0x42d689['setFrame'](0x1),this[_0x294090(0x22e)][_0x294090(0x2ba)]());},this);}[_0x5b0985(0x232)](_0x259f63){const _0x265125=_0x5b0985;this[_0x265125(0x2af)]&&(this[_0x265125(0x289)](this[_0x265125(0x2af)]),_0x446d17(this['graphics'],this[_0x265125(0x276)],this[_0x265125(0x257)],this[_0x265125(0x2af)],_0x259f63),this[_0x265125(0x200)](),this[_0x265125(0x258)](this[_0x265125(0x2af)]));}[_0x5b0985(0x278)](){const _0x2482a9=_0x5b0985;let _0x57e07a=this[_0x2482a9(0x2af)][_0x2482a9(0x231)]('type');this[_0x2482a9(0x289)](this[_0x2482a9(0x2af)]);let _0x4f0477=_0x33e97f(this);if(_0x4f0477===this[_0x2482a9(0x2af)]){let _0x2e2a93=this[_0x2482a9(0x282)](this[_0x2482a9(0x2af)]);this['graphics']['lineStyle'](0x4,0xff0000,0x1),this[_0x2482a9(0x260)][_0x2482a9(0x27a)](_0x2e2a93),this[_0x2482a9(0x244)]['add']({'targets':this['graphics'],'alpha':0x0,'duration':0x1f4,'ease':'Linear','onComplete':()=>{const _0x320a9e=_0x2482a9;this[_0x320a9e(0x260)][_0x320a9e(0x23d)](),this[_0x320a9e(0x260)][_0x320a9e(0x2a1)]=0x1;}});}else this[_0x2482a9(0x2af)]=_0x4f0477,this[_0x2482a9(0x280)](),this['drawHold']();this[_0x2482a9(0x200)](),this[_0x2482a9(0x258)](this[_0x2482a9(0x2af)]);}['rotateActivePiece'](_0x48342c){const _0x21bc51=_0x5b0985;this['clearTetromino'](this[_0x21bc51(0x2af)]),_0x3cd7f9(this[_0x21bc51(0x260)],this[_0x21bc51(0x276)],this[_0x21bc51(0x257)],this[_0x21bc51(0x2af)],_0x48342c),this['updateGhost'](),this[_0x21bc51(0x258)](this[_0x21bc51(0x2af)]);}[_0x5b0985(0x243)](_0x41e78f){const _0xe0c40f=_0x5b0985;_0x55a3d8();let _0x1e3023=new Set(),_0x2b7dbe=_0x41e78f[_0xe0c40f(0x231)](_0xe0c40f(0x29c)),_0x3be6d1=_0x41e78f['getData']('x'),_0x338951=_0x41e78f[_0xe0c40f(0x231)]('y');if(!this[_0xe0c40f(0x299)](_0x3be6d1,_0x338951)){for(let _0x1382ea=0x0;_0x1382ea<_0x2b7dbe[_0xe0c40f(0x220)];_0x1382ea++)for(let _0x61e936=0x0;_0x61e936<_0x2b7dbe[_0x1382ea]['length']-0x1;_0x61e936++){if(this[_0xe0c40f(0x299)](_0x2b7dbe[_0x1382ea][_0x61e936],_0x2b7dbe[_0x1382ea][_0x61e936+0x1]))return;_0x1e3023['add'](_0x338951+_0x2b7dbe[_0x1382ea][_0x61e936+0x1]);}_0x1e3023=Array[_0xe0c40f(0x277)](_0x1e3023)[_0xe0c40f(0x226)]((_0x1e4352,_0x1550fd)=>_0x1550fd-_0x1e4352);for(let _0x16eddf=0x0;_0x16eddf<_0x1e3023[_0xe0c40f(0x220)];_0x16eddf++){let _0x192740=_0x1e3023[_0x16eddf],_0x3b476b=!0x0;for(let _0x496c7f=0x0;_0x496c7f<BOARD_WIDTH;_0x496c7f++){let _0x160921=this[_0xe0c40f(0x1ff)](_0x496c7f,_0x192740);if(!_0x160921||_0x160921['index']===_0x32e9ec[_0xe0c40f(0x290)]){_0x3b476b=!0x1;break;}}if(_0x3b476b){for(let _0x3378de=0x0;_0x3378de<BOARD_WIDTH;_0x3378de++)this[_0xe0c40f(0x256)](_0x3378de,_0x192740,_0x32e9ec[_0xe0c40f(0x290)]);for(let _0x36997e=_0x192740+0x1;_0x36997e<BOARD_HEIGHT;_0x36997e++)for(let _0xca653b=0x0;_0xca653b<BOARD_WIDTH;_0xca653b++){let _0x37261d=this[_0xe0c40f(0x1ff)](_0xca653b,_0x36997e);_0x37261d&&_0x37261d[_0xe0c40f(0x23f)]!==_0x32e9ec[_0xe0c40f(0x290)]&&(this[_0xe0c40f(0x256)](_0xca653b,_0x36997e-0x1,_0x37261d[_0xe0c40f(0x23f)]),this[_0xe0c40f(0x256)](_0xca653b,_0x36997e,_0x32e9ec[_0xe0c40f(0x290)]));}this[_0xe0c40f(0x24f)](_0x192740-0x1);}}}}[_0x5b0985(0x282)](_0x1c13e8){const _0x114638=_0x5b0985;let _0x5c7260=_0x1c13e8['getData']('cells'),_0x4536e4=_0x1c13e8[_0x114638(0x231)]('x'),_0x35f553=_0x1c13e8[_0x114638(0x231)]('y');if(this[_0x114638(0x299)](_0x4536e4,_0x35f553))return;let _0x1db880=BOARD_WIDTH,_0x255a9d=0x0,_0x5557d7=BOARD_HEIGHT,_0x7b6e7c=0x0;for(let _0x36673a=0x0;_0x36673a<_0x5c7260[_0x114638(0x220)];_0x36673a++)for(let _0x2b822f=0x0;_0x2b822f<_0x5c7260[_0x36673a]['length']-0x1;_0x2b822f++){if(this[_0x114638(0x299)](_0x5c7260[_0x36673a][_0x2b822f],_0x5c7260[_0x36673a][_0x2b822f+0x1]))return;_0x1db880=Math[_0x114638(0x28b)](_0x1db880,_0x4536e4+_0x5c7260[_0x36673a][_0x2b822f]),_0x255a9d=Math[_0x114638(0x1ef)](_0x255a9d,_0x4536e4+_0x5c7260[_0x36673a][_0x2b822f]),_0x5557d7=Math['min'](_0x5557d7,_0x35f553+_0x5c7260[_0x36673a][_0x2b822f+0x1]),_0x7b6e7c=Math['max'](_0x7b6e7c,_0x35f553+_0x5c7260[_0x36673a][_0x2b822f+0x1]);}return new Phaser[(_0x114638(0x285))][(_0x114638(0x21e))](this[_0x114638(0x276)][_0x114638(0x209)](_0x1db880),this[_0x114638(0x276)][_0x114638(0x210)](0x13-_0x7b6e7c)+BLOCK_SIZE*this['gameScale'],this[_0x114638(0x276)]['tileToWorldX'](_0x255a9d)-this[_0x114638(0x276)][_0x114638(0x209)](_0x1db880)+BLOCK_SIZE*this[_0x114638(0x257)],this[_0x114638(0x276)][_0x114638(0x210)](0x13-_0x5557d7)-this['map'][_0x114638(0x210)](0x13-_0x7b6e7c)+BLOCK_SIZE*this[_0x114638(0x257)]);}[_0x5b0985(0x2b0)](){const _0x5e69d6=_0x5b0985;let _0x28d8d6=this[_0x5e69d6(0x282)](this[_0x5e69d6(0x2af)]),_0x41e0c0=this['getBoundingBox'](this[_0x5e69d6(0x298)]),_0x5490be=this[_0x5e69d6(0x20d)][_0x5e69d6(0x206)](_0x28d8d6[_0x5e69d6(0x279)],_0x28d8d6[_0x5e69d6(0x29d)],_0x5e69d6(0x221));_0x5490be[_0x5e69d6(0x267)](0.5,0x0),_0x5490be['setTint'](this[_0x5e69d6(0x2af)][_0x5e69d6(0x231)](_0x5e69d6(0x26b))),_0x5490be[_0x5e69d6(0x262)]=_0x28d8d6[_0x5e69d6(0x1eb)],_0x5490be['displayHeight']=_0x41e0c0['y']-_0x28d8d6['y'],_0x5490be[_0x5e69d6(0x202)]=-0x1,this['tweens'][_0x5e69d6(0x20d)]({'targets':_0x5490be,'displayHeight':0x0,'y':_0x41e0c0['y'],'alpha':0x0,'duration':0xc8,'ease':_0x5e69d6(0x254),'onComplete':()=>{const _0x45f207=_0x5e69d6;_0x5490be[_0x45f207(0x204)]();}});let _0x15353d=this[_0x5e69d6(0x20d)][_0x5e69d6(0x2b2)](_0x41e0c0[_0x5e69d6(0x279)],_0x41e0c0['y'],_0x5e69d6(0x228),{'speed':{'min':0x190,'max':0x3e8},'angle':{'min':-0x69,'max':-0x4b},'scale':{'start':0.1,'end':0x0},'alpha':{'start':0.4,'end':0x0},'quantity':0x5,'lifespan':0x1f4,'blendMode':_0x5e69d6(0x252),'gravityY':0x64,'on':!0x1,'onComplete':()=>{_0x15353d['destroy']();}});_0x15353d[_0x5e69d6(0x20e)](),this['graphics']['lineStyle'](0x4,0xff00,0x1),this[_0x5e69d6(0x260)][_0x5e69d6(0x27a)](_0x28d8d6),this[_0x5e69d6(0x244)][_0x5e69d6(0x20d)]({'targets':this['graphics'],'alpha':0x0,'duration':0x190,'ease':_0x5e69d6(0x254),'onComplete':()=>{const _0x138f7f=_0x5e69d6;this['graphics']['clear'](),this[_0x138f7f(0x260)][_0x138f7f(0x2a1)]=0x1;}}),this[_0x5e69d6(0x26c)][_0x5e69d6(0x29e)]['shake'](0x64,0.0025-0.0005*(this['ghostPiece']['getData']('y')-this[_0x5e69d6(0x2af)][_0x5e69d6(0x231)]('y')));}[_0x5b0985(0x227)](){const _0x3dbea1=_0x5b0985;if(!this[_0x3dbea1(0x24e)]){for(this[_0x3dbea1(0x2b0)](),this[_0x3dbea1(0x289)](this[_0x3dbea1(0x2af)]),this[_0x3dbea1(0x289)](this[_0x3dbea1(0x298)]);_0x446d17(this[_0x3dbea1(0x260)],this[_0x3dbea1(0x276)],this[_0x3dbea1(0x257)],this[_0x3dbea1(0x2af)],[0x0,0x1]););this['setTetromino'](this[_0x3dbea1(0x2af)]),this[_0x3dbea1(0x243)](this[_0x3dbea1(0x2af)]),this[_0x3dbea1(0x28c)](),this[_0x3dbea1(0x258)](this[_0x3dbea1(0x2af)]),this[_0x3dbea1(0x247)]=0x0;}}[_0x5b0985(0x24f)](_0x1d2bcb){const _0x1f2f8f=_0x5b0985;let _0x33da38=this[_0x1f2f8f(0x20d)][_0x1f2f8f(0x2b2)](this['center']['x']*this['gameScale'],0x0,_0x1f2f8f(0x1fe),{'frame':{'frames':[_0x1f2f8f(0x2b9),'green',_0x1f2f8f(0x27e),_0x1f2f8f(0x2b6),_0x1f2f8f(0x20c)],'cycle':!0x0},'blendMode':'ADD','lifespan':0x96,'quantity':0x1,'manualEmit':!0x0,'frequency':0x5,'alpha':{'start':0x1,'end':0x0},'scale':{'start':0.4,'end':0.1},'onComplete':()=>{_0x33da38['destroy']();}});_0x33da38[_0x1f2f8f(0x284)](),_0x33da38[_0x1f2f8f(0x24d)]({'type':_0x1f2f8f(0x2a3),'source':new Phaser['Geom']['Line'](this[_0x1f2f8f(0x276)][_0x1f2f8f(0x209)](-5.75),this[_0x1f2f8f(0x276)][_0x1f2f8f(0x210)](19.5-_0x1d2bcb),this['map'][_0x1f2f8f(0x209)](4.25),this[_0x1f2f8f(0x276)][_0x1f2f8f(0x210)](19.5-_0x1d2bcb)),'quantity':0xa,'total':0x1}),_0x33da38[_0x1f2f8f(0x21f)](0x32,0x32);}['create'](){const _0x3c7160=_0x5b0985;this[_0x3c7160(0x22b)](),this[_0x3c7160(0x2b1)](),_0x43ad68(this),_0x4a009d(this),this[_0x3c7160(0x28c)](),this[_0x3c7160(0x260)]=this[_0x3c7160(0x20d)]['graphics'](),this[_0x3c7160(0x258)](this['activePiece']),console['log'](window[_0x3c7160(0x238)],window['innerHeight'],window['devicePixelRatio']);}[_0x5b0985(0x280)](){const _0x8ba786=_0x5b0985;let _0x4b9b79=_0x2084ba();this[_0x8ba786(0x28e)]['fill'](_0x32e9ec[_0x8ba786(0x290)],0x0,0x0,0x4,0x9,!0x0);for(let _0x1b3050=0x0;_0x1b3050<_0x4b9b79[_0x8ba786(0x220)];_0x1b3050++){let _0x5211a=_0x4b9b79[_0x1b3050],_0x8388d0=_0x5211a[_0x8ba786(0x231)](_0x8ba786(0x29c)),_0xad2279=_0x5211a[_0x8ba786(0x231)](_0x8ba786(0x1ed));for(let _0x2c6c18=0x0;_0x2c6c18<_0x8388d0['length'];_0x2c6c18++)for(let _0x32dbba=0x0;_0x32dbba<_0x8388d0[_0x2c6c18][_0x8ba786(0x220)]-0x1;_0x32dbba++)this[_0x8ba786(0x28e)]['putTileAt'](_0xad2279,0x1+_0x8388d0[_0x2c6c18][_0x32dbba],0x6-_0x1b3050*0x3-_0x8388d0[_0x2c6c18][_0x32dbba+0x1]+0x1,!0x1,_0x8ba786(0x297));}}[_0x5b0985(0x264)](){const _0x34e7ee=_0x5b0985;let _0x1e2931=_0x520c47(),_0x4da012=_0x1e2931[_0x34e7ee(0x231)]('cells'),_0x126a22=_0x1e2931[_0x34e7ee(0x231)](_0x34e7ee(0x1ed));this[_0x34e7ee(0x212)][_0x34e7ee(0x1f3)](_0x32e9ec[_0x34e7ee(0x290)],0x0,0x0,0x4,0x2,!0x0);for(let _0x2264a6=0x0;_0x2264a6<_0x4da012[_0x34e7ee(0x220)];_0x2264a6++)for(let _0x2990db=0x0;_0x2990db<_0x4da012[_0x2264a6][_0x34e7ee(0x220)]-0x1;_0x2990db++)this[_0x34e7ee(0x212)]['putTileAt'](_0x126a22,0x1+_0x4da012[_0x2264a6][_0x2990db],0x1-_0x4da012[_0x2264a6][_0x2990db+0x1],!0x1,_0x34e7ee(0x224));}['spawn'](){const _0x501557=_0x5b0985;for(this[_0x501557(0x2af)]&&this['activePiece'][_0x501557(0x204)](),this[_0x501557(0x298)]&&this[_0x501557(0x298)][_0x501557(0x204)](),this['activePiece']=_0x2c2842(this,0x4,0x13,this['gameScale']),this['ghostPiece']=_0x1b4ac4(this,this['activePiece'],this[_0x501557(0x257)]);_0x446d17(this['graphics'],this[_0x501557(0x276)],this[_0x501557(0x257)],this[_0x501557(0x298)],[0x0,0x1]););this[_0x501557(0x258)](this[_0x501557(0x298)]),this[_0x501557(0x280)]();}['updateGhost'](){const _0x9ba3ad=_0x5b0985;for(this['clearTetromino'](this[_0x9ba3ad(0x298)]),this[_0x9ba3ad(0x298)][_0x9ba3ad(0x24b)]('x',this[_0x9ba3ad(0x2af)]['getData']('x')),this[_0x9ba3ad(0x298)][_0x9ba3ad(0x24b)]('y',this[_0x9ba3ad(0x2af)][_0x9ba3ad(0x231)]('y')),this[_0x9ba3ad(0x298)]['x']=this[_0x9ba3ad(0x276)]['tileToWorldX'](this['activePiece'][_0x9ba3ad(0x231)]('x')),this['ghostPiece']['y']=this[_0x9ba3ad(0x276)][_0x9ba3ad(0x210)](0x13-this[_0x9ba3ad(0x2af)][_0x9ba3ad(0x231)]('y')),this[_0x9ba3ad(0x298)][_0x9ba3ad(0x24b)](_0x9ba3ad(0x29c),_0x22c611(this['activePiece'][_0x9ba3ad(0x231)](_0x9ba3ad(0x29c)))),this[_0x9ba3ad(0x298)][_0x9ba3ad(0x24b)](_0x9ba3ad(0x27f),this[_0x9ba3ad(0x2af)][_0x9ba3ad(0x231)](_0x9ba3ad(0x27f)));_0x446d17(this[_0x9ba3ad(0x260)],this[_0x9ba3ad(0x276)],this[_0x9ba3ad(0x257)],this[_0x9ba3ad(0x298)],[0x0,0x1]););this[_0x9ba3ad(0x258)](this[_0x9ba3ad(0x298)]);}[_0x5b0985(0x2ae)](_0x3ae659,_0x19366d){const _0x31156e=_0x5b0985;this[_0x31156e(0x24e)]||(_0x45147c(this),this[_0x31156e(0x247)]+=_0x19366d,this['elapsed']>0x3e8&&(this['elapsed']=0x0),this[_0x31156e(0x247)]===0x0&&this[_0x31156e(0x2af)]&&!DEBUG&&(this[_0x31156e(0x289)](this[_0x31156e(0x2af)]),_0x446d17(this[_0x31156e(0x260)],this[_0x31156e(0x276)],this['gameScale'],this[_0x31156e(0x2af)],[0x0,0x1])||(this['setTetromino'](this[_0x31156e(0x2af)]),this[_0x31156e(0x243)](this[_0x31156e(0x2af)]),this[_0x31156e(0x28c)]()),this['setTetromino'](this['activePiece'])));}},_0xecf220={'type':Phaser[_0x5b0985(0x2aa)],'scale':{'mode':Phaser[_0x5b0985(0x2b4)][_0x5b0985(0x261)],'parent':_0x5b0985(0x21b),'autoCenter':Phaser[_0x5b0985(0x2b4)]['CENTER_BOTH'],'width':WIDTH,'height':HEIGHT},'width':WIDTH,'height':HEIGHT,'backgroundColor':_0x5b0985(0x25a),'scene':[_0x4a197e]},_0x1bb76d=new Phaser[(_0x5b0985(0x242))](_0xecf220);})()));function _0x2424(){const _0x405ef5=['flares','getTile','updateGhost','removeTileAt','depth','CYAN','destroy','setScale','image','Testing\x20move:\x20','down','tileToWorldX','fullscreen','tilemap','purple','add','explode','level','tileToWorldY','load','holdMap','Queue:\x20','holdLayer','round','Bug:\x20','assets/Sprites/tetris_n.png','deltaX','pointerup','queueTiles','jetris','GameLayer','isFullscreen','Rectangle','start','length','trail','wallKicks','assets/ui/fullscreen.png','HoldLayer','isPaused','sort','drop','star','particleEmitter','clearHold','createTileMaps','keydown-RIGHT','right','scale','112110rLVDOy','enable','getData','moveActivePiece','sin','addTilesetImage','JLOSTZ','log','holdTiles','innerWidth','1569018IsDxvc','resume','getTileAt','createGameMap','clear','keys','index','random','make','Game','lockTetromino','tweens','layer','activePointer','elapsed','tiles','rotation','404CatwaH','setData','GHOST','addEmitZone','gameOver','showRowClearFX','51788QfIrTP','container','ADD','isDown','Linear','10nXKscE','setTile','gameScale','setTetromino','keydown-LEFT','rgb(3,\x2023,\x2054)','putTileAt','keyboard','lights','cos','keydown-ESC','graphics','FIT','displayWidth','left','drawHold','setPipeline','slice','setOrigin','queueLayer','Tetromino\x20bag:\x20','rotateActivePiece','color','cameras','scene','keydown-ENTER','gameScaleY','toFixed','type','atlas','addPointer','ceil','createQueueMap','map','from','hold','centerX','strokeRectShape','1767262ajhipy','floor','ghostLayer','pink','rotationIndex','drawQueue','GREEN','getBoundingBox','assign','stop','Geom','createHoldMap','55512dDHqgd','Move\x20Data!!','clearTetromino','assets/images/bg.png','min','spawn','keydown-Q','queueMap','Scene','BOARD','deltaY','adjustedBlockSize','stringify','Light2D','createBlankLayer','Created\x20tetromino:\x20','QueueLayer','ghostPiece','checkFractions','Tile\x20occupied','input','cells','centerY','main','assets/particles/blocks.json','150IBoQIU','alpha','spritesheet','edge','696oNXwnQ','assets/particles/blocks.png','stopFullscreen','Wall\x20kicks\x20being\x20evaluated:\x20','center','setAmbientColor','WEBGL','40veSAps','88CmoFvH','bug:\x20','update','activePiece','drawDropAnimation','addFullScreenToggle','particles','11539PdfYiW','Scale','keydown-P','yellow','pause','SetTetromino:\x20','blue','startFullscreen','Spawned\x20tetromino:\x20','width','queue_tiles','tile','block','max','Wall\x20kick\x20success','GhostLayer','Wall\x20kick\x20failure','fill','setFrame','addLight','waterLayer','streak','parse','YELLOW','assets/Sprites/tetris.png','keydown-SPACE','keydown-UP','lineStyle'];_0x2424=function(){return _0x405ef5;};return _0x2424();}