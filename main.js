function _0x3bc5(_0x2e1ac6,_0x4a9a4c){const _0x15b4eb=_0x15b4();return _0x3bc5=function(_0x3bc5ad,_0xe0923f){_0x3bc5ad=_0x3bc5ad-0xa1;let _0x117b5b=_0x15b4eb[_0x3bc5ad];return _0x117b5b;},_0x3bc5(_0x2e1ac6,_0x4a9a4c);}(function(_0x41a5ac,_0x286ee9){const _0x3694f3=_0x3bc5,_0x51efa0=_0x41a5ac();while(!![]){try{const _0x4b1bc0=-parseInt(_0x3694f3(0x104))/0x1+parseInt(_0x3694f3(0x103))/0x2+-parseInt(_0x3694f3(0x15e))/0x3+-parseInt(_0x3694f3(0xb6))/0x4*(parseInt(_0x3694f3(0x16c))/0x5)+parseInt(_0x3694f3(0xb3))/0x6*(-parseInt(_0x3694f3(0x14f))/0x7)+-parseInt(_0x3694f3(0xd3))/0x8+parseInt(_0x3694f3(0x116))/0x9;if(_0x4b1bc0===_0x286ee9)break;else _0x51efa0['push'](_0x51efa0['shift']());}catch(_0x17d4d9){_0x51efa0['push'](_0x51efa0['shift']());}}}(_0x15b4,0x3c846),((()=>{const _0x34b641=_0x3bc5;var _0x3318ee=Tiles={'BLUE':0x0,'CYAN':0x1,'ORANGE':0x2,'YELLOW':0x3,'GREEN':0x4,'RED':0x5,'PURPLE':0x6,'BOARD':0x7,'BORDER_BOTTOM':0x8,'BORDER_LEFT':0x9,'BORDER_TOP':0xa,'BORDER_RIGHT':0xb,'GHOST':0xc,'HELPER':0xd,'EMPTY':0xe,'EMPTY2':0xf,'BORDER_CORNER_BOTTOM_LEFT':0x10,'BORDER_CORNER_TOP_LEFT':0x11,'BORDER_CORNER_TOP_RIGHT':0x12,'BORDER_CORNER_BOTTOM_RIGHT':0x13};cos=Math['cos'](Math['PI']/0x2),sin=Math[_0x34b641(0xe8)](Math['PI']/0x2),RotationMatrix=[cos,sin,-sin,cos],TetrominoBag=[],TetrominoQueue=[],heldPiece=null,hasSwapped=!0x1;var _0x18e4fb={'L':'L','I':'I','J':'J','O':'O','S':'S','T':'T','Z':'Z'},_0x2d90a3=()=>{const _0x14bcac=_0x34b641;if(TetrominoBag[_0x14bcac(0x132)]===0x0){let _0x25ae70=Object[_0x14bcac(0xee)](_0x18e4fb);for(let _0x4d0f3e=_0x25ae70[_0x14bcac(0x132)]-0x1;_0x4d0f3e>0x0;_0x4d0f3e--){let _0xc6f9b2=Math[_0x14bcac(0xac)](Math[_0x14bcac(0xc5)]()*(_0x4d0f3e+0x1));[_0x25ae70[_0x4d0f3e],_0x25ae70[_0xc6f9b2]]=[_0x25ae70[_0xc6f9b2],_0x25ae70[_0x4d0f3e]];}TetrominoBag=[..._0x25ae70];}let _0x54ecb3=TetrominoBag[_0x14bcac(0x10c)]();return DEBUG&&console[_0x14bcac(0xa5)]('Tetromino\x20bag:\x20',TetrominoBag),_0x54ecb3;};function _0x14fd73(){const _0x2a9166=_0x34b641;return TetrominoBag[_0x2a9166(0x132)]===0x0&&_0x2d90a3(),[...TetrominoBag['slice'](0x0,0x3)];}var _0x248567={'L':_0x3318ee[_0x34b641(0x160)],'I':_0x3318ee['CYAN'],'J':_0x3318ee[_0x34b641(0xf3)],'O':_0x3318ee[_0x34b641(0xf1)],'S':_0x3318ee[_0x34b641(0x145)],'T':_0x3318ee['PURPLE'],'Z':_0x3318ee[_0x34b641(0xbd)]},_0x3c285e={'I':[[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]]],'JLOSTZ':[[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]]]},_0x2f7e3b={'I':[0x0,0x0],'O':[0x0,0x0],'J':[-0.5,0.5],'L':[-0.5,0.5],'S':[-0.5,0.5],'T':[-0.5,0.5],'Z':[-0.5,0.5]},_0x1fc20f={'L':{'cells':[[0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x3c285e['JLOSTZ'],'color':0xffa500},'I':{'cells':[[-0x1,0x1],[0x0,0x1],[0x1,0x1],[0x2,0x1]],'wallKicks':_0x3c285e['I'],'color':0xffff},'J':{'cells':[[-0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x3c285e['JLOSTZ'],'color':0xff},'O':{'cells':[[0x0,0x0],[0x1,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x3c285e[_0x34b641(0x13f)],'color':0xffff00},'S':{'cells':[[-0x1,0x0],[0x0,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x3c285e['JLOSTZ'],'color':0xff00},'T':{'cells':[[-0x1,0x0],[0x0,0x0],[0x1,0x0],[0x0,0x1]],'wallKicks':_0x3c285e['JLOSTZ'],'color':0x800080},'Z':{'cells':[[-0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x3c285e[_0x34b641(0x13f)],'color':0xff0000}};function _0x4d4000(_0x412eee){const _0xbf309=_0x34b641;return JSON[_0xbf309(0x14a)](JSON[_0xbf309(0xc4)](_0x412eee));}function _0x4cee5b(_0x8d0f9){const _0x437c8f=_0x34b641;let _0x1963cc=_0x14fd73();for(let _0x1b6ec2=0x0;_0x1b6ec2<_0x1963cc[_0x437c8f(0x132)];_0x1b6ec2++)TetrominoQueue[_0x437c8f(0x14c)](_0x2df0fd(_0x8d0f9,_0x1963cc[_0x1b6ec2])),DEBUG&&console[_0x437c8f(0xa5)]('Queue:\x20',TetrominoQueue);}function _0x2df0fd(_0x37ce0b,_0x5bb5a4){const _0x50ee15=_0x34b641;let _0x5828ff=_0x1fc20f[_0x5bb5a4],_0x126b99=_0x37ce0b[_0x50ee15(0x150)][_0x50ee15(0xd1)](0x0,0x0);return _0x126b99[_0x50ee15(0x105)](_0x50ee15(0xf4),_0x4d4000(_0x5828ff[_0x50ee15(0xf4)])),_0x126b99[_0x50ee15(0x105)](_0x50ee15(0x12d),_0x5828ff['color']),_0x126b99[_0x50ee15(0x105)](_0x50ee15(0xf0),_0x5828ff['wallKicks']),_0x126b99[_0x50ee15(0x105)](_0x50ee15(0x140),_0x248567[_0x5bb5a4]),_0x126b99[_0x50ee15(0x105)](_0x50ee15(0x123),_0x5bb5a4),_0x126b99[_0x50ee15(0x105)](_0x50ee15(0xcc),0x0),_0x126b99['setData'](_0x50ee15(0xd9),[0x0,0x0]),_0x126b99[_0x50ee15(0x105)]('x',0x0),_0x126b99[_0x50ee15(0x105)]('y',0x0),DEBUG&&console[_0x50ee15(0xa5)](_0x50ee15(0xfa),_0x126b99),_0x126b99;}function _0x1f2a81(_0x4a158e,_0x5e167e,_0x4ab5dd,_0x1d4d56){const _0x55095b=_0x34b641;let _0x574d3d=TetrominoQueue['pop']()[_0x55095b(0x13d)](_0x1d4d56),_0xf7d8e=_0x574d3d[_0x55095b(0x146)](_0x55095b(0x123));return _0x574d3d['setData']('x',_0x5e167e),_0x574d3d[_0x55095b(0x105)]('y',_0x4ab5dd-(_0xf7d8e===_0x1fc20f['I']?0x1:0x0)),DEBUG&&console[_0x55095b(0xa5)](_0x55095b(0x158),_0x574d3d),TetrominoQueue[_0x55095b(0x14e)](_0x2df0fd(_0x4a158e,_0x2d90a3())),_0x574d3d;}function _0xb6b625(){return TetrominoQueue;}function _0x1fc78b(){return heldPiece;}function _0x346305(_0x3181d3){const _0x43d90c=_0x34b641;if(heldPiece){if(hasSwapped)return _0x3181d3[_0x43d90c(0x13a)];{let _0x26b1dd=_0x2df0fd(_0x3181d3,_0x3181d3[_0x43d90c(0x13a)][_0x43d90c(0x146)]('type')),_0x367ce3=Object[_0x43d90c(0x126)](heldPiece);return _0x367ce3[_0x43d90c(0x105)]('x',_0x3181d3[_0x43d90c(0x13a)]['getData']('x')),_0x367ce3['setData']('y',_0x3181d3[_0x43d90c(0x13a)][_0x43d90c(0x146)]('y')),heldPiece=_0x26b1dd,hasSwapped=!0x0,_0x367ce3;}}else{heldPiece=_0x2df0fd(_0x3181d3,_0x3181d3[_0x43d90c(0x13a)]['getData'](_0x43d90c(0x123)));let _0x5e9f2f=_0x1f2a81(_0x3181d3,0x4,0x13,heldPiece[_0x43d90c(0xbc)]);return hasSwapped=!0x0,_0x5e9f2f;}}function _0x36f711(){hasSwapped=!0x1;}function _0x2f0f19(){hasSwapped=!0x1,heldPiece=null;}function _0x3b4b5c(_0x1ab7ff,_0x225514,_0x5e2e20){const _0x5c83fe=_0x34b641;let _0x1f31c7=_0x225514[_0x5c83fe(0x146)](_0x5c83fe(0x123)),_0x13b72f=_0x1fc20f[_0x1f31c7],_0x3ed615=_0x1ab7ff[_0x5c83fe(0x150)][_0x5c83fe(0xd1)](0x0,0x0)[_0x5c83fe(0x13d)](_0x5e2e20);return _0x3ed615[_0x5c83fe(0x105)](_0x5c83fe(0x140),_0x3318ee[_0x5c83fe(0xe4)]),_0x3ed615[_0x5c83fe(0x105)](_0x5c83fe(0xf4),_0x4d4000(_0x225514[_0x5c83fe(0x146)](_0x5c83fe(0xf4)))),_0x3ed615[_0x5c83fe(0x105)](_0x5c83fe(0x123),_0x225514[_0x5c83fe(0x146)](_0x5c83fe(0x123))),_0x3ed615['setData'](_0x5c83fe(0xcc),_0x225514['getData'](_0x5c83fe(0xcc))),_0x3ed615[_0x5c83fe(0x105)]('rotation',_0x225514[_0x5c83fe(0x146)](_0x5c83fe(0xd9))),_0x3ed615[_0x5c83fe(0x105)]('x',_0x225514[_0x5c83fe(0x146)]('x')),_0x3ed615[_0x5c83fe(0x105)]('y',_0x225514[_0x5c83fe(0x146)]('y')),_0x3ed615[_0x5c83fe(0x105)](_0x5c83fe(0xf0),_0x225514[_0x5c83fe(0x146)](_0x5c83fe(0xf0))),_0x3ed615;}function _0x131374(_0x6ba931,_0x1cb81a,_0x2c95bc){return _0x6ba931<_0x1cb81a?_0x2c95bc-(_0x1cb81a-_0x6ba931)%(_0x2c95bc-_0x1cb81a):_0x1cb81a+(_0x6ba931-_0x1cb81a)%(_0x2c95bc-_0x1cb81a);}function _0x12319d(_0x4f6fe9,_0x384bf7,_0xe54c1e,_0x578eac,_0x598a3a){const _0x34135d=_0x34b641;originalRotation=_0x578eac[_0x34135d(0x146)](_0x34135d(0xcc))||0x0,rotationIndex=_0x131374(originalRotation+_0x598a3a,0x0,0x4),DEBUG&&console[_0x34135d(0xa5)](_0x34135d(0x11b),rotationIndex),_0x406b3c(_0x578eac,_0x598a3a),_0x1f4a15(_0x4f6fe9,_0x384bf7,_0xe54c1e,_0x578eac,rotationIndex,_0x598a3a)||(rotationIndex=originalRotation,_0x406b3c(_0x578eac,-_0x598a3a)),_0x578eac[_0x34135d(0x105)](_0x34135d(0xcc),rotationIndex);}function _0x1f4a15(_0x4708ff,_0x2758d7,_0x4020f4,_0x58951c,_0x5d7ac0,_0x2a9fe7){const _0xc6981a=_0x34b641;for(wallKicks=_0x58951c[_0xc6981a(0x146)](_0xc6981a(0xf0)),wallKickIndex=_0x27880f(_0x5d7ac0,_0x2a9fe7),DEBUG&&console[_0xc6981a(0xa5)](_0xc6981a(0xde),wallKicks[wallKickIndex]),i=0x0;i<0x5;i++)if(translation=wallKicks[wallKickIndex][i],_0x24b368(_0x4708ff,_0x2758d7,_0x4020f4,_0x58951c,translation,!0x0))return DEBUG&&console['log'](_0xc6981a(0x11e)),!0x0;return DEBUG&&console[_0xc6981a(0xa5)](_0xc6981a(0xd5)),!0x1;}function _0x27880f(_0x389e15,_0x15dcf8){return wallKickIndex=_0x389e15*0x2,_0x15dcf8<0x0&&wallKickIndex--,_0x131374(wallKickIndex,0x0,0x8);}function _0x27645f(_0x599e5e,_0x4b5853,_0x2f2302,_0x12687f,_0x2d7dea,_0x13c603){const _0x41b9c8=_0x34b641;let _0x139a1b=_0x12687f['getData'](_0x41b9c8(0xf4)),_0x1ec66a=_0x12687f['getData']('type'),_0x37af97=_0x12687f[_0x41b9c8(0x146)]('x'),_0x2b162f=_0x12687f['getData']('y');DEBUG&&(_0x599e5e[_0x41b9c8(0x15d)](),DEBUG&&console[_0x41b9c8(0xa5)]('Testing\x20move:\x20',_0x2d7dea));for(let _0x2c59cf=0x0;_0x2c59cf<_0x139a1b[_0x41b9c8(0x132)];_0x2c59cf++){let _0x18cc02=_0x37af97+_0x139a1b[_0x2c59cf][0x0]+_0x2d7dea[0x0],_0x18c6be=_0x2b162f+_0x139a1b[_0x2c59cf][0x1]-_0x2d7dea[0x1];if(DEBUG&&(wx=_0x4b5853[_0x41b9c8(0x159)](_0x18cc02),wy=_0x4b5853['tileToWorldY'](0x14-_0x18c6be),_0x599e5e['lineStyle'](0x1,0xff00ff),_0x599e5e[_0x41b9c8(0x164)](new Phaser[(_0x41b9c8(0x168))][(_0x41b9c8(0x113))](wx,wy,0x40*_0x2f2302,0x40*_0x2f2302))),_0x18cc02%0x1!=0x0||_0x18c6be%0x1!=0x0)return DEBUG&&console[_0x41b9c8(0xa5)](_0x41b9c8(0x122),_0x18cc02,_0x18c6be),!0x1;let _0x47467c=_0x4b5853[_0x41b9c8(0x155)](_0x18cc02,0x14-_0x18c6be);if(!_0x47467c||_0x47467c['index']!==_0x3318ee[_0x41b9c8(0xc3)]&&_0x47467c['index']!==_0x3318ee[_0x41b9c8(0xe4)])return DEBUG&&console[_0x41b9c8(0xa5)](_0x41b9c8(0x130)),!0x1;}return!0x0;}function _0x24b368(_0x157872,_0x10d545,_0x3f1ee2,_0x54ea41,_0x29d3e9,_0x3c69a2){const _0x42ef30=_0x34b641;return isValid=_0x27645f(_0x157872,_0x10d545,_0x3f1ee2,_0x54ea41,_0x29d3e9,_0x3c69a2),isValid&&(_0x54ea41[_0x42ef30(0x105)]('x',_0x54ea41[_0x42ef30(0x146)]('x')+_0x29d3e9[0x0]),_0x54ea41[_0x42ef30(0x105)]('y',_0x54ea41[_0x42ef30(0x146)]('y')-_0x29d3e9[0x1]),_0x54ea41['x']=_0x10d545[_0x42ef30(0x159)](_0x54ea41[_0x42ef30(0x146)]('x')),_0x54ea41['y']=_0x10d545['tileToWorldY'](0x13-_0x54ea41[_0x42ef30(0x146)]('y'))),isValid;}function _0x406b3c(_0x313bb0,_0x26d0e5){const _0x37cd66=_0x34b641;let _0x26cb1c=_0x2f7e3b[_0x313bb0[_0x37cd66(0x146)](_0x37cd66(0x123))],_0x1f7d6c=_0x313bb0['getData'](_0x37cd66(0xf4)),_0x1fb8b5=_0x313bb0[_0x37cd66(0x146)]('type'),_0x13da18=RotationMatrix,_0x2a924a=[],_0x247cb7=_0x1fb8b5===_0x18e4fb['O']||_0x1fb8b5===_0x18e4fb['I'];if(_0x247cb7){for(let _0x197c57=0x0;_0x197c57<_0x1f7d6c[_0x37cd66(0x132)];_0x197c57++)_0x1f7d6c[_0x197c57][0x0]-=0.5,_0x1f7d6c[_0x197c57][0x1]-=0.5;}for(let _0x44f0ed=0x0;_0x44f0ed<_0x1f7d6c['length'];_0x44f0ed++){let _0x5b746f=parseFloat((_0x1f7d6c[_0x44f0ed][0x0]*_0x13da18[0x0]*_0x26d0e5+_0x1f7d6c[_0x44f0ed][0x1]*_0x13da18[0x1]*_0x26d0e5)[_0x37cd66(0x151)](0x1)),_0x47f607=parseFloat((_0x1f7d6c[_0x44f0ed][0x0]*_0x13da18[0x2]*_0x26d0e5+_0x1f7d6c[_0x44f0ed][0x1]*_0x13da18[0x3]*_0x26d0e5)[_0x37cd66(0x151)](0x1));_0x2a924a[_0x37cd66(0x14c)]([_0x247cb7?Math['ceil'](_0x5b746f):Math[_0x37cd66(0x101)](_0x5b746f),_0x247cb7?Math[_0x37cd66(0x111)](_0x47f607):Math[_0x37cd66(0x101)](_0x47f607)]);}return _0x313bb0[_0x37cd66(0x105)](_0x37cd66(0xf4),_0x2a924a),tmp=[parseFloat((_0x26cb1c[0x0]*_0x13da18[0x0]*_0x26d0e5+_0x26cb1c[0x1]*_0x13da18[0x1]*_0x26d0e5)[_0x37cd66(0x151)](0x1)),parseFloat((_0x26cb1c[0x0]*_0x13da18[0x2]*_0x26d0e5+_0x26cb1c[0x1]*_0x13da18[0x3]*_0x26d0e5)[_0x37cd66(0x151)](0x1))],_0x313bb0[_0x37cd66(0x105)]('rotation',tmp),_0x2a924a;}function _0x12bdf7(_0x3cefe5){const _0x1a7c54=_0x34b641;_0x3cefe5['input'][_0x1a7c54(0xda)](0x1),_0x3cefe5[_0x1a7c54(0xf8)][_0x1a7c54(0x12e)]['on'](_0x1a7c54(0xc2),()=>{const _0x3b12b5=_0x1a7c54;_0x3cefe5[_0x3b12b5(0xb5)]([-0x1,0x0]);}),_0x3cefe5['input'][_0x1a7c54(0x12e)]['on'](_0x1a7c54(0x106),()=>{const _0x5a3bf0=_0x1a7c54;_0x3cefe5[_0x5a3bf0(0xb5)]([0x1,0x0]);}),_0x3cefe5[_0x1a7c54(0xf8)][_0x1a7c54(0x12e)]['on']('keydown-DOWN',()=>{const _0x4085b7=_0x1a7c54;_0x3cefe5[_0x4085b7(0xb5)]([0x0,0x1]);}),DEBUG&&_0x3cefe5['input'][_0x1a7c54(0x12e)]['on'](_0x1a7c54(0xd8),()=>{const _0x2359d1=_0x1a7c54;_0x3cefe5[_0x2359d1(0xb5)]([0x0,-0x1]);}),_0x3cefe5[_0x1a7c54(0xf8)]['keyboard']['on']('keydown-E',()=>{const _0x516ef8=_0x1a7c54;_0x3cefe5[_0x516ef8(0x142)](0x1);}),_0x3cefe5[_0x1a7c54(0xf8)]['keyboard']['on'](_0x1a7c54(0xe9),()=>{const _0x3b8e23=_0x1a7c54;_0x3cefe5[_0x3b8e23(0x142)](-0x1);}),_0x3cefe5['input'][_0x1a7c54(0x12e)]['on'](_0x1a7c54(0xef),()=>{const _0x5e2179=_0x1a7c54;_0x3cefe5[_0x5e2179(0x13e)]();}),_0x3cefe5[_0x1a7c54(0xf8)][_0x1a7c54(0x12e)]['on'](_0x1a7c54(0xa6),()=>{const _0x25c485=_0x1a7c54;_0x3cefe5[_0x25c485(0xe3)]();}),_0x3cefe5['input']['keyboard']['on'](_0x1a7c54(0x10b),()=>{const _0x4372d4=_0x1a7c54;_0x3cefe5[_0x4372d4(0x154)][_0x4372d4(0xe6)]()?_0x3cefe5['scene'][_0x4372d4(0xfb)]():_0x3cefe5[_0x4372d4(0x154)][_0x4372d4(0x135)]();}),_0x3cefe5[_0x1a7c54(0xf8)][_0x1a7c54(0x12e)]['on']('keydown-ESC',()=>{const _0x3aefb2=_0x1a7c54;_0x3cefe5[_0x3aefb2(0xd2)]['fill'](Tiles[_0x3aefb2(0xc3)]),_0x3cefe5[_0x3aefb2(0xd2)]['fill'](null,0x0,0x0,BOARD_WIDTH,BOARD_HEIGHT,!0x0,_0x3aefb2(0xd0)),_0x3cefe5[_0x3aefb2(0x102)](),_0x3cefe5['gameOver']=!0x1,_0x3cefe5['spawn'](),_0x3cefe5[_0x3aefb2(0xb8)](_0x3cefe5[_0x3aefb2(0x13a)]);});}isClicking=!0x1,dropped=!0x1,clicked=!0x1,dragged=!0x1;function _0x417b75(_0x522090){const _0xcedc81=_0x34b641;_0x522090['input'][_0xcedc81(0xc8)]['isDown']?(clicked=!0x0,Math[_0xcedc81(0xa7)](_0x522090[_0xcedc81(0xf8)]['activePointer']['x']-touchDeltaX)>=0x64?(_0x522090[_0xcedc81(0xf8)][_0xcedc81(0xc8)]['x']<touchDeltaX?swipeDirection=_0xcedc81(0x157):_0x522090['input']['activePointer']['x']>touchDeltaX&&touchDeltaX!=0x0?swipeDirection=_0xcedc81(0x141):(swipeDirection='',touchDeltaX=0x0),touchDeltaX=_0x522090['input']['activePointer']['x'],swipeDirection!=''&&(_0x522090[_0xcedc81(0xb5)]([swipeDirection==_0xcedc81(0x157)?-0x1:0x1,0x0]),dragged=!0x0)):!dropped&&Math[_0xcedc81(0xa7)](_0x522090['input'][_0xcedc81(0xc8)]['y']-touchDeltaY)>=0xc8&&(_0x522090[_0xcedc81(0xf8)]['activePointer']['y']>touchDeltaY&&touchDeltaY!=0x0?swipeDirection='down':(swipeDirection='',touchDeltaY=0x0),touchDeltaY=_0x522090[_0xcedc81(0xf8)][_0xcedc81(0xc8)]['y'],swipeDirection==_0xcedc81(0x134)&&(_0x522090[_0xcedc81(0x13e)](),dropped=!0x0))):(touchDeltaX=0x0,touchDeltaY=0x0,clicked&&!dragged&&!dropped&&(_0x522090[_0xcedc81(0xf8)][_0xcedc81(0xc8)]['x']<_0x522090[_0xcedc81(0x169)]['x']?_0x522090[_0xcedc81(0x142)](-0x1):_0x522090[_0xcedc81(0x142)](0x1)),clicked=!0x1,dropped=!0x1,dragged=!0x1);}WIDTH=0x320,HEIGHT=0x400,DEBUG=!0x1,BOARD_WIDTH=0xa,BOARD_HEIGHT=0x14,BLOCK_SIZE=0x40,swipeDirection='',touchDeltaX=0x0,touchDeltaY=0x0,swipeDelay=0x0;var _0x530d5=class extends Phaser[_0x34b641(0xbb)]{constructor(){const _0x3dcb3a=_0x34b641;super({'key':_0x3dcb3a(0x112),'active':!0x0}),(this['container'],this[_0x3dcb3a(0x12c)]=Array[_0x3dcb3a(0x129)]({'length':BOARD_HEIGHT},()=>Array[_0x3dcb3a(0x129)]({'length':BOARD_WIDTH},()=>_0x3318ee['BOARD'])),this['map'],this['queueMap'],this[_0x3dcb3a(0xbe)],this[_0x3dcb3a(0x169)]={'x':WIDTH/0x2,'y':HEIGHT/0x2},this['deltaX']=this[_0x3dcb3a(0x169)]['x']*0x2/0x8,this[_0x3dcb3a(0x163)]=this['center']['y']*0x2/0x14,this[_0x3dcb3a(0x149)]=this[_0x3dcb3a(0xc9)]*2.5/this[_0x3dcb3a(0x169)]['x'],this[_0x3dcb3a(0x15a)]=this['deltaY']*2.5/this[_0x3dcb3a(0x169)]['y'],this[_0x3dcb3a(0x10f)]=BLOCK_SIZE*this[_0x3dcb3a(0x149)],this[_0x3dcb3a(0xfd)]=0x0,this[_0x3dcb3a(0x13a)],this['ghostPiece'],this[_0x3dcb3a(0x14d)],this[_0x3dcb3a(0xa2)]=!0x1,this[_0x3dcb3a(0x120)],this[_0x3dcb3a(0x11d)],this[_0x3dcb3a(0x121)],this[_0x3dcb3a(0x10d)],this[_0x3dcb3a(0x125)],this['particleEmitter']);}[_0x34b641(0xe0)](){const _0x283578=_0x34b641;this[_0x283578(0xf6)]['image']('block',['assets/Sprites/tetris.png','assets/Sprites/tetris_n.png']),this[_0x283578(0xf6)][_0x283578(0x110)](_0x283578(0xd7),_0x283578(0x12f),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this['load']['spritesheet'](_0x283578(0xdb),_0x283578(0xb4),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this[_0x283578(0xf6)][_0x283578(0xfc)](_0x283578(0x156),_0x283578(0x118),_0x283578(0xae)),this[_0x283578(0xf6)][_0x283578(0xaf)](_0x283578(0xcb),_0x283578(0xf7)),this[_0x283578(0xf6)][_0x283578(0xaf)](_0x283578(0xf2),_0x283578(0x13b)),this[_0x283578(0xf6)][_0x283578(0xaf)](_0x283578(0xe5),_0x283578(0xcf)),this[_0x283578(0xf6)]['image']('bg',_0x283578(0x15f));}['createQueueMap'](){const _0x30eefd=_0x34b641;let _0x2fdf63=Array[_0x30eefd(0x129)]({'length':0x9},()=>Array[_0x30eefd(0x129)]({'length':0x4},()=>_0x3318ee[_0x30eefd(0xc3)]));for(let _0x351568=0x0;_0x351568<0x9;_0x351568++)for(let _0x11b6ff=0x0;_0x11b6ff<0x4;_0x11b6ff++)_0x11b6ff%0x2==0x0?_0x2fdf63[_0x351568][_0x11b6ff]=_0x3318ee[_0x30eefd(0xc3)]:_0x2fdf63[_0x351568][_0x11b6ff]=null;this[_0x30eefd(0x109)]=this['make'][_0x30eefd(0xd4)]({'key':_0x30eefd(0xa4),'data':_0x2fdf63,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x30eefd(0x124)]=this[_0x30eefd(0x109)][_0x30eefd(0x100)](_0x30eefd(0x144),_0x30eefd(0xc0),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this['queueLayer']=this[_0x30eefd(0x109)]['createBlankLayer'](_0x30eefd(0x138),this[_0x30eefd(0x124)],this[_0x30eefd(0x169)]['x']+(BOARD_WIDTH+0x2)/0x2*BLOCK_SIZE*this[_0x30eefd(0x149)],0x3*BLOCK_SIZE*this[_0x30eefd(0x149)])['setScale'](this[_0x30eefd(0x149)]*0.75),this[_0x30eefd(0x11a)][_0x30eefd(0x115)](_0x30eefd(0x139)),this[_0x30eefd(0x109)][_0x30eefd(0x14b)](_0x3318ee[_0x30eefd(0xc3)],0x0,0x0,0x4,0x9,!0x0);for(let _0x62d01d=0x0;_0x62d01d<0x4;_0x62d01d++)for(let _0x4531eb=0x0;_0x4531eb<0x9;_0x4531eb++)_0x4531eb%0x3==0x2&&this['queueMap'][_0x30eefd(0xf9)](_0x62d01d,_0x4531eb,!0x0,!0x1,'QueueLayer');}['createHoldMap'](){const _0x24abcc=_0x34b641;let _0x116121=Array[_0x24abcc(0x129)]({'length':0x2},()=>Array[_0x24abcc(0x129)]({'length':0x4},()=>_0x3318ee[_0x24abcc(0xc3)]));this[_0x24abcc(0xbe)]=this[_0x24abcc(0x107)]['tilemap']({'key':_0x24abcc(0xa4),'data':_0x116121,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this['holdTiles']=this[_0x24abcc(0xbe)][_0x24abcc(0x100)]('tiles',_0x24abcc(0xc0),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x24abcc(0xdd)]=this[_0x24abcc(0xbe)][_0x24abcc(0x128)](_0x24abcc(0x137),this[_0x24abcc(0x124)],this['center']['x']-(BOARD_WIDTH+0x8)/0x2*BLOCK_SIZE*this[_0x24abcc(0x149)],0x3*BLOCK_SIZE*this[_0x24abcc(0x149)])[_0x24abcc(0x13d)](this[_0x24abcc(0x149)]*0.75),this[_0x24abcc(0xdd)][_0x24abcc(0x115)](_0x24abcc(0x139)),this[_0x24abcc(0xbe)][_0x24abcc(0x14b)](_0x3318ee[_0x24abcc(0xc3)],0x0,0x0,0x4,0x2,!0x0);}['createGameMap'](){const _0x4fec35=_0x34b641;this[_0x4fec35(0xd2)]=this[_0x4fec35(0x107)]['tilemap']({'key':'map_tiles','data':this[_0x4fec35(0x12c)],'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x41121f=this[_0x4fec35(0xd2)][_0x4fec35(0x100)](_0x4fec35(0x144),_0x4fec35(0xc0),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);this[_0x4fec35(0x11d)]=this[_0x4fec35(0xd2)][_0x4fec35(0x128)]('GhostLayer',_0x41121f,this['center']['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this['gameScale'],0x3*BLOCK_SIZE*this['gameScale'])['setScale'](this[_0x4fec35(0x149)]),this[_0x4fec35(0x120)]=this[_0x4fec35(0xd2)][_0x4fec35(0x128)]('GameLayer',_0x41121f,this['center']['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x4fec35(0x149)],0x3*BLOCK_SIZE*this[_0x4fec35(0x149)])[_0x4fec35(0x13d)](this['gameScale']),this['layer'][_0x4fec35(0x115)](_0x4fec35(0x139)),this['map']['fill'](_0x3318ee['BOARD']);}['createTileMaps'](){const _0x466839=_0x34b641;this[_0x466839(0x150)][_0x466839(0xaf)](this[_0x466839(0x169)]['x'],this['center']['y'],'bg')['setScale'](this[_0x466839(0x149)]*1.6),this[_0x466839(0x131)]['enable']()['setAmbientColor'](0xeeeeee);let _0x3d997d=this[_0x466839(0x131)]['addLight'](WIDTH,-HEIGHT,HEIGHT*0x3,0xffffff,0x4);this[_0x466839(0x10e)](),this[_0x466839(0x114)](),this['createGameMap']();}['checkFractions'](_0x49158b,_0x853e77){const _0x19c0a0=_0x34b641;return _0x49158b%0x1!=0x0||_0x853e77%0x1!=0x0?(DEBUG&&console[_0x19c0a0(0xa5)]('bug:\x20',_0x49158b,_0x853e77),!0x0):!0x1;}[_0x34b641(0x167)](_0x56000d,_0x1ac67e,_0x113e7f){const _0x174b0d=_0x34b641;this[_0x174b0d(0x143)](_0x56000d,_0x1ac67e)||(this['map'][_0x174b0d(0xdc)](_0x113e7f,_0x56000d,BOARD_HEIGHT-_0x1ac67e,!0x1,_0x113e7f===_0x3318ee['GHOST']?'GhostLayer':_0x174b0d(0xf5)),_0x113e7f===_0x3318ee['BOARD']&&this[_0x174b0d(0xd2)][_0x174b0d(0xf9)](_0x56000d,BOARD_HEIGHT-_0x1ac67e,!0x0,!0x1,_0x174b0d(0xd0)));}['getTile'](_0x315125,_0x387c80){const _0x3d0da6=_0x34b641;return this['checkFractions'](_0x315125,_0x387c80)?null:this[_0x3d0da6(0xd2)][_0x3d0da6(0x155)](_0x315125,BOARD_HEIGHT-_0x387c80,!0x1,this[_0x3d0da6(0x120)]);}[_0x34b641(0xb8)](_0x439be5){const _0x4677d0=_0x34b641;let _0x58bc07=_0x439be5[_0x4677d0(0x146)](_0x4677d0(0xf4)),_0x2c0d6f=_0x439be5[_0x4677d0(0x146)]('x'),_0x593bc3=_0x439be5['getData']('y');if(this[_0x4677d0(0x143)](_0x2c0d6f,_0x593bc3)){DEBUG&&console[_0x4677d0(0xa5)](_0x4677d0(0xa1),_0x439be5);return;}for(let _0x2932f4=0x0;_0x2932f4<_0x58bc07['length'];_0x2932f4++)for(let _0x4fea2c=0x0;_0x4fea2c<_0x58bc07[_0x2932f4]['length']-0x1;_0x4fea2c++){if(this[_0x4677d0(0x143)](_0x58bc07[_0x2932f4][_0x4fea2c],_0x58bc07[_0x2932f4][_0x4fea2c+0x1])){DEBUG&&console['log'](_0x4677d0(0x136),tetrommino);return;}let _0x5af1c8=this[_0x4677d0(0xbf)](_0x2c0d6f+_0x58bc07[_0x2932f4][_0x4fea2c],_0x593bc3+_0x58bc07[_0x2932f4][_0x4fea2c+0x1]);if(_0x5af1c8&&_0x5af1c8[_0x4677d0(0x127)]===_0x3318ee['BOARD'])this['setTile'](_0x2c0d6f+_0x58bc07[_0x2932f4][_0x4fea2c],_0x593bc3+_0x58bc07[_0x2932f4][_0x4fea2c+0x1],_0x439be5['getData'](_0x4677d0(0x140)));else{this['gameOver']=!0x0;return;}}}['clearHold'](){this['holdMap']['fill'](_0x3318ee['BOARD'],0x0,0x0,0x4,0x2,!0x0),_0x2f0f19();}[_0x34b641(0xb9)](_0x11f459){const _0x274504=_0x34b641;let _0x1f1ff1=_0x11f459[_0x274504(0x146)](_0x274504(0xf4)),_0x5b3c42=_0x11f459[_0x274504(0x146)]('x'),_0x17d904=_0x11f459[_0x274504(0x146)]('y');if(!this[_0x274504(0x143)](_0x5b3c42,_0x17d904)){for(let _0x368811=0x0;_0x368811<_0x1f1ff1[_0x274504(0x132)];_0x368811++)for(let _0x55cbfc=0x0;_0x55cbfc<_0x1f1ff1[_0x368811]['length']-0x1;_0x55cbfc++){if(this['checkFractions'](_0x1f1ff1[_0x368811][_0x55cbfc],_0x1f1ff1[_0x368811][_0x55cbfc+0x1]))return;this[_0x274504(0x167)](_0x5b3c42+_0x1f1ff1[_0x368811][_0x55cbfc],_0x17d904+_0x1f1ff1[_0x368811][_0x55cbfc+0x1],_0x3318ee[_0x274504(0xc3)]);}}}['addFullScreenToggle'](){const _0x1a0264=_0x34b641;let _0x646f3b=this[_0x1a0264(0x150)][_0x1a0264(0xaf)](WIDTH-0x10,0x10,'fullscreen',0x0)['setOrigin'](0x1,0x0)['setScale'](0.25)[_0x1a0264(0x162)]();_0x646f3b['on'](_0x1a0264(0x133),function(){const _0x1d5524=_0x1a0264;this['scale']['isFullscreen']?(_0x646f3b[_0x1d5524(0xfe)](0x0),this[_0x1d5524(0xbc)][_0x1d5524(0x166)]()):(_0x646f3b[_0x1d5524(0xfe)](0x1),this[_0x1d5524(0xbc)][_0x1d5524(0xb1)]());},this);}[_0x34b641(0xb5)](_0x185ac0){const _0x3bbb09=_0x34b641;this[_0x3bbb09(0x13a)]&&(this[_0x3bbb09(0xb9)](this[_0x3bbb09(0x13a)]),_0x24b368(this[_0x3bbb09(0x14d)],this[_0x3bbb09(0xd2)],this['gameScale'],this[_0x3bbb09(0x13a)],_0x185ac0),this['updateGhost'](),this['setTetromino'](this[_0x3bbb09(0x13a)]));}[_0x34b641(0xe3)](){const _0x49d7f4=_0x34b641;let _0x57cf3d=this[_0x49d7f4(0x13a)][_0x49d7f4(0x146)](_0x49d7f4(0x123));this['clearTetromino'](this[_0x49d7f4(0x13a)]);let _0x447c6c=_0x346305(this);if(_0x447c6c===this[_0x49d7f4(0x13a)]){let _0x30c445=this[_0x49d7f4(0xa8)](this[_0x49d7f4(0x13a)]);this['graphics']['lineStyle'](0x4,0xff0000,0x1),this[_0x49d7f4(0x14d)][_0x49d7f4(0x164)](_0x30c445),this[_0x49d7f4(0x148)][_0x49d7f4(0x150)]({'targets':this[_0x49d7f4(0x14d)],'alpha':0x0,'duration':0x1f4,'ease':'Linear','onComplete':()=>{const _0x49f232=_0x49d7f4;this[_0x49f232(0x14d)][_0x49f232(0x15d)](),this[_0x49f232(0x14d)][_0x49f232(0xd6)]=0x1;}});}else this[_0x49d7f4(0x13a)]=_0x447c6c,this[_0x49d7f4(0xaa)](),this['drawHold']();this[_0x49d7f4(0x165)](),this[_0x49d7f4(0xb8)](this[_0x49d7f4(0x13a)]);}[_0x34b641(0x142)](_0x5d0ae5){const _0x542120=_0x34b641;this[_0x542120(0xb9)](this[_0x542120(0x13a)]),_0x12319d(this['graphics'],this['map'],this['gameScale'],this[_0x542120(0x13a)],_0x5d0ae5),this[_0x542120(0x165)](),this[_0x542120(0xb8)](this[_0x542120(0x13a)]);}[_0x34b641(0x152)](_0x5c0480){const _0x5d41e5=_0x34b641;_0x36f711();let _0x44bdb5=new Set(),_0x4efdb8=_0x5c0480['getData'](_0x5d41e5(0xf4)),_0x804c7c=_0x5c0480[_0x5d41e5(0x146)]('x'),_0x22c38a=_0x5c0480['getData']('y');if(!this['checkFractions'](_0x804c7c,_0x22c38a)){for(let _0x2146e2=0x0;_0x2146e2<_0x4efdb8[_0x5d41e5(0x132)];_0x2146e2++)for(let _0x428eb7=0x0;_0x428eb7<_0x4efdb8[_0x2146e2]['length']-0x1;_0x428eb7++){if(this[_0x5d41e5(0x143)](_0x4efdb8[_0x2146e2][_0x428eb7],_0x4efdb8[_0x2146e2][_0x428eb7+0x1]))return;_0x44bdb5['add'](_0x22c38a+_0x4efdb8[_0x2146e2][_0x428eb7+0x1]);}_0x44bdb5=Array[_0x5d41e5(0x129)](_0x44bdb5)['sort']((_0x523113,_0x4776a9)=>_0x4776a9-_0x523113);for(let _0x50213b=0x0;_0x50213b<_0x44bdb5['length'];_0x50213b++){let _0x4a3426=_0x44bdb5[_0x50213b],_0x4eefb5=!0x0;for(let _0x5debfc=0x0;_0x5debfc<BOARD_WIDTH;_0x5debfc++){let _0x4ef373=this[_0x5d41e5(0xbf)](_0x5debfc,_0x4a3426);if(!_0x4ef373||_0x4ef373[_0x5d41e5(0x127)]===_0x3318ee[_0x5d41e5(0xc3)]){_0x4eefb5=!0x1;break;}}if(_0x4eefb5){for(let _0x60eeab=0x0;_0x60eeab<BOARD_WIDTH;_0x60eeab++)this['setTile'](_0x60eeab,_0x4a3426,_0x3318ee[_0x5d41e5(0xc3)]);for(let _0x2b9e51=_0x4a3426+0x1;_0x2b9e51<BOARD_HEIGHT;_0x2b9e51++)for(let _0x4d7827=0x0;_0x4d7827<BOARD_WIDTH;_0x4d7827++){let _0x3152a1=this[_0x5d41e5(0xbf)](_0x4d7827,_0x2b9e51);_0x3152a1&&_0x3152a1[_0x5d41e5(0x127)]!==_0x3318ee[_0x5d41e5(0xc3)]&&(this['setTile'](_0x4d7827,_0x2b9e51-0x1,_0x3152a1['index']),this[_0x5d41e5(0x167)](_0x4d7827,_0x2b9e51,_0x3318ee['BOARD']));}this['showRowClearFX'](_0x4a3426-0x1);}}}}['getBoundingBox'](_0x5c164e){const _0x48da49=_0x34b641;let _0x4b389f=_0x5c164e[_0x48da49(0x146)](_0x48da49(0xf4)),_0x147564=_0x5c164e['getData']('x'),_0x1c0e2f=_0x5c164e[_0x48da49(0x146)]('y');if(this['checkFractions'](_0x147564,_0x1c0e2f))return;let _0x5d6d95=BOARD_WIDTH,_0x5518f0=0x0,_0x5a3482=BOARD_HEIGHT,_0x3c2d35=0x0;for(let _0x2676a4=0x0;_0x2676a4<_0x4b389f[_0x48da49(0x132)];_0x2676a4++)for(let _0x443d4f=0x0;_0x443d4f<_0x4b389f[_0x2676a4][_0x48da49(0x132)]-0x1;_0x443d4f++){if(this['checkFractions'](_0x4b389f[_0x2676a4][_0x443d4f],_0x4b389f[_0x2676a4][_0x443d4f+0x1]))return;_0x5d6d95=Math[_0x48da49(0xea)](_0x5d6d95,_0x147564+_0x4b389f[_0x2676a4][_0x443d4f]),_0x5518f0=Math['max'](_0x5518f0,_0x147564+_0x4b389f[_0x2676a4][_0x443d4f]),_0x5a3482=Math[_0x48da49(0xea)](_0x5a3482,_0x1c0e2f+_0x4b389f[_0x2676a4][_0x443d4f+0x1]),_0x3c2d35=Math[_0x48da49(0xb7)](_0x3c2d35,_0x1c0e2f+_0x4b389f[_0x2676a4][_0x443d4f+0x1]);}return new Phaser[(_0x48da49(0x168))]['Rectangle'](this['map'][_0x48da49(0x159)](_0x5d6d95),this[_0x48da49(0xd2)]['tileToWorldY'](0x13-_0x3c2d35)+BLOCK_SIZE*this[_0x48da49(0x149)],this[_0x48da49(0xd2)][_0x48da49(0x159)](_0x5518f0)-this[_0x48da49(0xd2)][_0x48da49(0x159)](_0x5d6d95)+BLOCK_SIZE*this[_0x48da49(0x149)],this[_0x48da49(0xd2)][_0x48da49(0xce)](0x13-_0x5a3482)-this['map'][_0x48da49(0xce)](0x13-_0x3c2d35)+BLOCK_SIZE*this['gameScale']);}[_0x34b641(0xc7)](){const _0x2528c2=_0x34b641;let _0x2a3694=this[_0x2528c2(0xa8)](this[_0x2528c2(0x13a)]),_0x28ada6=this[_0x2528c2(0xa8)](this['ghostPiece']),_0x212773=this[_0x2528c2(0x150)][_0x2528c2(0xaf)](_0x2a3694[_0x2528c2(0xb2)],_0x2a3694[_0x2528c2(0x12a)],_0x2528c2(0xcb));_0x212773[_0x2528c2(0x12b)](0.5,0x0),_0x212773[_0x2528c2(0x117)](this[_0x2528c2(0x13a)][_0x2528c2(0x146)](_0x2528c2(0x12d))),_0x212773['displayWidth']=_0x2a3694[_0x2528c2(0x161)],_0x212773[_0x2528c2(0x108)]=_0x28ada6['y']-_0x2a3694['y'],_0x212773[_0x2528c2(0x119)]=-0x1,this[_0x2528c2(0x148)][_0x2528c2(0x150)]({'targets':_0x212773,'displayHeight':0x0,'y':_0x28ada6['y'],'alpha':0x0,'duration':0xc8,'ease':'Linear','onComplete':()=>{const _0x20641d=_0x2528c2;_0x212773[_0x20641d(0xc1)]();}});let _0x523d04=this['add']['particles'](_0x28ada6[_0x2528c2(0xb2)],_0x28ada6['y'],_0x2528c2(0xe5),{'speed':{'min':0x190,'max':0x3e8},'angle':{'min':-0x69,'max':-0x4b},'scale':{'start':0.1,'end':0x0},'alpha':{'start':0.4,'end':0x0},'quantity':0x5,'lifespan':0x1f4,'blendMode':_0x2528c2(0xc6),'gravityY':0x64,'on':!0x1,'onComplete':()=>{const _0x5988ba=_0x2528c2;_0x523d04[_0x5988ba(0xc1)]();}});_0x523d04[_0x2528c2(0x16d)](),this['graphics']['lineStyle'](0x4,0xff00,0x1),this[_0x2528c2(0x14d)]['strokeRectShape'](_0x2a3694),this['tweens'][_0x2528c2(0x150)]({'targets':this[_0x2528c2(0x14d)],'alpha':0x0,'duration':0x190,'ease':_0x2528c2(0xca),'onComplete':()=>{const _0x187f33=_0x2528c2;this[_0x187f33(0x14d)][_0x187f33(0x15d)](),this[_0x187f33(0x14d)][_0x187f33(0xd6)]=0x1;}}),this['cameras'][_0x2528c2(0xdf)][_0x2528c2(0x16b)](0x64,0.0025-0.0005*(this[_0x2528c2(0xec)][_0x2528c2(0x146)]('y')-this[_0x2528c2(0x13a)][_0x2528c2(0x146)]('y')));}[_0x34b641(0x13e)](){const _0x3477c0=_0x34b641;if(!this[_0x3477c0(0xa2)]){for(this[_0x3477c0(0xc7)](),this[_0x3477c0(0xb9)](this[_0x3477c0(0x13a)]),this[_0x3477c0(0xb9)](this['ghostPiece']);_0x24b368(this[_0x3477c0(0x14d)],this[_0x3477c0(0xd2)],this['gameScale'],this[_0x3477c0(0x13a)],[0x0,0x1]););this[_0x3477c0(0xb8)](this[_0x3477c0(0x13a)]),this[_0x3477c0(0x152)](this['activePiece']),this['spawn'](),this[_0x3477c0(0xb8)](this[_0x3477c0(0x13a)]),this[_0x3477c0(0xfd)]=0x0;}}[_0x34b641(0xe2)](_0x33aef0){const _0x24ac19=_0x34b641;let _0x156195=this[_0x24ac19(0x150)]['particles'](this['center']['x']*this[_0x24ac19(0x149)],0x0,'flares',{'frame':{'frames':[_0x24ac19(0x15b),_0x24ac19(0xad),_0x24ac19(0x10a),'yellow','purple'],'cycle':!0x0},'blendMode':_0x24ac19(0xc6),'lifespan':0x96,'quantity':0x1,'manualEmit':!0x0,'frequency':0x5,'alpha':{'start':0x1,'end':0x0},'scale':{'start':0.4,'end':0.1},'onComplete':()=>{_0x156195['destroy']();}});_0x156195[_0x24ac19(0x11c)](),_0x156195[_0x24ac19(0xe7)]({'type':_0x24ac19(0xa3),'source':new Phaser[(_0x24ac19(0x168))][(_0x24ac19(0x11f))](this[_0x24ac19(0xd2)][_0x24ac19(0x159)](-5.75),this['map']['tileToWorldY'](19.5-_0x33aef0),this[_0x24ac19(0xd2)]['tileToWorldX'](4.25),this[_0x24ac19(0xd2)][_0x24ac19(0xce)](19.5-_0x33aef0)),'quantity':0xa,'total':0x1}),_0x156195[_0x24ac19(0x15c)](0x32,0x32);}[_0x34b641(0xeb)](){const _0xb83b22=_0x34b641;this['createTileMaps'](),this[_0xb83b22(0xa9)](),_0x4cee5b(this),_0x12bdf7(this),this[_0xb83b22(0xab)](),this[_0xb83b22(0x14d)]=this[_0xb83b22(0x150)][_0xb83b22(0x14d)](),this[_0xb83b22(0xb8)](this['activePiece']),console[_0xb83b22(0xa5)](window[_0xb83b22(0x13c)],window['innerHeight'],window['devicePixelRatio']);}[_0x34b641(0xaa)](){const _0x3b8f0a=_0x34b641;let _0xc53b62=_0xb6b625();this[_0x3b8f0a(0x109)][_0x3b8f0a(0x14b)](_0x3318ee[_0x3b8f0a(0xc3)],0x0,0x0,0x4,0x9,!0x0);for(let _0x410883=0x0;_0x410883<_0xc53b62[_0x3b8f0a(0x132)];_0x410883++){let _0x4cc486=_0xc53b62[_0x410883],_0x3c6c06=_0x4cc486['getData']('cells'),_0xeed5fa=_0x4cc486[_0x3b8f0a(0x146)](_0x3b8f0a(0x140));for(let _0x41916c=0x0;_0x41916c<_0x3c6c06[_0x3b8f0a(0x132)];_0x41916c++)for(let _0x418e82=0x0;_0x418e82<_0x3c6c06[_0x41916c][_0x3b8f0a(0x132)]-0x1;_0x418e82++)this[_0x3b8f0a(0x109)][_0x3b8f0a(0xdc)](_0xeed5fa,0x1+_0x3c6c06[_0x41916c][_0x418e82],0x6-_0x410883*0x3-_0x3c6c06[_0x41916c][_0x418e82+0x1]+0x1,!0x1,'QueueLayer');}}[_0x34b641(0xed)](){const _0x50daab=_0x34b641;let _0xebe283=_0x1fc78b(),_0x4dee5a=_0xebe283[_0x50daab(0x146)]('cells'),_0x103d82=_0xebe283[_0x50daab(0x146)](_0x50daab(0x140));this[_0x50daab(0xbe)][_0x50daab(0x14b)](_0x3318ee[_0x50daab(0xc3)],0x0,0x0,0x4,0x2,!0x0);for(let _0x347bd1=0x0;_0x347bd1<_0x4dee5a[_0x50daab(0x132)];_0x347bd1++)for(let _0x40f2cf=0x0;_0x40f2cf<_0x4dee5a[_0x347bd1][_0x50daab(0x132)]-0x1;_0x40f2cf++)this[_0x50daab(0xbe)][_0x50daab(0xdc)](_0x103d82,0x1+_0x4dee5a[_0x347bd1][_0x40f2cf],0x1-_0x4dee5a[_0x347bd1][_0x40f2cf+0x1],!0x1,_0x50daab(0x137));}[_0x34b641(0xab)](){const _0xcb7c54=_0x34b641;for(this['activePiece']&&this[_0xcb7c54(0x13a)][_0xcb7c54(0xc1)](),this[_0xcb7c54(0xec)]&&this['ghostPiece'][_0xcb7c54(0xc1)](),this[_0xcb7c54(0x13a)]=_0x1f2a81(this,0x4,0x13,this[_0xcb7c54(0x149)]),this[_0xcb7c54(0xec)]=_0x3b4b5c(this,this['activePiece'],this[_0xcb7c54(0x149)]);_0x24b368(this[_0xcb7c54(0x14d)],this[_0xcb7c54(0xd2)],this[_0xcb7c54(0x149)],this[_0xcb7c54(0xec)],[0x0,0x1]););this['setTetromino'](this[_0xcb7c54(0xec)]),this[_0xcb7c54(0xaa)]();}[_0x34b641(0x165)](){const _0x4711f8=_0x34b641;for(this[_0x4711f8(0xb9)](this[_0x4711f8(0xec)]),this[_0x4711f8(0xec)][_0x4711f8(0x105)]('x',this[_0x4711f8(0x13a)][_0x4711f8(0x146)]('x')),this[_0x4711f8(0xec)][_0x4711f8(0x105)]('y',this[_0x4711f8(0x13a)][_0x4711f8(0x146)]('y')),this[_0x4711f8(0xec)]['x']=this[_0x4711f8(0xd2)][_0x4711f8(0x159)](this[_0x4711f8(0x13a)][_0x4711f8(0x146)]('x')),this[_0x4711f8(0xec)]['y']=this[_0x4711f8(0xd2)][_0x4711f8(0xce)](0x13-this['activePiece'][_0x4711f8(0x146)]('y')),this[_0x4711f8(0xec)]['setData']('cells',_0x4d4000(this['activePiece'][_0x4711f8(0x146)]('cells'))),this['ghostPiece']['setData'](_0x4711f8(0xcc),this[_0x4711f8(0x13a)][_0x4711f8(0x146)](_0x4711f8(0xcc)));_0x24b368(this['graphics'],this[_0x4711f8(0xd2)],this[_0x4711f8(0x149)],this[_0x4711f8(0xec)],[0x0,0x1]););this[_0x4711f8(0xb8)](this[_0x4711f8(0xec)]);}[_0x34b641(0x147)](_0x586a50,_0x440129){const _0x1bde43=_0x34b641;this['gameOver']||(_0x417b75(this),this[_0x1bde43(0xfd)]+=_0x440129,this['elapsed']>0x3e8&&(this[_0x1bde43(0xfd)]=0x0),this[_0x1bde43(0xfd)]===0x0&&this[_0x1bde43(0x13a)]&&!DEBUG&&(this['clearTetromino'](this[_0x1bde43(0x13a)]),_0x24b368(this['graphics'],this[_0x1bde43(0xd2)],this[_0x1bde43(0x149)],this[_0x1bde43(0x13a)],[0x0,0x1])||(this['setTetromino'](this['activePiece']),this[_0x1bde43(0x152)](this[_0x1bde43(0x13a)]),this[_0x1bde43(0xab)]()),this[_0x1bde43(0xb8)](this[_0x1bde43(0x13a)])));}},_0x53b300={'type':Phaser[_0x34b641(0xe1)],'scale':{'mode':Phaser[_0x34b641(0xff)][_0x34b641(0xcd)],'parent':_0x34b641(0xba),'autoCenter':Phaser[_0x34b641(0xff)][_0x34b641(0x16a)],'width':WIDTH,'height':HEIGHT},'width':WIDTH,'height':HEIGHT,'backgroundColor':_0x34b641(0xb0),'scene':[_0x530d5]},_0x1d5ccf=new Phaser[(_0x34b641(0x153))](_0x53b300);})()));function _0x15b4(){const _0x4a5e03=['update','tweens','gameScale','parse','fill','push','graphics','unshift','41069uKSOYC','add','toFixed','lockTetromino','Game','scene','getTileAt','flares','left','Spawned\x20tetromino:\x20','tileToWorldX','gameScaleY','blue','start','clear','991176WPDgND','assets/images/bg.png','ORANGE','width','setInteractive','deltaY','strokeRectShape','updateGhost','stopFullscreen','setTile','Geom','center','CENTER_BOTH','shake','35CsjsFi','explode','SetTetromino:\x20','gameOver','edge','queue_tiles','log','keydown-ENTER','abs','getBoundingBox','addFullScreenToggle','drawQueue','spawn','floor','green','assets/particles/blocks.json','image','rgb(3,\x2023,\x2054)','startFullscreen','centerX','174QriKKF','assets/Sprites/tetris.png','moveActivePiece','51052SoAHaf','max','setTetromino','clearTetromino','jetris','Scene','scale','RED','holdMap','getTile','block','destroy','keydown-LEFT','BOARD','stringify','random','ADD','drawDropAnimation','activePointer','deltaX','Linear','trail','rotationIndex','FIT','tileToWorldY','assets/particles/star.png','GhostLayer','container','map','3446176OVAQoV','tilemap','Wall\x20kick\x20failure','alpha','fullscreen','keydown-UP','rotation','addPointer','blocks','putTileAt','holdLayer','Wall\x20kicks\x20being\x20evaluated:\x20','main','preload','WEBGL','showRowClearFX','hold','GHOST','star','isPaused','addEmitZone','sin','keydown-Q','min','create','ghostPiece','drawHold','keys','keydown-SPACE','wallKicks','YELLOW','streak','BLUE','cells','GameLayer','load','assets/particles/trail.png','input','removeTileAt','Created\x20tetromino:\x20','resume','atlas','elapsed','setFrame','Scale','addTilesetImage','round','clearHold','132570ThpdZv','220314brDRFs','setData','keydown-RIGHT','make','displayHeight','queueMap','pink','keydown-P','pop','waterLayer','createQueueMap','adjustedBlockSize','spritesheet','ceil','Jetris','Rectangle','createHoldMap','setPipeline','12802995YHXBrA','setTint','assets/particles/blocks.png','depth','queueLayer','Rotation:\x20','stop','ghostLayer','Wall\x20kick\x20success','Line','layer','rockLayer','Bug:\x20','type','queueTiles','rowClearParticles','assign','index','createBlankLayer','from','centerY','setOrigin','level','color','keyboard','assets/ui/fullscreen.png','Tile\x20occupied','lights','length','pointerup','down','pause','Move\x20Data!!','HoldLayer','QueueLayer','Light2D','activePiece','assets/particles/streak.png','innerWidth','setScale','drop','JLOSTZ','tile','right','rotateActivePiece','checkFractions','tiles','GREEN','getData'];_0x15b4=function(){return _0x4a5e03;};return _0x15b4();}