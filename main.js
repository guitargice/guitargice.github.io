(function(_0x2ac2e6,_0x381a9e){const _0x231de8=_0x1a05,_0x5a3d73=_0x2ac2e6();while(!![]){try{const _0x59eae3=parseInt(_0x231de8(0x1b8))/0x1+-parseInt(_0x231de8(0x157))/0x2+parseInt(_0x231de8(0x23a))/0x3+parseInt(_0x231de8(0x177))/0x4*(-parseInt(_0x231de8(0x18f))/0x5)+parseInt(_0x231de8(0x179))/0x6+-parseInt(_0x231de8(0x194))/0x7+parseInt(_0x231de8(0x1df))/0x8;if(_0x59eae3===_0x381a9e)break;else _0x5a3d73['push'](_0x5a3d73['shift']());}catch(_0xb96573){_0x5a3d73['push'](_0x5a3d73['shift']());}}}(_0x2de4,0x6c5ea),((()=>{const _0x4ef449=_0x1a05;var _0x2ef38c=Tiles={'BLUE':0x0,'CYAN':0x1,'ORANGE':0x2,'YELLOW':0x3,'GREEN':0x4,'RED':0x5,'PURPLE':0x6,'BOARD':0x7,'BORDER_BOTTOM':0x8,'BORDER_LEFT':0x9,'BORDER_TOP':0xa,'BORDER_RIGHT':0xb,'GHOST':0xc,'HELPER':0xd,'EMPTY':0xe,'EMPTY2':0xf,'BORDER_CORNER_BOTTOM_LEFT':0x10,'BORDER_CORNER_TOP_LEFT':0x11,'BORDER_CORNER_TOP_RIGHT':0x12,'BORDER_CORNER_BOTTOM_RIGHT':0x13};cos=Math[_0x4ef449(0x1af)](Math['PI']/0x2),sin=Math[_0x4ef449(0x1b3)](Math['PI']/0x2),RotationMatrix=[cos,sin,-sin,cos],TetrominoBag=[],TetrominoQueue=[],heldPiece=null,hasSwapped=!0x1;var _0x13c1ff={'L':'L','I':'I','J':'J','O':'O','S':'S','T':'T','Z':'Z'},_0x37f46c=()=>{const _0x5ded0a=_0x4ef449;if(TetrominoBag[_0x5ded0a(0x1a0)]===0x0){let _0x470706=Object[_0x5ded0a(0x18e)](_0x13c1ff);for(let _0x8854c4=_0x470706[_0x5ded0a(0x1a0)]-0x1;_0x8854c4>0x0;_0x8854c4--){let _0x234c30=Math['floor'](Math[_0x5ded0a(0x21b)]()*(_0x8854c4+0x1));[_0x470706[_0x8854c4],_0x470706[_0x234c30]]=[_0x470706[_0x234c30],_0x470706[_0x8854c4]];}TetrominoBag=[..._0x470706];}let _0x42a75d=TetrominoBag['pop']();return DEBUG&&console['log'](_0x5ded0a(0x233),TetrominoBag),_0x42a75d;};function _0x4af269(){const _0x321af9=_0x4ef449;return TetrominoBag[_0x321af9(0x1a0)]===0x0&&_0x37f46c(),[...TetrominoBag[_0x321af9(0x239)](0x0,0x3)];}var _0x536e61={'L':_0x2ef38c[_0x4ef449(0x1f9)],'I':_0x2ef38c[_0x4ef449(0x1a5)],'J':_0x2ef38c[_0x4ef449(0x14d)],'O':_0x2ef38c[_0x4ef449(0x16c)],'S':_0x2ef38c[_0x4ef449(0x232)],'T':_0x2ef38c[_0x4ef449(0x1e1)],'Z':_0x2ef38c[_0x4ef449(0x190)]},_0x34d21f={'I':[[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]]],'JLOSTZ':[[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]]]},_0x3ef07f={'I':[0x0,0x0],'O':[0x0,0x0],'J':[-0.5,0.5],'L':[-0.5,0.5],'S':[-0.5,0.5],'T':[-0.5,0.5],'Z':[-0.5,0.5]},_0x355639={'L':{'cells':[[0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x34d21f['JLOSTZ'],'color':0xfff500},'I':{'cells':[[-0x1,0x1],[0x0,0x1],[0x1,0x1],[0x2,0x1]],'wallKicks':_0x34d21f['I'],'color':0xffff},'J':{'cells':[[-0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x34d21f[_0x4ef449(0x195)],'color':0xff},'O':{'cells':[[0x0,0x0],[0x1,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x34d21f['JLOSTZ'],'color':0xffff00},'S':{'cells':[[-0x1,0x0],[0x0,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x34d21f[_0x4ef449(0x195)],'color':0xff00},'T':{'cells':[[-0x1,0x0],[0x0,0x0],[0x1,0x0],[0x0,0x1]],'wallKicks':_0x34d21f[_0x4ef449(0x195)],'color':0xf000f0},'Z':{'cells':[[-0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x34d21f['JLOSTZ'],'color':0xff0000}};function _0x2d6756(_0x54b722){const _0x814787=_0x4ef449;return JSON[_0x814787(0x1c7)](JSON[_0x814787(0x244)](_0x54b722));}function _0x1319c0(_0x203f79){const _0x491242=_0x4ef449;let _0x5c6bfb=_0x4af269();for(let _0x472638=0x0;_0x472638<_0x5c6bfb[_0x491242(0x1a0)];_0x472638++)TetrominoQueue['push'](_0x5e0366(_0x203f79,_0x5c6bfb[_0x472638])),DEBUG&&console['log']('Queue:\x20',TetrominoQueue);}function _0x5e0366(_0x420ff4,_0x20d3b5){const _0x7089ee=_0x4ef449;let _0x292074=_0x355639[_0x20d3b5],_0x1533c4=_0x420ff4[_0x7089ee(0x21f)]['container'](0x0,0x0);return _0x1533c4[_0x7089ee(0x171)]('cells',_0x2d6756(_0x292074[_0x7089ee(0x17b)])),_0x1533c4[_0x7089ee(0x171)](_0x7089ee(0x170),_0x292074[_0x7089ee(0x170)]),_0x1533c4[_0x7089ee(0x171)](_0x7089ee(0x1b1),_0x292074[_0x7089ee(0x1b1)]),_0x1533c4[_0x7089ee(0x171)](_0x7089ee(0x1dd),_0x536e61[_0x20d3b5]),_0x1533c4['setData'](_0x7089ee(0x1ab),_0x20d3b5),_0x1533c4['setData'](_0x7089ee(0x1bc),0x0),_0x1533c4[_0x7089ee(0x171)](_0x7089ee(0x159),[0x0,0x0]),_0x1533c4[_0x7089ee(0x171)]('x',0x0),_0x1533c4[_0x7089ee(0x171)]('y',0x0),DEBUG&&console[_0x7089ee(0x218)](_0x7089ee(0x153),_0x1533c4),_0x1533c4;}function _0x7e27bd(_0x24bcf3,_0x11ab55,_0xbad8,_0x20b060){const _0x4b5529=_0x4ef449;let _0x519e4d=TetrominoQueue[_0x4b5529(0x1ce)]()['setScale'](_0x20b060),_0x297665=_0x519e4d[_0x4b5529(0x1d0)](_0x4b5529(0x1ab));return _0x519e4d[_0x4b5529(0x171)]('x',_0x11ab55),_0x519e4d[_0x4b5529(0x171)]('y',_0xbad8-(_0x297665===_0x355639['I']?0x1:0x0)),DEBUG&&console[_0x4b5529(0x218)](_0x4b5529(0x1b9),_0x519e4d),TetrominoQueue[_0x4b5529(0x216)](_0x5e0366(_0x24bcf3,_0x37f46c())),_0x519e4d;}function _0x368305(){return TetrominoQueue;}function _0x1aa346(){return heldPiece;}function _0x399e42(_0x1d29a0){const _0x42282f=_0x4ef449;if(heldPiece){if(hasSwapped)return _0x1d29a0[_0x42282f(0x23e)];{let _0x38bc25=_0x5e0366(_0x1d29a0,_0x1d29a0[_0x42282f(0x23e)][_0x42282f(0x1d0)]('type')),_0x24917f=Object[_0x42282f(0x228)](heldPiece);return _0x24917f[_0x42282f(0x171)]('x',_0x1d29a0[_0x42282f(0x23e)][_0x42282f(0x1d0)]('x')),_0x24917f[_0x42282f(0x171)]('y',_0x1d29a0[_0x42282f(0x23e)][_0x42282f(0x1d0)]('y')),heldPiece=_0x38bc25,hasSwapped=!0x0,_0x24917f;}}else{heldPiece=_0x5e0366(_0x1d29a0,_0x1d29a0[_0x42282f(0x23e)][_0x42282f(0x1d0)](_0x42282f(0x1ab)));let _0x3220f8=_0x7e27bd(_0x1d29a0,0x4,0x13,heldPiece[_0x42282f(0x1ea)]);return hasSwapped=!0x0,_0x3220f8;}}function _0x368740(){hasSwapped=!0x1;}function _0x23348d(){hasSwapped=!0x1,heldPiece=null;}function _0x2a90e3(_0x352046,_0x578791,_0x2e8e59){const _0xb6170c=_0x4ef449;let _0x22000d=_0x578791[_0xb6170c(0x1d0)](_0xb6170c(0x1ab)),_0x421e21=_0x355639[_0x22000d],_0x549754=_0x352046[_0xb6170c(0x21f)][_0xb6170c(0x1e7)](0x0,0x0)[_0xb6170c(0x22c)](_0x2e8e59);return _0x549754[_0xb6170c(0x171)](_0xb6170c(0x1dd),_0x2ef38c[_0xb6170c(0x245)]),_0x549754[_0xb6170c(0x171)](_0xb6170c(0x17b),_0x2d6756(_0x578791['getData'](_0xb6170c(0x17b)))),_0x549754[_0xb6170c(0x171)](_0xb6170c(0x1ab),_0x578791[_0xb6170c(0x1d0)](_0xb6170c(0x1ab))),_0x549754[_0xb6170c(0x171)]('rotationIndex',_0x578791[_0xb6170c(0x1d0)](_0xb6170c(0x1bc))),_0x549754[_0xb6170c(0x171)](_0xb6170c(0x159),_0x578791['getData'](_0xb6170c(0x159))),_0x549754[_0xb6170c(0x171)]('x',_0x578791[_0xb6170c(0x1d0)]('x')),_0x549754[_0xb6170c(0x171)]('y',_0x578791[_0xb6170c(0x1d0)]('y')),_0x549754[_0xb6170c(0x171)](_0xb6170c(0x1b1),_0x578791[_0xb6170c(0x1d0)]('wallKicks')),_0x549754;}function _0x5b4c66(_0x2fb067,_0x3d7efa,_0x47fcf3){return _0x2fb067<_0x3d7efa?_0x47fcf3-(_0x3d7efa-_0x2fb067)%(_0x47fcf3-_0x3d7efa):_0x3d7efa+(_0x2fb067-_0x3d7efa)%(_0x47fcf3-_0x3d7efa);}function _0x5c1383(_0x279eb7,_0x5a9217,_0x222742,_0x4bd3f3,_0xa408ab){const _0x787270=_0x4ef449;originalRotation=_0x4bd3f3[_0x787270(0x1d0)](_0x787270(0x1bc))||0x0,rotationIndex=_0x5b4c66(originalRotation+_0xa408ab,0x0,0x4),DEBUG&&console[_0x787270(0x218)](_0x787270(0x1dc),rotationIndex),_0x5d48d7(_0x4bd3f3,_0xa408ab),_0x415e16(_0x279eb7,_0x5a9217,_0x222742,_0x4bd3f3,rotationIndex,_0xa408ab)||(rotationIndex=originalRotation,_0x5d48d7(_0x4bd3f3,-_0xa408ab)),_0x4bd3f3['setData']('rotationIndex',rotationIndex);}function _0x415e16(_0x54bd8a,_0x3d3ab1,_0x90a47c,_0x388f4a,_0x4727cb,_0x4e4608){const _0x316786=_0x4ef449;for(wallKicks=_0x388f4a[_0x316786(0x1d0)](_0x316786(0x1b1)),wallKickIndex=_0x162e82(_0x4727cb,_0x4e4608),DEBUG&&console[_0x316786(0x218)](_0x316786(0x1f4),wallKicks[wallKickIndex]),i=0x0;i<0x5;i++)if(translation=wallKicks[wallKickIndex][i],_0xb7b4fe(_0x54bd8a,_0x3d3ab1,_0x90a47c,_0x388f4a,translation,!0x0))return DEBUG&&console['log'](_0x316786(0x1fc)),!0x0;return DEBUG&&console[_0x316786(0x218)](_0x316786(0x14f)),!0x1;}function _0x162e82(_0x606118,_0x5c104e){return wallKickIndex=_0x606118*0x2,_0x5c104e<0x0&&wallKickIndex--,_0x5b4c66(wallKickIndex,0x0,0x8);}function _0x36c4aa(_0x523523,_0xeaed40,_0x1106e8,_0x2ef45a,_0xdd6c5c,_0xe6bd84){const _0x526bf6=_0x4ef449;let _0x180949=_0x2ef45a[_0x526bf6(0x1d0)](_0x526bf6(0x17b)),_0x145bfa=_0x2ef45a[_0x526bf6(0x1d0)](_0x526bf6(0x1ab)),_0x1738e1=_0x2ef45a['getData']('x'),_0x26e6a0=_0x2ef45a['getData']('y');DEBUG&&(_0x523523[_0x526bf6(0x181)](),DEBUG&&console[_0x526bf6(0x218)](_0x526bf6(0x1a7),_0xdd6c5c));for(let _0x1e29fb=0x0;_0x1e29fb<_0x180949[_0x526bf6(0x1a0)];_0x1e29fb++){let _0x44a65b=_0x1738e1+_0x180949[_0x1e29fb][0x0]+_0xdd6c5c[0x0],_0x47d13a=_0x26e6a0+_0x180949[_0x1e29fb][0x1]-_0xdd6c5c[0x1];if(DEBUG&&(wx=_0xeaed40[_0x526bf6(0x20a)](_0x44a65b),wy=_0xeaed40[_0x526bf6(0x16d)](0x14-_0x47d13a),_0x523523[_0x526bf6(0x23b)](0x1,0xff00ff),_0x523523[_0x526bf6(0x175)](new Phaser[(_0x526bf6(0x19b))][(_0x526bf6(0x1ec))](wx,wy,0x40*_0x1106e8,0x40*_0x1106e8))),_0x44a65b%0x1!==0x0||_0x47d13a%0x1!==0x0)return DEBUG&&console['log'](_0x526bf6(0x1d3),_0x44a65b,_0x47d13a),!0x1;let _0x488e58=_0xeaed40[_0x526bf6(0x1a3)](_0x44a65b,0x14-_0x47d13a);if(!_0x488e58||_0x488e58[_0x526bf6(0x15e)]!==_0x2ef38c['BOARD']&&_0x488e58[_0x526bf6(0x15e)]!==_0x2ef38c['GHOST'])return DEBUG&&console[_0x526bf6(0x218)](_0x526bf6(0x183)),!0x1;}return!0x0;}function _0xb7b4fe(_0x4f68a7,_0x4816b7,_0x38f95c,_0x1b918a,_0x2f83b7,_0x5f5d16){const _0x3e6da5=_0x4ef449;return isValid=_0x36c4aa(_0x4f68a7,_0x4816b7,_0x38f95c,_0x1b918a,_0x2f83b7,_0x5f5d16),isValid&&(_0x1b918a[_0x3e6da5(0x171)]('x',_0x1b918a[_0x3e6da5(0x1d0)]('x')+_0x2f83b7[0x0]),_0x1b918a[_0x3e6da5(0x171)]('y',_0x1b918a[_0x3e6da5(0x1d0)]('y')-_0x2f83b7[0x1]),_0x1b918a['x']=_0x4816b7['tileToWorldX'](_0x1b918a[_0x3e6da5(0x1d0)]('x')),_0x1b918a['y']=_0x4816b7['tileToWorldY'](0x13-_0x1b918a[_0x3e6da5(0x1d0)]('y'))),isValid;}function _0x5d48d7(_0xc63872,_0x560b0c){const _0x3771a9=_0x4ef449;let _0x2e10ea=_0x3ef07f[_0xc63872[_0x3771a9(0x1d0)](_0x3771a9(0x1ab))],_0x3e39eb=_0xc63872[_0x3771a9(0x1d0)]('cells'),_0x36fa81=_0xc63872[_0x3771a9(0x1d0)](_0x3771a9(0x1ab)),_0x1805fa=RotationMatrix,_0x394e07=[],_0x428210=_0x36fa81===_0x13c1ff['O']||_0x36fa81===_0x13c1ff['I'];if(_0x428210){for(let _0x2f8eb0=0x0;_0x2f8eb0<_0x3e39eb[_0x3771a9(0x1a0)];_0x2f8eb0++)_0x3e39eb[_0x2f8eb0][0x0]-=0.5,_0x3e39eb[_0x2f8eb0][0x1]-=0.5;}for(let _0x234ff6=0x0;_0x234ff6<_0x3e39eb[_0x3771a9(0x1a0)];_0x234ff6++){let _0x19058a=parseFloat((_0x3e39eb[_0x234ff6][0x0]*_0x1805fa[0x0]*_0x560b0c+_0x3e39eb[_0x234ff6][0x1]*_0x1805fa[0x1]*_0x560b0c)['toFixed'](0x1)),_0x159f8d=parseFloat((_0x3e39eb[_0x234ff6][0x0]*_0x1805fa[0x2]*_0x560b0c+_0x3e39eb[_0x234ff6][0x1]*_0x1805fa[0x3]*_0x560b0c)[_0x3771a9(0x1fb)](0x1));_0x394e07[_0x3771a9(0x204)]([_0x428210?Math['ceil'](_0x19058a):Math[_0x3771a9(0x1cf)](_0x19058a),_0x428210?Math[_0x3771a9(0x22d)](_0x159f8d):Math[_0x3771a9(0x1cf)](_0x159f8d)]);}return _0xc63872[_0x3771a9(0x171)](_0x3771a9(0x17b),_0x394e07),tmp=[parseFloat((_0x2e10ea[0x0]*_0x1805fa[0x0]*_0x560b0c+_0x2e10ea[0x1]*_0x1805fa[0x1]*_0x560b0c)[_0x3771a9(0x1fb)](0x1)),parseFloat((_0x2e10ea[0x0]*_0x1805fa[0x2]*_0x560b0c+_0x2e10ea[0x1]*_0x1805fa[0x3]*_0x560b0c)[_0x3771a9(0x1fb)](0x1))],_0xc63872[_0x3771a9(0x171)](_0x3771a9(0x159),tmp),_0x394e07;}function _0x4716dc(_0x1bd1fe){const _0x1bb1c5=_0x4ef449;_0x1bd1fe[_0x1bb1c5(0x1e0)][_0x1bb1c5(0x1f0)](0x1),_0x1bd1fe['input'][_0x1bb1c5(0x1b7)]['on'](_0x1bb1c5(0x188),()=>{const _0x507cb8=_0x1bb1c5;_0x1bd1fe[_0x507cb8(0x1a2)]([-0x1,0x0]);}),_0x1bd1fe['input'][_0x1bb1c5(0x1b7)]['on']('keydown-RIGHT',()=>{const _0x5d9f98=_0x1bb1c5;_0x1bd1fe[_0x5d9f98(0x1a2)]([0x1,0x0]);}),_0x1bd1fe[_0x1bb1c5(0x1e0)][_0x1bb1c5(0x1b7)]['on'](_0x1bb1c5(0x156),()=>{const _0x25627d=_0x1bb1c5;_0x1bd1fe[_0x25627d(0x1a2)]([0x0,0x1]);}),DEBUG&&_0x1bd1fe[_0x1bb1c5(0x1e0)]['keyboard']['on'](_0x1bb1c5(0x1fa),()=>{const _0x5be212=_0x1bb1c5;_0x1bd1fe[_0x5be212(0x1a2)]([0x0,-0x1]);}),_0x1bd1fe[_0x1bb1c5(0x1e0)][_0x1bb1c5(0x1b7)]['on'](_0x1bb1c5(0x214),()=>{_0x1bd1fe['rotateActivePiece'](0x1);}),_0x1bd1fe['input'][_0x1bb1c5(0x1b7)]['on'](_0x1bb1c5(0x210),()=>{const _0x4e1f77=_0x1bb1c5;_0x1bd1fe[_0x4e1f77(0x1fd)](-0x1);}),_0x1bd1fe[_0x1bb1c5(0x1e0)][_0x1bb1c5(0x1b7)]['on']('keydown-SPACE',()=>{_0x1bd1fe['drop']();}),_0x1bd1fe['input'][_0x1bb1c5(0x1b7)]['on']('keydown-ENTER',()=>{const _0x532ca1=_0x1bb1c5;_0x1bd1fe[_0x532ca1(0x1cb)]();}),_0x1bd1fe[_0x1bb1c5(0x1e0)][_0x1bb1c5(0x1b7)]['on'](_0x1bb1c5(0x1ad),()=>{const _0x18e261=_0x1bb1c5;_0x1bd1fe[_0x18e261(0x1eb)]['isPaused']()?_0x1bd1fe[_0x18e261(0x1eb)][_0x18e261(0x1d9)]():_0x1bd1fe[_0x18e261(0x1eb)][_0x18e261(0x19a)]();}),_0x1bd1fe[_0x1bb1c5(0x1e0)][_0x1bb1c5(0x1b7)]['on']('keydown-ESC',()=>{const _0x13b3ff=_0x1bb1c5;_0x1bd1fe[_0x13b3ff(0x19e)][_0x13b3ff(0x1f2)](Tiles[_0x13b3ff(0x20e)]),_0x1bd1fe['map'][_0x13b3ff(0x1f2)](null,0x0,0x0,BOARD_WIDTH,BOARD_HEIGHT,!0x0,'GhostLayer'),_0x1bd1fe[_0x13b3ff(0x168)](),_0x1bd1fe['gameOver']=!0x1,_0x1bd1fe['elapsedSeconds']=0x0,_0x1bd1fe[_0x13b3ff(0x166)][_0x13b3ff(0x1d1)]({'delay':0x3e8,'callback':_0x1bd1fe[_0x13b3ff(0x215)],'callbackScope':_0x1bd1fe,'loop':!0x0}),_0x1bd1fe[_0x13b3ff(0x14e)][_0x13b3ff(0x1d1)]({'delay':DROP_DELAY,'callback':_0x1bd1fe[_0x13b3ff(0x21e)],'callbackScope':_0x1bd1fe,'loop':!0x0}),_0x1bd1fe[_0x13b3ff(0x160)](),_0x1bd1fe[_0x13b3ff(0x1a8)](_0x1bd1fe[_0x13b3ff(0x23e)]);});}isClicking=!0x1,dropped=!0x1,held=!0x1,clicked=!0x1,dragged=!0x1,touchDeltaX=0x0,touchDeltaY=0x0;function _0x3f112c(_0x714121){const _0x3ea725=_0x4ef449;if(_0x714121[_0x3ea725(0x1e0)][_0x3ea725(0x1f5)]['isDown']){clicked=!0x0;let _0x17c5c2=Math[_0x3ea725(0x187)](_0x714121[_0x3ea725(0x1e0)][_0x3ea725(0x1f5)]['x']-touchDeltaX),_0x553f24=Math[_0x3ea725(0x187)](_0x714121['input'][_0x3ea725(0x1f5)]['y']-touchDeltaY);_0x17c5c2>=0x4b&&_0x17c5c2>_0x553f24?(_0x714121[_0x3ea725(0x1e0)][_0x3ea725(0x1f5)]['x']<touchDeltaX?swipeDirection=_0x3ea725(0x206):_0x714121[_0x3ea725(0x1e0)][_0x3ea725(0x1f5)]['x']>touchDeltaX&&touchDeltaX!=0x0?swipeDirection=_0x3ea725(0x220):(swipeDirection='',touchDeltaX=0x0),touchDeltaX=_0x714121[_0x3ea725(0x1e0)][_0x3ea725(0x1f5)]['x'],swipeDirection!=''&&(_0x714121['moveActivePiece']([swipeDirection=='left'?-0x1:0x1,0x0]),dragged=!0x0)):!dropped&&!held&&_0x553f24>=0xc8&&_0x553f24>_0x17c5c2&&(_0x714121['input'][_0x3ea725(0x1f5)]['y']>touchDeltaY&&touchDeltaY!=0x0?swipeDirection=_0x3ea725(0x20f):_0x714121[_0x3ea725(0x1e0)][_0x3ea725(0x1f5)]['y']<touchDeltaY&&touchDeltaY!=0x0?swipeDirection='up':(swipeDirection='',touchDeltaY=0x0),touchDeltaY=_0x714121[_0x3ea725(0x1e0)][_0x3ea725(0x1f5)]['y'],swipeDirection==_0x3ea725(0x20f)?(_0x714121[_0x3ea725(0x227)](),dropped=!0x0):swipeDirection=='up'&&(_0x714121[_0x3ea725(0x1cb)](),held=!0x0));}else touchDeltaX=0x0,touchDeltaY=0x0,clicked&&!dragged&&!dropped&&!held&&(_0x714121['input'][_0x3ea725(0x1f5)]['x']<_0x714121[_0x3ea725(0x1ba)]['x']?_0x714121[_0x3ea725(0x1fd)](-0x1):_0x714121[_0x3ea725(0x1fd)](0x1)),clicked=!0x1,dropped=!0x1,dragged=!0x1,held=!0x1;}WIDTH=0x320,HEIGHT=0x400,DEBUG=!0x1,BOARD_WIDTH=0xa,BOARD_HEIGHT=0x14,BLOCK_SIZE=0x40,swipeDirection='',touchDeltaX=0x0,touchDeltaY=0x0,swipeDelay=0x0,DROP_DELAY=0x3e8;var _0x26f355=class extends Phaser[_0x4ef449(0x172)]{constructor(){const _0x28330a=_0x4ef449;super({'key':_0x28330a(0x1a1),'active':!0x0}),this[_0x28330a(0x1e7)],this['level']=Array[_0x28330a(0x1ca)]({'length':BOARD_HEIGHT},()=>Array[_0x28330a(0x1ca)]({'length':BOARD_WIDTH},()=>_0x2ef38c['BOARD'])),this[_0x28330a(0x19e)],this['queueMap'],this['holdMap'],this[_0x28330a(0x1ba)]={'x':WIDTH/0x2,'y':HEIGHT/0x2},this[_0x28330a(0x19f)]=this['center']['x']*0x2/0x8,this[_0x28330a(0x23d)]=this[_0x28330a(0x1ba)]['y']*0x2/0x14,this['gameScale']=this[_0x28330a(0x19f)]*2.5/this[_0x28330a(0x1ba)]['x'],this['gameScaleY']=this[_0x28330a(0x23d)]*2.5/this[_0x28330a(0x1ba)]['y'],this[_0x28330a(0x1ee)]=BLOCK_SIZE*this[_0x28330a(0x155)],this[_0x28330a(0x23e)],this[_0x28330a(0x1c3)],this[_0x28330a(0x235)],this[_0x28330a(0x234)]=!0x1,this[_0x28330a(0x1c1)],this[_0x28330a(0x17a)],this[_0x28330a(0x1be)],this[_0x28330a(0x16b)],this[_0x28330a(0x22f)],this['particleEmitter'],this[_0x28330a(0x166)],this[_0x28330a(0x1b0)]=0x0,this[_0x28330a(0x14e)];}[_0x4ef449(0x241)](){const _0x12a82c=_0x4ef449;this['load']['image'](_0x12a82c(0x1c4),[_0x12a82c(0x1bd),'assets/Sprites/tetris_n.png']),this[_0x12a82c(0x21a)]['spritesheet'](_0x12a82c(0x1d4),_0x12a82c(0x198),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this[_0x12a82c(0x21a)][_0x12a82c(0x165)](_0x12a82c(0x19d),'assets/Sprites/tetris.png',{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this[_0x12a82c(0x21a)][_0x12a82c(0x1c2)]('flares',_0x12a82c(0x1e6),_0x12a82c(0x1da)),this[_0x12a82c(0x21a)][_0x12a82c(0x246)](_0x12a82c(0x1e3),_0x12a82c(0x15f)),this['load']['image'](_0x12a82c(0x196),'assets/particles/streak.png'),this[_0x12a82c(0x21a)][_0x12a82c(0x246)](_0x12a82c(0x162),_0x12a82c(0x18a)),this['load']['image']('bg',_0x12a82c(0x22e));}[_0x4ef449(0x17e)](){const _0x51dcb4=_0x4ef449;this['queueMap']=this[_0x51dcb4(0x1f8)][_0x51dcb4(0x1bb)]({'key':'queue_tiles','data':null,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x51dcb4(0x1db)]=this[_0x51dcb4(0x161)]['addTilesetImage']('tiles','block',BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x51dcb4(0x226)]=this[_0x51dcb4(0x161)][_0x51dcb4(0x1aa)](_0x51dcb4(0x200),this[_0x51dcb4(0x1db)],this['center']['x']+(BOARD_WIDTH+0.6)/0x2*BLOCK_SIZE*this['gameScale'],0x3*BLOCK_SIZE*this[_0x51dcb4(0x155)])[_0x51dcb4(0x22c)](this[_0x51dcb4(0x155)]*0.75),this[_0x51dcb4(0x226)][_0x51dcb4(0x186)](_0x51dcb4(0x1e4)),this[_0x51dcb4(0x161)][_0x51dcb4(0x1f2)](_0x2ef38c[_0x51dcb4(0x1c9)],0x1,0x0,0x4,0x1),this[_0x51dcb4(0x161)][_0x51dcb4(0x1f2)](_0x2ef38c['BORDER_BOTTOM'],0x1,0x9,0x4,0x9),this[_0x51dcb4(0x161)][_0x51dcb4(0x1f2)](_0x2ef38c[_0x51dcb4(0x222)],0x0,0x1,0x1,0x8),this['queueMap'][_0x51dcb4(0x1f2)](_0x2ef38c[_0x51dcb4(0x223)],0x5,0x1,0x1,0x8),this[_0x51dcb4(0x161)][_0x51dcb4(0x1ef)](_0x2ef38c['BORDER_CORNER_BOTTOM_LEFT'],0x0,0x9),this['queueMap'][_0x51dcb4(0x1ef)](_0x2ef38c['BORDER_CORNER_BOTTOM_RIGHT'],0x5,0x9),this['queueMap'][_0x51dcb4(0x1ef)](_0x2ef38c['BORDER_CORNER_TOP_LEFT'],0x0,0x0),this[_0x51dcb4(0x161)][_0x51dcb4(0x1ef)](_0x2ef38c[_0x51dcb4(0x1a4)],0x5,0x0),this[_0x51dcb4(0x1c0)]=this['add']['text'](WIDTH-0xcd*this[_0x51dcb4(0x155)],0xaa*this[_0x51dcb4(0x155)],_0x51dcb4(0x17c),{'font':_0x51dcb4(0x1ae),'fill':_0x51dcb4(0x158)})['setName'](_0x51dcb4(0x1c0));}['createHoldMap'](){const _0x524f62=_0x4ef449;let _0xbc7ff1=Array[_0x524f62(0x1ca)]({'length':0x4},()=>Array['from']({'length':0x6},()=>_0x2ef38c[_0x524f62(0x20e)]));this[_0x524f62(0x1b4)]=this[_0x524f62(0x1f8)][_0x524f62(0x1bb)]({'key':'queue_tiles','data':_0xbc7ff1,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x524f62(0x1de)]=this[_0x524f62(0x1b4)][_0x524f62(0x230)]('tiles',_0x524f62(0x1c4),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this['holdLayer']=this[_0x524f62(0x1b4)][_0x524f62(0x1aa)](_0x524f62(0x225),this[_0x524f62(0x1db)],this[_0x524f62(0x1ba)]['x']-(BOARD_WIDTH+9.6)/0x2*BLOCK_SIZE*this[_0x524f62(0x155)],0x3*BLOCK_SIZE*this[_0x524f62(0x155)])[_0x524f62(0x22c)](this['gameScale']*0.75),this['holdLayer'][_0x524f62(0x186)](_0x524f62(0x1e4)),this[_0x524f62(0x1b4)][_0x524f62(0x1f2)](_0x2ef38c[_0x524f62(0x20e)],0x1,0x1,0x4,0x2,!0x0),this[_0x524f62(0x1b4)]['fill'](_0x2ef38c['BORDER_TOP'],0x1,0x0,0x4,0x1),this[_0x524f62(0x1b4)][_0x524f62(0x1f2)](_0x2ef38c[_0x524f62(0x1cc)],0x1,0x3,0x4,0x3),this[_0x524f62(0x1b4)]['fill'](_0x2ef38c[_0x524f62(0x222)],0x0,0x1,0x1,0x2),this[_0x524f62(0x1b4)][_0x524f62(0x1f2)](_0x2ef38c['BORDER_RIGHT'],0x5,0x1,0x1,0x2),this[_0x524f62(0x1b4)][_0x524f62(0x1ef)](_0x2ef38c[_0x524f62(0x17d)],0x0,0x3),this[_0x524f62(0x1b4)][_0x524f62(0x1ef)](_0x2ef38c[_0x524f62(0x1f1)],0x5,0x3),this[_0x524f62(0x1b4)][_0x524f62(0x1ef)](_0x2ef38c[_0x524f62(0x15a)],0x0,0x0),this[_0x524f62(0x1b4)]['putTileAt'](_0x2ef38c['BORDER_CORNER_TOP_RIGHT'],0x5,0x0),this[_0x524f62(0x1e2)]=this['add'][_0x524f62(0x180)](0x62*this[_0x524f62(0x155)],0xaa*this[_0x524f62(0x155)],_0x524f62(0x199),{'font':_0x524f62(0x1ae),'fill':_0x524f62(0x158)})[_0x524f62(0x207)](_0x524f62(0x1e2));}['createGameMap'](){const _0x368a8d=_0x4ef449;this['map']=this[_0x368a8d(0x1f8)]['tilemap']({'key':_0x368a8d(0x185),'data':this[_0x368a8d(0x224)],'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x248d7a=this[_0x368a8d(0x19e)]['addTilesetImage'](_0x368a8d(0x1d6),_0x368a8d(0x1c4),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);this[_0x368a8d(0x17a)]=this[_0x368a8d(0x19e)][_0x368a8d(0x1aa)](_0x368a8d(0x236),_0x248d7a,this['center']['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x368a8d(0x155)],0x3*BLOCK_SIZE*this['gameScale'])['setScale'](this[_0x368a8d(0x155)]),this[_0x368a8d(0x1c1)]=this['map'][_0x368a8d(0x1aa)](_0x368a8d(0x1cd),_0x248d7a,this[_0x368a8d(0x1ba)]['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x368a8d(0x155)],0x3*BLOCK_SIZE*this[_0x368a8d(0x155)])[_0x368a8d(0x22c)](this[_0x368a8d(0x155)]),this[_0x368a8d(0x1c1)][_0x368a8d(0x186)](_0x368a8d(0x1e4)),this[_0x368a8d(0x1c1)][_0x368a8d(0x23c)](0x1),this[_0x368a8d(0x19e)][_0x368a8d(0x1f2)](_0x2ef38c['BOARD']),this[_0x368a8d(0x173)]=this[_0x368a8d(0x21f)][_0x368a8d(0x180)](0x30*this[_0x368a8d(0x155)],HEIGHT-0xaa*this[_0x368a8d(0x155)],'0:00.000',{'font':_0x368a8d(0x1ae),'fill':_0x368a8d(0x158)})[_0x368a8d(0x207)]('timeText');}['createTileMaps'](){const _0x55119c=_0x4ef449;this[_0x55119c(0x21f)][_0x55119c(0x246)](this[_0x55119c(0x1ba)]['x'],this[_0x55119c(0x1ba)]['y'],'bg')['setScale'](this[_0x55119c(0x155)]*1.6),this[_0x55119c(0x20b)][_0x55119c(0x174)]()['setAmbientColor'](0xeeeeee);let _0x21a911=this[_0x55119c(0x20b)][_0x55119c(0x242)](WIDTH,-HEIGHT,HEIGHT*0x3,0xffffff,0x4);this['createQueueMap'](),this[_0x55119c(0x1e5)](),this['createGameMap']();}[_0x4ef449(0x1f6)](_0x270a44,_0x5a2466){const _0x453bb7=_0x4ef449;return _0x270a44%0x1!==0x0||_0x5a2466%0x1!==0x0?(DEBUG&&console[_0x453bb7(0x218)](_0x453bb7(0x1f7),_0x270a44,_0x5a2466),!0x0):!0x1;}[_0x4ef449(0x182)](_0x336767,_0x31455d,_0x94d29){const _0x51733d=_0x4ef449;this['checkFractions'](_0x336767,_0x31455d)||(this[_0x51733d(0x19e)][_0x51733d(0x1ef)](_0x94d29,_0x336767,BOARD_HEIGHT-_0x31455d,!0x1,_0x94d29===_0x2ef38c['GHOST']?_0x51733d(0x236):_0x51733d(0x1cd)),_0x94d29===_0x2ef38c[_0x51733d(0x20e)]&&this['map']['removeTileAt'](_0x336767,BOARD_HEIGHT-_0x31455d,!0x0,!0x1,_0x51733d(0x236)));}['getTile'](_0x278ab4,_0x42e324){const _0x143eae=_0x4ef449;return this['checkFractions'](_0x278ab4,_0x42e324)?null:this[_0x143eae(0x19e)][_0x143eae(0x1a3)](_0x278ab4,BOARD_HEIGHT-_0x42e324,!0x1,this['layer']);}[_0x4ef449(0x1a8)](_0x23e8fb){const _0x45e0bf=_0x4ef449;let _0x4df002=_0x23e8fb[_0x45e0bf(0x1d0)](_0x45e0bf(0x17b)),_0x518e7e=_0x23e8fb[_0x45e0bf(0x1d0)]('x'),_0xa7b29a=_0x23e8fb[_0x45e0bf(0x1d0)]('y');if(this[_0x45e0bf(0x1f6)](_0x518e7e,_0xa7b29a)){DEBUG&&console[_0x45e0bf(0x218)](_0x45e0bf(0x217),_0x23e8fb);return;}for(let _0x13be8e=0x0;_0x13be8e<_0x4df002[_0x45e0bf(0x1a0)];_0x13be8e++)for(let _0x26b5fd=0x0;_0x26b5fd<_0x4df002[_0x13be8e][_0x45e0bf(0x1a0)]-0x1;_0x26b5fd++){if(this[_0x45e0bf(0x1f6)](_0x4df002[_0x13be8e][_0x26b5fd],_0x4df002[_0x13be8e][_0x26b5fd+0x1])){DEBUG&&console[_0x45e0bf(0x218)](_0x45e0bf(0x1d5),tetrommino);return;}let _0x57b42c=this[_0x45e0bf(0x1a9)](_0x518e7e+_0x4df002[_0x13be8e][_0x26b5fd],_0xa7b29a+_0x4df002[_0x13be8e][_0x26b5fd+0x1]);if(_0x57b42c&&_0x57b42c[_0x45e0bf(0x15e)]===_0x2ef38c[_0x45e0bf(0x20e)])this['setTile'](_0x518e7e+_0x4df002[_0x13be8e][_0x26b5fd],_0xa7b29a+_0x4df002[_0x13be8e][_0x26b5fd+0x1],_0x23e8fb['getData'](_0x45e0bf(0x1dd)));else{this[_0x45e0bf(0x234)]=!0x0;return;}}}['clearHold'](){const _0x185c54=_0x4ef449;this[_0x185c54(0x1b4)]['fill'](_0x2ef38c[_0x185c54(0x20e)],0x1,0x1,0x4,0x2,!0x0),this[_0x185c54(0x1e2)][_0x185c54(0x1d8)](_0x185c54(0x199)),_0x23348d();}['clearTetromino'](_0x1d2ee9){const _0x38bc69=_0x4ef449;let _0x472cd5=_0x1d2ee9['getData'](_0x38bc69(0x17b)),_0x550759=_0x1d2ee9[_0x38bc69(0x1d0)]('x'),_0x52fae1=_0x1d2ee9[_0x38bc69(0x1d0)]('y');if(!this[_0x38bc69(0x1f6)](_0x550759,_0x52fae1)){for(let _0x25cd9b=0x0;_0x25cd9b<_0x472cd5['length'];_0x25cd9b++)for(let _0x3211d6=0x0;_0x3211d6<_0x472cd5[_0x25cd9b][_0x38bc69(0x1a0)]-0x1;_0x3211d6++){if(this['checkFractions'](_0x472cd5[_0x25cd9b][_0x3211d6],_0x472cd5[_0x25cd9b][_0x3211d6+0x1]))return;this[_0x38bc69(0x182)](_0x550759+_0x472cd5[_0x25cd9b][_0x3211d6],_0x52fae1+_0x472cd5[_0x25cd9b][_0x3211d6+0x1],_0x2ef38c[_0x38bc69(0x20e)]);}}}[_0x4ef449(0x197)](){const _0x1b812d=_0x4ef449;let _0x258bed=this[_0x1b812d(0x21f)]['image'](WIDTH-0x10,0x10,_0x1b812d(0x1d4),0x0)[_0x1b812d(0x209)](0x1,0x0)['setScale'](0.25)[_0x1b812d(0x1c5)]();_0x258bed['on']('pointerup',function(){const _0x357861=_0x1b812d;this[_0x357861(0x1ea)]['isFullscreen']?(_0x258bed[_0x357861(0x15b)](0x0),this[_0x357861(0x1ea)][_0x357861(0x1e9)]()):(_0x258bed[_0x357861(0x15b)](0x1),this['scale'][_0x357861(0x1ed)]());},this);}[_0x4ef449(0x1a2)](_0x234396){const _0x5a14fc=_0x4ef449;this[_0x5a14fc(0x23e)]&&(this['clearTetromino'](this[_0x5a14fc(0x23e)]),_0xb7b4fe(this[_0x5a14fc(0x235)],this[_0x5a14fc(0x19e)],this[_0x5a14fc(0x155)],this[_0x5a14fc(0x23e)],_0x234396),this['updateGhost'](),this['setTetromino'](this[_0x5a14fc(0x23e)]));}[_0x4ef449(0x1cb)](){const _0x31b4d7=_0x4ef449;let _0x3d8cad=this[_0x31b4d7(0x23e)][_0x31b4d7(0x1d0)](_0x31b4d7(0x1ab));this[_0x31b4d7(0x1d7)](this[_0x31b4d7(0x23e)]);let _0x7e8ec6=_0x399e42(this);if(_0x7e8ec6===this[_0x31b4d7(0x23e)]){this[_0x31b4d7(0x1e2)][_0x31b4d7(0x16a)](_0x31b4d7(0x21c)),this[_0x31b4d7(0x15d)][_0x31b4d7(0x21f)]({'targets':this['holdText'],'x':this[_0x31b4d7(0x1e2)]['x']-0xa,'duration':0x14,'yoyo':!0x1,'repeat':0x0,'onComplete':()=>{const _0x4c9211=_0x31b4d7;this['holdText']['x']=0x58*this[_0x4c9211(0x155)],this[_0x4c9211(0x15d)][_0x4c9211(0x21f)]({'targets':this[_0x4c9211(0x1e2)],'x':this[_0x4c9211(0x1e2)]['x']+0x14,'duration':0x3c,'yoyo':!0x0,'repeat':0x1,'ease':_0x4c9211(0x1bf),'onComplete':()=>{const _0x3923ff=_0x4c9211;this[_0x3923ff(0x1e2)]['x']=0x59*this[_0x3923ff(0x155)],this[_0x3923ff(0x1e2)][_0x3923ff(0x16a)](_0x3923ff(0x158));}});}});let _0x173eaa=this[_0x31b4d7(0x221)](this['activePiece']);this[_0x31b4d7(0x235)]['lineStyle'](0x4,0xff0000,0x1),this[_0x31b4d7(0x235)][_0x31b4d7(0x175)](_0x173eaa),this[_0x31b4d7(0x15d)]['add']({'targets':this[_0x31b4d7(0x235)],'alpha':0x0,'duration':0x1f4,'ease':_0x31b4d7(0x1d2),'onComplete':()=>{const _0x19b5b3=_0x31b4d7;this[_0x19b5b3(0x235)]['clear'](),this[_0x19b5b3(0x235)][_0x19b5b3(0x169)]=0x1;}});}else this[_0x31b4d7(0x1e2)][_0x31b4d7(0x1d8)](_0x31b4d7(0x208)),this['activePiece']=_0x7e8ec6,this[_0x31b4d7(0x1ff)](),this['drawHold']();this[_0x31b4d7(0x192)](),this[_0x31b4d7(0x1a8)](this['activePiece']);}[_0x4ef449(0x1fd)](_0x5949b0){const _0x157f6e=_0x4ef449;this[_0x157f6e(0x1d7)](this[_0x157f6e(0x23e)]),_0x5c1383(this[_0x157f6e(0x235)],this[_0x157f6e(0x19e)],this[_0x157f6e(0x155)],this['activePiece'],_0x5949b0),this[_0x157f6e(0x192)](),this[_0x157f6e(0x1a8)](this[_0x157f6e(0x23e)]);}[_0x4ef449(0x20d)](_0x74ebde){const _0x14fa35=_0x4ef449;_0x368740();let _0x3ebb3e=new Set(),_0x39dc79=_0x74ebde['getData'](_0x14fa35(0x17b)),_0x116c6e=_0x74ebde[_0x14fa35(0x1d0)]('x'),_0x363118=_0x74ebde['getData']('y');if(!this['checkFractions'](_0x116c6e,_0x363118)){for(let _0x1b5d77=0x0;_0x1b5d77<_0x39dc79[_0x14fa35(0x1a0)];_0x1b5d77++)for(let _0x500e76=0x0;_0x500e76<_0x39dc79[_0x1b5d77][_0x14fa35(0x1a0)]-0x1;_0x500e76++){if(this[_0x14fa35(0x1f6)](_0x39dc79[_0x1b5d77][_0x500e76],_0x39dc79[_0x1b5d77][_0x500e76+0x1]))return;_0x3ebb3e[_0x14fa35(0x21f)](_0x363118+_0x39dc79[_0x1b5d77][_0x500e76+0x1]);}_0x3ebb3e=Array[_0x14fa35(0x1ca)](_0x3ebb3e)[_0x14fa35(0x191)]((_0x365965,_0x42517b)=>_0x42517b-_0x365965);for(let _0x46a77e=0x0;_0x46a77e<_0x3ebb3e[_0x14fa35(0x1a0)];_0x46a77e++){let _0xb1babf=_0x3ebb3e[_0x46a77e],_0x4b6d6e=!0x0;for(let _0x4c2492=0x0;_0x4c2492<BOARD_WIDTH;_0x4c2492++){let _0x20a958=this[_0x14fa35(0x1a9)](_0x4c2492,_0xb1babf);if(!_0x20a958||_0x20a958[_0x14fa35(0x15e)]===_0x2ef38c[_0x14fa35(0x20e)]){_0x4b6d6e=!0x1;break;}}if(_0x4b6d6e){for(let _0x103a0a=0x0;_0x103a0a<BOARD_WIDTH;_0x103a0a++)this[_0x14fa35(0x182)](_0x103a0a,_0xb1babf,_0x2ef38c[_0x14fa35(0x20e)]);for(let _0x1ea2da=_0xb1babf+0x1;_0x1ea2da<BOARD_HEIGHT;_0x1ea2da++)for(let _0x1b1f83=0x0;_0x1b1f83<BOARD_WIDTH;_0x1b1f83++){let _0x2e180d=this[_0x14fa35(0x1a9)](_0x1b1f83,_0x1ea2da);_0x2e180d&&_0x2e180d['index']!==_0x2ef38c[_0x14fa35(0x20e)]&&(this['setTile'](_0x1b1f83,_0x1ea2da-0x1,_0x2e180d[_0x14fa35(0x15e)]),this[_0x14fa35(0x182)](_0x1b1f83,_0x1ea2da,_0x2ef38c[_0x14fa35(0x20e)]));}this[_0x14fa35(0x22b)](_0xb1babf-0x1);}}}}[_0x4ef449(0x221)](_0x81bab9){const _0x546a07=_0x4ef449;let _0x5b5ae8=_0x81bab9[_0x546a07(0x1d0)]('cells'),_0x64d59e=_0x81bab9[_0x546a07(0x1d0)]('x'),_0x1c7695=_0x81bab9[_0x546a07(0x1d0)]('y');if(this[_0x546a07(0x1f6)](_0x64d59e,_0x1c7695))return;let _0x48e155=BOARD_WIDTH,_0x2598a9=0x0,_0x17e7b3=BOARD_HEIGHT,_0x4cc4c6=0x0;for(let _0x36236b=0x0;_0x36236b<_0x5b5ae8[_0x546a07(0x1a0)];_0x36236b++)for(let _0x264e4=0x0;_0x264e4<_0x5b5ae8[_0x36236b][_0x546a07(0x1a0)]-0x1;_0x264e4++){if(this[_0x546a07(0x1f6)](_0x5b5ae8[_0x36236b][_0x264e4],_0x5b5ae8[_0x36236b][_0x264e4+0x1]))return;_0x48e155=Math[_0x546a07(0x154)](_0x48e155,_0x64d59e+_0x5b5ae8[_0x36236b][_0x264e4]),_0x2598a9=Math[_0x546a07(0x1b6)](_0x2598a9,_0x64d59e+_0x5b5ae8[_0x36236b][_0x264e4]),_0x17e7b3=Math[_0x546a07(0x154)](_0x17e7b3,_0x1c7695+_0x5b5ae8[_0x36236b][_0x264e4+0x1]),_0x4cc4c6=Math[_0x546a07(0x1b6)](_0x4cc4c6,_0x1c7695+_0x5b5ae8[_0x36236b][_0x264e4+0x1]);}return new Phaser[(_0x546a07(0x19b))][(_0x546a07(0x1ec))](this[_0x546a07(0x19e)][_0x546a07(0x20a)](_0x48e155),this[_0x546a07(0x19e)]['tileToWorldY'](0x13-_0x4cc4c6)+BLOCK_SIZE*this[_0x546a07(0x155)],this[_0x546a07(0x19e)][_0x546a07(0x20a)](_0x2598a9)-this[_0x546a07(0x19e)][_0x546a07(0x20a)](_0x48e155)+BLOCK_SIZE*this['gameScale'],this[_0x546a07(0x19e)][_0x546a07(0x16d)](0x13-_0x17e7b3)-this[_0x546a07(0x19e)][_0x546a07(0x16d)](0x13-_0x4cc4c6)+BLOCK_SIZE*this[_0x546a07(0x155)]);}['drawDropAnimation'](){const _0x346fed=_0x4ef449;let _0x575d7e=this[_0x346fed(0x221)](this[_0x346fed(0x23e)]),_0x577d7e=this['getBoundingBox'](this[_0x346fed(0x1c3)]),_0x1475d5=this[_0x346fed(0x21f)][_0x346fed(0x246)](_0x575d7e['centerX'],_0x575d7e[_0x346fed(0x20c)],_0x346fed(0x1e3));_0x1475d5[_0x346fed(0x209)](0.5,0x0),_0x1475d5[_0x346fed(0x178)](this[_0x346fed(0x23e)][_0x346fed(0x1d0)](_0x346fed(0x170))),_0x1475d5[_0x346fed(0x18b)]=_0x575d7e[_0x346fed(0x15c)],_0x1475d5[_0x346fed(0x202)]=_0x577d7e['centerY']+BLOCK_SIZE*0.5*this[_0x346fed(0x155)]-_0x575d7e['y'],_0x1475d5['depth']=0x0,this['tweens'][_0x346fed(0x21f)]({'targets':_0x1475d5,'displayHeight':0x0,'y':_0x577d7e['y'],'alpha':0x0,'duration':0xc8,'ease':_0x346fed(0x1d2),'onComplete':()=>{const _0x2e9931=_0x346fed;_0x1475d5[_0x2e9931(0x238)]();}});let _0x20ee3e=this[_0x346fed(0x21f)][_0x346fed(0x205)](_0x577d7e[_0x346fed(0x203)],_0x577d7e['y'],_0x346fed(0x162),{'speed':{'min':0x190,'max':0x3e8},'angle':{'min':-0x69,'max':-0x4b},'scale':{'start':0.1,'end':0x0},'alpha':{'start':0.4,'end':0x0},'quantity':0x5,'lifespan':0x1f4,'blendMode':_0x346fed(0x1fe),'gravityY':0x64,'on':!0x1,'onUpdate':_0xa5ec07=>{_0xa5ec07['angle']+=0x5;},'onComplete':()=>{const _0x367c21=_0x346fed;_0x20ee3e[_0x367c21(0x238)]();}});_0x20ee3e[_0x346fed(0x213)]();let _0x19c240=this[_0x346fed(0x21f)][_0x346fed(0x205)](0x0,0x0,_0x346fed(0x196),{'speed':{'min':0x3e8,'max':0xbb8},'angle':-0x5a,'scaleY':{'start':0.4,'end':0x1},'scaleX':0.1,'alpha':{'start':0.5,'end':0x0},'lifespan':0x12c,'blendMode':_0x346fed(0x1fe),'manualEmit':!0x0,'on':!0x1,'onComplete':()=>{const _0x357cb9=_0x346fed;_0x19c240[_0x357cb9(0x238)]();}});_0x19c240[_0x346fed(0x193)](),_0x19c240['addEmitZone']({'type':_0x346fed(0x21b),'source':new Phaser[(_0x346fed(0x19b))]['Line'](_0x577d7e['left'],_0x577d7e[_0x346fed(0x184)],_0x577d7e['right'],_0x577d7e[_0x346fed(0x184)]),'quantity':0xa,'onComplete':()=>{const _0x5e7edd=_0x346fed;_0x19c240[_0x5e7edd(0x238)]();}}),_0x19c240[_0x346fed(0x18d)](0x32,0x32),this[_0x346fed(0x1c6)][_0x346fed(0x151)][_0x346fed(0x17f)](0x64,0.0025-0.0005*(this[_0x346fed(0x1c3)]['getData']('y')-this[_0x346fed(0x23e)]['getData']('y')));}['drop'](){const _0x54715b=_0x4ef449;if(!this['gameOver']){for(this[_0x54715b(0x243)](),this[_0x54715b(0x1d7)](this[_0x54715b(0x23e)]),this[_0x54715b(0x1d7)](this[_0x54715b(0x1c3)]);_0xb7b4fe(this[_0x54715b(0x235)],this[_0x54715b(0x19e)],this['gameScale'],this[_0x54715b(0x23e)],[0x0,0x1]););this[_0x54715b(0x1a8)](this[_0x54715b(0x23e)]),this['lockTetromino'](this[_0x54715b(0x23e)]),this[_0x54715b(0x160)](),this[_0x54715b(0x1a8)](this[_0x54715b(0x23e)]),this['elapsed']=0x0;}}['showRowClearFX'](_0x23f879){const _0x5837f4=_0x4ef449;let _0x30dd20=this[_0x5837f4(0x21f)][_0x5837f4(0x205)](this['center']['x']*this[_0x5837f4(0x155)],0x0,_0x5837f4(0x22a),{'frame':{'frames':[_0x5837f4(0x211),'green','pink',_0x5837f4(0x1b5),'purple'],'cycle':!0x0},'blendMode':_0x5837f4(0x1fe),'lifespan':0xc8,'quantity':0x2,'manualEmit':!0x0,'frequency':0x8,'alpha':{'start':0x1,'end':0x0},'scale':{'start':0.5,'end':0.3},'onUpdate':_0x3302d0=>{const _0xae9945=_0x5837f4;_0x3302d0[_0xae9945(0x163)]+=0x19;},'onComplete':()=>{const _0x947b01=_0x5837f4;_0x30dd20[_0x947b01(0x238)]();}});_0x30dd20[_0x5837f4(0x23c)](0x2),_0x30dd20[_0x5837f4(0x193)](),_0x30dd20[_0x5837f4(0x19c)]({'type':_0x5837f4(0x150),'source':new Phaser[(_0x5837f4(0x19b))][(_0x5837f4(0x1b2))](this[_0x5837f4(0x19e)][_0x5837f4(0x20a)](-5.75),this['map'][_0x5837f4(0x16d)](19.5-_0x23f879),this[_0x5837f4(0x19e)]['tileToWorldX'](4.25),this[_0x5837f4(0x19e)][_0x5837f4(0x16d)](19.5-_0x23f879)),'quantity':0xa,'total':0x1}),_0x30dd20[_0x5837f4(0x18d)](0x32,0x32);}['updateTimer'](){const _0x9081cf=_0x4ef449;this[_0x9081cf(0x229)]=Math[_0x9081cf(0x212)](this[_0x9081cf(0x166)][_0x9081cf(0x1e8)]());let _0x423af2=Math['floor'](this[_0x9081cf(0x1b0)]/0x3c),_0x1561dd=Math[_0x9081cf(0x189)](this['elapsedSeconds']%0x3c),_0x51e51a=this[_0x9081cf(0x229)]%0x3e8;this[_0x9081cf(0x173)][_0x9081cf(0x1d8)](_0x423af2[_0x9081cf(0x167)]()[_0x9081cf(0x21d)](0x2,'0')+':'+_0x1561dd[_0x9081cf(0x167)]()[_0x9081cf(0x21d)](0x2,'0')+'.'+_0x51e51a[_0x9081cf(0x167)]()[_0x9081cf(0x21d)](0x3,'0'));}[_0x4ef449(0x215)](){const _0x485ed6=_0x4ef449;this[_0x485ed6(0x1b0)]+=0x1;}[_0x4ef449(0x21e)](){const _0x3e5301=_0x4ef449;this[_0x3e5301(0x23e)]&&!DEBUG&&(this[_0x3e5301(0x1d7)](this['activePiece']),_0xb7b4fe(this['graphics'],this['map'],this['gameScale'],this[_0x3e5301(0x23e)],[0x0,0x1])||(this[_0x3e5301(0x1a8)](this[_0x3e5301(0x23e)]),this[_0x3e5301(0x20d)](this[_0x3e5301(0x23e)]),this[_0x3e5301(0x160)]()),this['setTetromino'](this[_0x3e5301(0x23e)]));}[_0x4ef449(0x176)](){const _0x22bc63=_0x4ef449;this[_0x22bc63(0x1ac)](),this[_0x22bc63(0x197)](),_0x1319c0(this),_0x4716dc(this),this[_0x22bc63(0x235)]=this[_0x22bc63(0x21f)][_0x22bc63(0x235)](),this['spawn'](),this[_0x22bc63(0x1a8)](this[_0x22bc63(0x23e)]),this['milliseconds']=0x0,this['timer']=this[_0x22bc63(0x219)][_0x22bc63(0x201)]({'delay':0x3e8,'callback':this[_0x22bc63(0x215)],'callbackScope':this,'loop':!0x0}),this[_0x22bc63(0x14e)]=this[_0x22bc63(0x219)][_0x22bc63(0x201)]({'delay':DROP_DELAY,'callback':this[_0x22bc63(0x21e)],'callbackScope':this,'loop':!0x0}),console[_0x22bc63(0x218)](window[_0x22bc63(0x18c)],window[_0x22bc63(0x1c8)],window['devicePixelRatio']);}[_0x4ef449(0x1ff)](){const _0x5921f3=_0x4ef449;let _0x25fe13=_0x368305();this[_0x5921f3(0x161)][_0x5921f3(0x1f2)](_0x2ef38c['BOARD'],0x1,0x1,0x4,0x8,!0x0);for(let _0x538143=0x0;_0x538143<_0x25fe13['length'];_0x538143++){let _0x274e5b=_0x25fe13[_0x538143],_0x338e77=_0x274e5b[_0x5921f3(0x1d0)](_0x5921f3(0x17b)),_0x453119=_0x274e5b[_0x5921f3(0x1d0)](_0x5921f3(0x1dd));for(let _0xa2ed02=0x0;_0xa2ed02<_0x338e77[_0x5921f3(0x1a0)];_0xa2ed02++)for(let _0x1435de=0x0;_0x1435de<_0x338e77[_0xa2ed02][_0x5921f3(0x1a0)]-0x1;_0x1435de++)this['queueMap'][_0x5921f3(0x1ef)](_0x453119,0x2+_0x338e77[_0xa2ed02][_0x1435de],0x6-_0x538143*0x3-_0x338e77[_0xa2ed02][_0x1435de+0x1]+0x2,!0x1,_0x5921f3(0x200));}}[_0x4ef449(0x23f)](){const _0x1880ea=_0x4ef449;let _0x39e9a3=_0x1aa346(),_0x271ea0=_0x39e9a3[_0x1880ea(0x1d0)](_0x1880ea(0x17b)),_0x24d7e3=_0x39e9a3[_0x1880ea(0x1d0)](_0x1880ea(0x1dd));this[_0x1880ea(0x1b4)][_0x1880ea(0x1f2)](_0x2ef38c['BOARD'],0x1,0x1,0x4,0x2,!0x0);for(let _0x34dd0b=0x0;_0x34dd0b<_0x271ea0['length'];_0x34dd0b++)for(let _0x1de977=0x0;_0x1de977<_0x271ea0[_0x34dd0b]['length']-0x1;_0x1de977++)this[_0x1880ea(0x1b4)]['putTileAt'](_0x24d7e3,0x2+_0x271ea0[_0x34dd0b][_0x1de977],0x2-_0x271ea0[_0x34dd0b][_0x1de977+0x1],!0x1,'HoldLayer');}[_0x4ef449(0x160)](){const _0x4f82c4=_0x4ef449;for(this[_0x4f82c4(0x23e)]&&this['activePiece']['destroy'](),this[_0x4f82c4(0x1c3)]&&this[_0x4f82c4(0x1c3)][_0x4f82c4(0x238)](),this[_0x4f82c4(0x23e)]=_0x7e27bd(this,0x4,0x13,this['gameScale']),this[_0x4f82c4(0x1c3)]=_0x2a90e3(this,this['activePiece'],this[_0x4f82c4(0x155)]);_0xb7b4fe(this[_0x4f82c4(0x235)],this[_0x4f82c4(0x19e)],this['gameScale'],this[_0x4f82c4(0x1c3)],[0x0,0x1]););this['setTetromino'](this[_0x4f82c4(0x1c3)]),this[_0x4f82c4(0x1ff)]();}['updateGhost'](){const _0x14395c=_0x4ef449;for(this['clearTetromino'](this['ghostPiece']),this[_0x14395c(0x1c3)][_0x14395c(0x171)]('x',this['activePiece']['getData']('x')),this[_0x14395c(0x1c3)][_0x14395c(0x171)]('y',this[_0x14395c(0x23e)][_0x14395c(0x1d0)]('y')),this[_0x14395c(0x1c3)]['x']=this[_0x14395c(0x19e)][_0x14395c(0x20a)](this[_0x14395c(0x23e)][_0x14395c(0x1d0)]('x')),this['ghostPiece']['y']=this[_0x14395c(0x19e)][_0x14395c(0x16d)](0x13-this[_0x14395c(0x23e)]['getData']('y')),this[_0x14395c(0x1c3)]['setData'](_0x14395c(0x17b),_0x2d6756(this[_0x14395c(0x23e)]['getData'](_0x14395c(0x17b)))),this['ghostPiece']['setData'](_0x14395c(0x1bc),this[_0x14395c(0x23e)]['getData'](_0x14395c(0x1bc)));_0xb7b4fe(this['graphics'],this[_0x14395c(0x19e)],this[_0x14395c(0x155)],this[_0x14395c(0x1c3)],[0x0,0x1]););this[_0x14395c(0x1a8)](this['ghostPiece']);}[_0x4ef449(0x231)](_0x530923,_0x3e4614){const _0x26be7f=_0x4ef449;this[_0x26be7f(0x234)]||(_0x3f112c(this),this[_0x26be7f(0x237)]());}},_0x11cc78={'type':Phaser[_0x4ef449(0x16f)],'scale':{'mode':Phaser['Scale'][_0x4ef449(0x164)],'parent':_0x4ef449(0x1f3),'autoCenter':Phaser[_0x4ef449(0x152)][_0x4ef449(0x1a6)],'width':WIDTH,'height':HEIGHT},'width':WIDTH,'height':HEIGHT,'backgroundColor':_0x4ef449(0x240),'scene':[_0x26f355]},_0x3a3f99=new Phaser[(_0x4ef449(0x16e))](_0x11cc78);})()));function _0x1a05(_0x3984da,_0x23e592){const _0x2de408=_0x2de4();return _0x1a05=function(_0x1a05d8,_0x218766){_0x1a05d8=_0x1a05d8-0x14d;let _0x5a1510=_0x2de408[_0x1a05d8];return _0x5a1510;},_0x1a05(_0x3984da,_0x23e592);}function _0x2de4(){const _0x1e5818=['update','GREEN','Tetromino\x20bag:\x20','gameOver','graphics','GhostLayer','updateTimer','destroy','slice','1577613gPSUqo','lineStyle','setDepth','deltaY','activePiece','drawHold','rgb(3,\x2023,\x2054)','preload','addLight','drawDropAnimation','stringify','GHOST','image','BLUE','tetrominoTimer','Wall\x20kick\x20failure','edge','main','Scale','Created\x20tetromino:\x20','min','gameScale','keydown-DOWN','1472064LnrmeJ','#00DDFF','rotation','BORDER_CORNER_TOP_LEFT','setFrame','width','tweens','index','assets/particles/trail.png','spawn','queueMap','star','angle','FIT','spritesheet','timer','toString','clearHold','alpha','setColor','waterLayer','YELLOW','tileToWorldY','Game','WEBGL','color','setData','Scene','timeText','enable','strokeRectShape','create','4bhdCtA','setTint','729552MeNrUd','ghostLayer','cells','NEXT','BORDER_CORNER_BOTTOM_LEFT','createQueueMap','shake','text','clear','setTile','Tile\x20occupied','top','map_tiles','setPipeline','abs','keydown-LEFT','floor','assets/particles/star.png','displayWidth','innerWidth','start','keys','414330gqvuNs','RED','sort','updateGhost','stop','579131ppsSzO','JLOSTZ','streak','addFullScreenToggle','assets/ui/fullscreen.png','HOLD','pause','Geom','addEmitZone','blocks','map','deltaX','length','Jetris','moveActivePiece','getTileAt','BORDER_CORNER_TOP_RIGHT','CYAN','CENTER_BOTH','Testing\x20move:\x20','setTetromino','getTile','createBlankLayer','type','createTileMaps','keydown-P','28px\x20Exo','cos','elapsedSeconds','wallKicks','Line','sin','holdMap','yellow','max','keyboard','299152ALEfrm','Spawned\x20tetromino:\x20','center','tilemap','rotationIndex','assets/Sprites/tetris.png','rockLayer','OutCircle','nextText','layer','atlas','ghostPiece','block','setInteractive','cameras','parse','innerHeight','BORDER_TOP','from','hold','BORDER_BOTTOM','GameLayer','pop','round','getData','reset','Linear','Bug:\x20','fullscreen','Move\x20Data!!','tiles','clearTetromino','setText','resume','assets/particles/blocks.json','queueTiles','Rotation:\x20','tile','holdTiles','3191184mlvgXw','input','PURPLE','holdText','trail','Light2D','createHoldMap','assets/particles/blocks.png','container','getElapsed','stopFullscreen','scale','scene','Rectangle','startFullscreen','adjustedBlockSize','putTileAt','addPointer','BORDER_CORNER_BOTTOM_RIGHT','fill','jetris','Wall\x20kicks\x20being\x20evaluated:\x20','activePointer','checkFractions','bug:\x20','make','ORANGE','keydown-UP','toFixed','Wall\x20kick\x20success','rotateActivePiece','ADD','drawQueue','QueueLayer','addEvent','displayHeight','centerX','push','particles','left','setName','SWAP','setOrigin','tileToWorldX','lights','centerY','lockTetromino','BOARD','down','keydown-Q','blue','trunc','explode','keydown-E','addSecond','unshift','SetTetromino:\x20','log','time','load','random','#FF0077','padStart','advanceActivePiece','add','right','getBoundingBox','BORDER_LEFT','BORDER_RIGHT','level','HoldLayer','queueLayer','drop','assign','milliseconds','flares','showRowClearFX','setScale','ceil','assets/images/bg.png','rowClearParticles','addTilesetImage'];_0x2de4=function(){return _0x1e5818;};return _0x2de4();}