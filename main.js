function _0x193d(){const _0x462918=['drawDropAnimation','Tetromino\x20bag:\x20','pop','innerWidth','keydown-RIGHT','setPipeline','from','resume','moveActivePiece','abs','depth','hold','isFullscreen','drop','center','graphics','assets/Sprites/tetris_n.png','star','setData','Queue:\x20','Wall\x20kick\x20success','trail','clearTetromino','destroy','assign','assets/particles/trail.png','QueueLayer','WEBGL','setAmbientColor','fill','enable','image','toFixed','assets/particles/blocks.png','load','blocks','ADD','innerHeight','assets/Sprites/tetris.png','Game','block','createQueueMap','explode','sin','activePiece','main','update','16sFSnso','edge','input','setScale','queueMap','tileToWorldY','flares','assets/particles/blocks.json','devicePixelRatio','gameScale','CYAN','particleEmitter','displayWidth','CENTER_BOTH','centerY','getTileAt','Geom','keydown-P','deltaY','ORANGE','YELLOW','1155742rXwfmp','addEmitZone','rotationIndex','Move\x20Data!!','down','keydown-LEFT','addLight','particles','fullscreen','assets/images/bg.png','addTilesetImage','waterLayer','make','198372UBlbFg','FIT','map_tiles','1851576nZUOxV','Linear','keyboard','Rectangle','showRowClearFX','push','index','width','floor','getTile','gameOver','550KrLWeg','putTileAt','sort','lights','streak','setOrigin','add','container','Tile\x20occupied','tileToWorldX','HoldLayer','getBoundingBox','rotation','activePointer','Wall\x20kicks\x20being\x20evaluated:\x20','level','keys','keydown-Q','ceil','holdLayer','124281mihdSG','ghostPiece','assets/ui/fullscreen.png','layer','displayHeight','createBlankLayer','keydown-DOWN','gameScaleY','scene','Jetris','GhostLayer','setFrame','type','Light2D','5994jGIqVB','parse','rgb(3,\x2023,\x2054)','lockTetromino','length','strokeRectShape','tweens','holdTiles','setTetromino','elapsed','queue_tiles','pink','drawHold','Scene','cameras','create','cells','clear','createGameMap','350HHjeQp','ghostLayer','Testing\x20move:\x20','map','updateGhost','Scale','isPaused','min','deltaX','removeTileAt','left','GHOST','max','adjustedBlockSize','tiles','tile','Line','log','spawn','isDown','Spawned\x20tetromino:\x20','addFullScreenToggle','BOARD','tilemap','JLOSTZ','drawQueue','pointerup','createHoldMap','green','rotateActivePiece','Created\x20tetromino:\x20','checkFractions','right','stopFullscreen','createTileMaps','scale','clearHold','keydown-ENTER','cos','GREEN','5WPvgQO','setTile','holdMap','color','3647685mZzMTv','getData','GameLayer','keydown-ESC','purple','queueLayer','queueTiles','setTint','round','alpha','7426704WIoYch','jetris','lineStyle','wallKicks','230TcjJxZ','rockLayer','keydown-UP'];_0x193d=function(){return _0x462918;};return _0x193d();}function _0x4256(_0x30c2d8,_0x59d44b){const _0x193df5=_0x193d();return _0x4256=function(_0x425676,_0x2558d4){_0x425676=_0x425676-0x171;let _0x1cb494=_0x193df5[_0x425676];return _0x1cb494;},_0x4256(_0x30c2d8,_0x59d44b);}(function(_0x4744af,_0x515254){const _0x7a1637=_0x4256,_0x3e371d=_0x4744af();while(!![]){try{const _0x7c6da9=-parseInt(_0x7a1637(0x182))/0x1*(-parseInt(_0x7a1637(0x195))/0x2)+-parseInt(_0x7a1637(0x1c1))/0x3+-parseInt(_0x7a1637(0x226))/0x4*(-parseInt(_0x7a1637(0x1bd))/0x5)+parseInt(_0x7a1637(0x1cb))/0x6+-parseInt(_0x7a1637(0x216))/0x7*(parseInt(_0x7a1637(0x201))/0x8)+-parseInt(_0x7a1637(0x174))/0x9*(-parseInt(_0x7a1637(0x1cf))/0xa)+-parseInt(_0x7a1637(0x231))/0xb*(parseInt(_0x7a1637(0x223))/0xc);if(_0x7c6da9===_0x515254)break;else _0x3e371d['push'](_0x3e371d['shift']());}catch(_0x2c1553){_0x3e371d['push'](_0x3e371d['shift']());}}}(_0x193d,0xa9932),((()=>{const _0x1aded6=_0x4256;var _0x18dc02=Tiles={'BLUE':0x0,'CYAN':0x1,'ORANGE':0x2,'YELLOW':0x3,'GREEN':0x4,'RED':0x5,'PURPLE':0x6,'BOARD':0x7,'BORDER_BOTTOM':0x8,'BORDER_LEFT':0x9,'BORDER_TOP':0xa,'BORDER_RIGHT':0xb,'GHOST':0xc,'HELPER':0xd,'EMPTY':0xe,'EMPTY2':0xf,'BORDER_CORNER_BOTTOM_LEFT':0x10,'BORDER_CORNER_TOP_LEFT':0x11,'BORDER_CORNER_TOP_RIGHT':0x12,'BORDER_CORNER_BOTTOM_RIGHT':0x13};cos=Math[_0x1aded6(0x1bb)](Math['PI']/0x2),sin=Math[_0x1aded6(0x1fd)](Math['PI']/0x2),RotationMatrix=[cos,sin,-sin,cos],TetrominoBag=[],TetrominoQueue=[],heldPiece=null,hasSwapped=!0x1;var _0x347f33={'L':'L','I':'I','J':'J','O':'O','S':'S','T':'T','Z':'Z'},_0x541bd1=()=>{const _0xe3d5d5=_0x1aded6;if(TetrominoBag[_0xe3d5d5(0x186)]===0x0){let _0x447c77=Object[_0xe3d5d5(0x241)](_0x347f33);for(let _0x296997=_0x447c77[_0xe3d5d5(0x186)]-0x1;_0x296997>0x0;_0x296997--){let _0xee0cf8=Math[_0xe3d5d5(0x22e)](Math['random']()*(_0x296997+0x1));[_0x447c77[_0x296997],_0x447c77[_0xee0cf8]]=[_0x447c77[_0xee0cf8],_0x447c77[_0x296997]];}TetrominoBag=[..._0x447c77];}let _0x717458=TetrominoBag['pop']();return DEBUG&&console[_0xe3d5d5(0x1a6)](_0xe3d5d5(0x1d3),TetrominoBag),_0x717458;};function _0x1f5e95(){const _0x10bd2e=_0x1aded6;return TetrominoBag[_0x10bd2e(0x186)]===0x0&&_0x541bd1(),[...TetrominoBag['slice'](0x0,0x3)];}var _0x2fe66c={'L':_0x18dc02[_0x1aded6(0x214)],'I':_0x18dc02[_0x1aded6(0x20b)],'J':_0x18dc02['BLUE'],'O':_0x18dc02[_0x1aded6(0x215)],'S':_0x18dc02[_0x1aded6(0x1bc)],'T':_0x18dc02['PURPLE'],'Z':_0x18dc02['RED']},_0x3e67fc={'I':[[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[0x2,0x0],[-0x1,0x0],[0x2,0x1],[-0x1,-0x2]],[[0x0,0x0],[-0x2,0x0],[0x1,0x0],[-0x2,-0x1],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[-0x2,0x0],[0x1,-0x2],[-0x2,0x1]],[[0x0,0x0],[-0x1,0x0],[0x2,0x0],[-0x1,0x2],[0x2,-0x1]]],'JLOSTZ':[[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,-0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,0x1],[0x0,-0x2],[-0x1,-0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[-0x1,0x0],[-0x1,-0x1],[0x0,0x2],[-0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x0,-0x2],[0x1,-0x2]]]},_0x10a518={'I':[0x0,0x0],'O':[0x0,0x0],'J':[-0.5,0.5],'L':[-0.5,0.5],'S':[-0.5,0.5],'T':[-0.5,0.5],'Z':[-0.5,0.5]},_0x5d20c4={'L':{'cells':[[0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x3e67fc[_0x1aded6(0x1ad)],'color':0xffa500},'I':{'cells':[[-0x1,0x1],[0x0,0x1],[0x1,0x1],[0x2,0x1]],'wallKicks':_0x3e67fc['I'],'color':0xffff},'J':{'cells':[[-0x1,0x1],[-0x1,0x0],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x3e67fc[_0x1aded6(0x1ad)],'color':0xff},'O':{'cells':[[0x0,0x0],[0x1,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x3e67fc[_0x1aded6(0x1ad)],'color':0xffff00},'S':{'cells':[[-0x1,0x0],[0x0,0x0],[0x0,0x1],[0x1,0x1]],'wallKicks':_0x3e67fc[_0x1aded6(0x1ad)],'color':0xff00},'T':{'cells':[[-0x1,0x0],[0x0,0x0],[0x1,0x0],[0x0,0x1]],'wallKicks':_0x3e67fc[_0x1aded6(0x1ad)],'color':0x800080},'Z':{'cells':[[-0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0]],'wallKicks':_0x3e67fc[_0x1aded6(0x1ad)],'color':0xff0000}};function _0x10064e(_0x283432){const _0x2fde1f=_0x1aded6;return JSON[_0x2fde1f(0x183)](JSON['stringify'](_0x283432));}function _0x14028e(_0x2ca20d){const _0x356835=_0x1aded6;let _0x2edc26=_0x1f5e95();for(let _0x35e5a1=0x0;_0x35e5a1<_0x2edc26[_0x356835(0x186)];_0x35e5a1++)TetrominoQueue[_0x356835(0x22b)](_0x420cae(_0x2ca20d,_0x2edc26[_0x35e5a1])),DEBUG&&console['log'](_0x356835(0x1e5),TetrominoQueue);}function _0x420cae(_0x57a96f,_0x577690){const _0x119031=_0x1aded6;let _0x3ae528=_0x5d20c4[_0x577690],_0x37172d=_0x57a96f[_0x119031(0x237)][_0x119031(0x238)](0x0,0x0);return _0x37172d[_0x119031(0x1e4)]('cells',_0x10064e(_0x3ae528[_0x119031(0x192)])),_0x37172d[_0x119031(0x1e4)](_0x119031(0x1c0),_0x3ae528[_0x119031(0x1c0)]),_0x37172d[_0x119031(0x1e4)](_0x119031(0x1ce),_0x3ae528[_0x119031(0x1ce)]),_0x37172d[_0x119031(0x1e4)](_0x119031(0x1a4),_0x2fe66c[_0x577690]),_0x37172d[_0x119031(0x1e4)](_0x119031(0x180),_0x577690),_0x37172d['setData'](_0x119031(0x218),0x0),_0x37172d[_0x119031(0x1e4)]('rotation',[0x0,0x0]),_0x37172d[_0x119031(0x1e4)]('x',0x0),_0x37172d[_0x119031(0x1e4)]('y',0x0),DEBUG&&console[_0x119031(0x1a6)](_0x119031(0x1b3),_0x37172d),_0x37172d;}function _0x95e1e5(_0x3876fb,_0x534dc0,_0x3d45b,_0x12ca5f){const _0x5a0639=_0x1aded6;let _0x902b54=TetrominoQueue[_0x5a0639(0x1d4)]()['setScale'](_0x12ca5f),_0x589a62=_0x902b54[_0x5a0639(0x1c2)](_0x5a0639(0x180));return _0x902b54['setData']('x',_0x534dc0),_0x902b54[_0x5a0639(0x1e4)]('y',_0x3d45b-(_0x589a62===_0x5d20c4['I']?0x1:0x0)),DEBUG&&console[_0x5a0639(0x1a6)](_0x5a0639(0x1a9),_0x902b54),TetrominoQueue['unshift'](_0x420cae(_0x3876fb,_0x541bd1())),_0x902b54;}function _0x4d9989(){return TetrominoQueue;}function _0x5c327f(){return heldPiece;}function _0x21170b(_0xa153b4){const _0x2be5f0=_0x1aded6;if(heldPiece){if(hasSwapped)return _0xa153b4[_0x2be5f0(0x1fe)];{let _0x494083=_0x420cae(_0xa153b4,_0xa153b4['activePiece'][_0x2be5f0(0x1c2)](_0x2be5f0(0x180))),_0x56428d=Object[_0x2be5f0(0x1ea)](heldPiece);return _0x56428d[_0x2be5f0(0x1e4)]('x',_0xa153b4[_0x2be5f0(0x1fe)][_0x2be5f0(0x1c2)]('x')),_0x56428d[_0x2be5f0(0x1e4)]('y',_0xa153b4[_0x2be5f0(0x1fe)][_0x2be5f0(0x1c2)]('y')),heldPiece=_0x494083,hasSwapped=!0x0,_0x56428d;}}else{heldPiece=_0x420cae(_0xa153b4,_0xa153b4[_0x2be5f0(0x1fe)][_0x2be5f0(0x1c2)](_0x2be5f0(0x180)));let _0x545d49=_0x95e1e5(_0xa153b4,0x4,0x13,heldPiece[_0x2be5f0(0x1b8)]);return hasSwapped=!0x0,_0x545d49;}}function _0x58818e(){hasSwapped=!0x1;}function _0x5de6f7(){hasSwapped=!0x1,heldPiece=null;}function _0xef38dc(_0x151be2,_0x1cf389,_0x50ff74){const _0x1e2d15=_0x1aded6;let _0x405339=_0x1cf389[_0x1e2d15(0x1c2)](_0x1e2d15(0x180)),_0x23b4ae=_0x5d20c4[_0x405339],_0x504217=_0x151be2['add'][_0x1e2d15(0x238)](0x0,0x0)[_0x1e2d15(0x204)](_0x50ff74);return _0x504217[_0x1e2d15(0x1e4)](_0x1e2d15(0x1a4),_0x18dc02[_0x1e2d15(0x1a0)]),_0x504217[_0x1e2d15(0x1e4)](_0x1e2d15(0x192),_0x10064e(_0x1cf389[_0x1e2d15(0x1c2)](_0x1e2d15(0x192)))),_0x504217[_0x1e2d15(0x1e4)](_0x1e2d15(0x180),_0x1cf389[_0x1e2d15(0x1c2)]('type')),_0x504217[_0x1e2d15(0x1e4)](_0x1e2d15(0x218),_0x1cf389[_0x1e2d15(0x1c2)](_0x1e2d15(0x218))),_0x504217[_0x1e2d15(0x1e4)](_0x1e2d15(0x23d),_0x1cf389['getData'](_0x1e2d15(0x23d))),_0x504217[_0x1e2d15(0x1e4)]('x',_0x1cf389['getData']('x')),_0x504217[_0x1e2d15(0x1e4)]('y',_0x1cf389['getData']('y')),_0x504217[_0x1e2d15(0x1e4)](_0x1e2d15(0x1ce),_0x1cf389[_0x1e2d15(0x1c2)]('wallKicks')),_0x504217;}function _0x244a83(_0x33c18c,_0x9cf130,_0x422cde){return _0x33c18c<_0x9cf130?_0x422cde-(_0x9cf130-_0x33c18c)%(_0x422cde-_0x9cf130):_0x9cf130+(_0x33c18c-_0x9cf130)%(_0x422cde-_0x9cf130);}function _0x399120(_0x186350,_0x1e0384,_0x3c7227,_0x7902c5,_0x1433f2){const _0x51a0d0=_0x1aded6;originalRotation=_0x7902c5['getData'](_0x51a0d0(0x218))||0x0,rotationIndex=_0x244a83(originalRotation+_0x1433f2,0x0,0x4),DEBUG&&console[_0x51a0d0(0x1a6)]('Rotation:\x20',rotationIndex),_0x399d0b(_0x7902c5,_0x1433f2),_0xad5894(_0x186350,_0x1e0384,_0x3c7227,_0x7902c5,rotationIndex,_0x1433f2)||(rotationIndex=originalRotation,_0x399d0b(_0x7902c5,-_0x1433f2)),_0x7902c5[_0x51a0d0(0x1e4)]('rotationIndex',rotationIndex);}function _0xad5894(_0x135487,_0x2e9543,_0x935c88,_0x3d433d,_0x13f5b1,_0x4fec2d){const _0x3e7dfa=_0x1aded6;for(wallKicks=_0x3d433d[_0x3e7dfa(0x1c2)](_0x3e7dfa(0x1ce)),wallKickIndex=_0x472946(_0x13f5b1,_0x4fec2d),DEBUG&&console[_0x3e7dfa(0x1a6)](_0x3e7dfa(0x23f),wallKicks[wallKickIndex]),i=0x0;i<0x5;i++)if(translation=wallKicks[wallKickIndex][i],_0x29e8af(_0x135487,_0x2e9543,_0x935c88,_0x3d433d,translation,!0x0))return DEBUG&&console[_0x3e7dfa(0x1a6)](_0x3e7dfa(0x1e6)),!0x0;return DEBUG&&console[_0x3e7dfa(0x1a6)]('Wall\x20kick\x20failure'),!0x1;}function _0x472946(_0x1fea3d,_0x430b33){return wallKickIndex=_0x1fea3d*0x2,_0x430b33<0x0&&wallKickIndex--,_0x244a83(wallKickIndex,0x0,0x8);}function _0x2cf394(_0x444ea8,_0x5a4d67,_0xfaf861,_0x2bf216,_0x30fdb9,_0x1c9479){const _0x228711=_0x1aded6;let _0x4070d7=_0x2bf216[_0x228711(0x1c2)](_0x228711(0x192)),_0x17025c=_0x2bf216[_0x228711(0x1c2)](_0x228711(0x180)),_0x434bad=_0x2bf216[_0x228711(0x1c2)]('x'),_0x226cbc=_0x2bf216['getData']('y');DEBUG&&(_0x444ea8[_0x228711(0x193)](),DEBUG&&console['log'](_0x228711(0x197),_0x30fdb9));for(let _0x40c1b3=0x0;_0x40c1b3<_0x4070d7[_0x228711(0x186)];_0x40c1b3++){let _0xdb6055=_0x434bad+_0x4070d7[_0x40c1b3][0x0]+_0x30fdb9[0x0],_0x338c95=_0x226cbc+_0x4070d7[_0x40c1b3][0x1]-_0x30fdb9[0x1];if(DEBUG&&(wx=_0x5a4d67[_0x228711(0x23a)](_0xdb6055),wy=_0x5a4d67['tileToWorldY'](0x14-_0x338c95),_0x444ea8['lineStyle'](0x1,0xff00ff),_0x444ea8['strokeRectShape'](new Phaser[(_0x228711(0x211))][(_0x228711(0x229))](wx,wy,0x40*_0xfaf861,0x40*_0xfaf861))),_0xdb6055%0x1!==0x0||_0x338c95%0x1!==0x0)return DEBUG&&console[_0x228711(0x1a6)]('Bug:\x20',_0xdb6055,_0x338c95),!0x1;let _0x254093=_0x5a4d67[_0x228711(0x210)](_0xdb6055,0x14-_0x338c95);if(!_0x254093||_0x254093[_0x228711(0x22c)]!==_0x18dc02['BOARD']&&_0x254093[_0x228711(0x22c)]!==_0x18dc02['GHOST'])return DEBUG&&console[_0x228711(0x1a6)](_0x228711(0x239)),!0x1;}return!0x0;}function _0x29e8af(_0x512120,_0x1886aa,_0x32a57e,_0x2b0a06,_0x2f1d56,_0x27d62e){const _0x3508a4=_0x1aded6;return isValid=_0x2cf394(_0x512120,_0x1886aa,_0x32a57e,_0x2b0a06,_0x2f1d56,_0x27d62e),isValid&&(_0x2b0a06['setData']('x',_0x2b0a06['getData']('x')+_0x2f1d56[0x0]),_0x2b0a06[_0x3508a4(0x1e4)]('y',_0x2b0a06[_0x3508a4(0x1c2)]('y')-_0x2f1d56[0x1]),_0x2b0a06['x']=_0x1886aa[_0x3508a4(0x23a)](_0x2b0a06[_0x3508a4(0x1c2)]('x')),_0x2b0a06['y']=_0x1886aa[_0x3508a4(0x206)](0x13-_0x2b0a06[_0x3508a4(0x1c2)]('y'))),isValid;}function _0x399d0b(_0x44df0b,_0x3d0b52){const _0x3ffddb=_0x1aded6;let _0x11c4ea=_0x10a518[_0x44df0b[_0x3ffddb(0x1c2)](_0x3ffddb(0x180))],_0x5ac6e4=_0x44df0b[_0x3ffddb(0x1c2)](_0x3ffddb(0x192)),_0x36b27e=_0x44df0b[_0x3ffddb(0x1c2)](_0x3ffddb(0x180)),_0x1aa531=RotationMatrix,_0xc12893=[],_0xf0496e=_0x36b27e===_0x347f33['O']||_0x36b27e===_0x347f33['I'];if(_0xf0496e){for(let _0x105a58=0x0;_0x105a58<_0x5ac6e4[_0x3ffddb(0x186)];_0x105a58++)_0x5ac6e4[_0x105a58][0x0]-=0.5,_0x5ac6e4[_0x105a58][0x1]-=0.5;}for(let _0x3d2469=0x0;_0x3d2469<_0x5ac6e4[_0x3ffddb(0x186)];_0x3d2469++){let _0x35377e=parseFloat((_0x5ac6e4[_0x3d2469][0x0]*_0x1aa531[0x0]*_0x3d0b52+_0x5ac6e4[_0x3d2469][0x1]*_0x1aa531[0x1]*_0x3d0b52)[_0x3ffddb(0x1f2)](0x1)),_0x46d543=parseFloat((_0x5ac6e4[_0x3d2469][0x0]*_0x1aa531[0x2]*_0x3d0b52+_0x5ac6e4[_0x3d2469][0x1]*_0x1aa531[0x3]*_0x3d0b52)[_0x3ffddb(0x1f2)](0x1));_0xc12893['push']([_0xf0496e?Math[_0x3ffddb(0x172)](_0x35377e):Math[_0x3ffddb(0x1c9)](_0x35377e),_0xf0496e?Math[_0x3ffddb(0x172)](_0x46d543):Math[_0x3ffddb(0x1c9)](_0x46d543)]);}return _0x44df0b['setData'](_0x3ffddb(0x192),_0xc12893),tmp=[parseFloat((_0x11c4ea[0x0]*_0x1aa531[0x0]*_0x3d0b52+_0x11c4ea[0x1]*_0x1aa531[0x1]*_0x3d0b52)[_0x3ffddb(0x1f2)](0x1)),parseFloat((_0x11c4ea[0x0]*_0x1aa531[0x2]*_0x3d0b52+_0x11c4ea[0x1]*_0x1aa531[0x3]*_0x3d0b52)[_0x3ffddb(0x1f2)](0x1))],_0x44df0b[_0x3ffddb(0x1e4)](_0x3ffddb(0x23d),tmp),_0xc12893;}function _0xc2b9e5(_0x482d3f){const _0x11b8ce=_0x1aded6;_0x482d3f['input']['addPointer'](0x1),_0x482d3f[_0x11b8ce(0x203)][_0x11b8ce(0x228)]['on'](_0x11b8ce(0x21b),()=>{const _0x5093b1=_0x11b8ce;_0x482d3f[_0x5093b1(0x1da)]([-0x1,0x0]);}),_0x482d3f[_0x11b8ce(0x203)][_0x11b8ce(0x228)]['on'](_0x11b8ce(0x1d6),()=>{const _0x3b8407=_0x11b8ce;_0x482d3f[_0x3b8407(0x1da)]([0x1,0x0]);}),_0x482d3f['input'][_0x11b8ce(0x228)]['on'](_0x11b8ce(0x17a),()=>{_0x482d3f['moveActivePiece']([0x0,0x1]);}),DEBUG&&_0x482d3f[_0x11b8ce(0x203)][_0x11b8ce(0x228)]['on'](_0x11b8ce(0x1d1),()=>{const _0x5160d9=_0x11b8ce;_0x482d3f[_0x5160d9(0x1da)]([0x0,-0x1]);}),_0x482d3f[_0x11b8ce(0x203)][_0x11b8ce(0x228)]['on']('keydown-E',()=>{const _0x3f40d3=_0x11b8ce;_0x482d3f[_0x3f40d3(0x1b2)](0x1);}),_0x482d3f[_0x11b8ce(0x203)]['keyboard']['on'](_0x11b8ce(0x171),()=>{const _0x5da085=_0x11b8ce;_0x482d3f[_0x5da085(0x1b2)](-0x1);}),_0x482d3f['input']['keyboard']['on']('keydown-SPACE',()=>{const _0x4f4a6e=_0x11b8ce;_0x482d3f[_0x4f4a6e(0x1df)]();}),_0x482d3f['input'][_0x11b8ce(0x228)]['on'](_0x11b8ce(0x1ba),()=>{const _0x24aefa=_0x11b8ce;_0x482d3f[_0x24aefa(0x1dd)]();}),_0x482d3f[_0x11b8ce(0x203)][_0x11b8ce(0x228)]['on'](_0x11b8ce(0x212),()=>{const _0x1ea20a=_0x11b8ce;_0x482d3f[_0x1ea20a(0x17c)][_0x1ea20a(0x19b)]()?_0x482d3f['scene'][_0x1ea20a(0x1d9)]():_0x482d3f[_0x1ea20a(0x17c)]['pause']();}),_0x482d3f[_0x11b8ce(0x203)][_0x11b8ce(0x228)]['on'](_0x11b8ce(0x1c4),()=>{const _0x40e4d3=_0x11b8ce;_0x482d3f['map'][_0x40e4d3(0x1ef)](Tiles['BOARD']),_0x482d3f['map'][_0x40e4d3(0x1ef)](null,0x0,0x0,BOARD_WIDTH,BOARD_HEIGHT,!0x0,'GhostLayer'),_0x482d3f[_0x40e4d3(0x1b9)](),_0x482d3f[_0x40e4d3(0x230)]=!0x1,_0x482d3f[_0x40e4d3(0x1a7)](),_0x482d3f['setTetromino'](_0x482d3f[_0x40e4d3(0x1fe)]);});}isClicking=!0x1,dropped=!0x1,clicked=!0x1,dragged=!0x1,touchDeltaX=0x0,touchDeltaY=0x0;function _0x34a766(_0xaf82c){const _0xc96668=_0x1aded6;if(_0xaf82c[_0xc96668(0x203)]['activePointer'][_0xc96668(0x1a8)]){clicked=!0x0;let _0x50c3ab=Math['abs'](_0xaf82c['input'][_0xc96668(0x23e)]['x']-touchDeltaX),_0x14ec77=Math[_0xc96668(0x1db)](_0xaf82c['input'][_0xc96668(0x23e)]['y']-touchDeltaY);_0x50c3ab>=0x64&&_0x50c3ab>_0x14ec77?(_0xaf82c['input'][_0xc96668(0x23e)]['x']<touchDeltaX?swipeDirection=_0xc96668(0x19f):_0xaf82c['input'][_0xc96668(0x23e)]['x']>touchDeltaX&&touchDeltaX!=0x0?swipeDirection=_0xc96668(0x1b5):(swipeDirection='',touchDeltaX=0x0),touchDeltaX=_0xaf82c['input'][_0xc96668(0x23e)]['x'],swipeDirection!=''&&(_0xaf82c['moveActivePiece']([swipeDirection==_0xc96668(0x19f)?-0x1:0x1,0x0]),dragged=!0x0)):!dropped&&_0x14ec77>=0xc8&&_0x14ec77>_0x50c3ab&&(_0xaf82c[_0xc96668(0x203)]['activePointer']['y']>touchDeltaY&&touchDeltaY!=0x0?swipeDirection=_0xc96668(0x21a):(swipeDirection='',touchDeltaY=0x0),touchDeltaY=_0xaf82c[_0xc96668(0x203)][_0xc96668(0x23e)]['y'],swipeDirection==_0xc96668(0x21a)&&(_0xaf82c[_0xc96668(0x1df)](),dropped=!0x0));}else touchDeltaX=0x0,touchDeltaY=0x0,clicked&&!dragged&&!dropped&&(_0xaf82c['input'][_0xc96668(0x23e)]['x']<_0xaf82c[_0xc96668(0x1e0)]['x']?_0xaf82c[_0xc96668(0x1b2)](-0x1):_0xaf82c[_0xc96668(0x1b2)](0x1)),clicked=!0x1,dropped=!0x1,dragged=!0x1;}WIDTH=0x320,HEIGHT=0x400,DEBUG=!0x1,BOARD_WIDTH=0xa,BOARD_HEIGHT=0x14,BLOCK_SIZE=0x40,swipeDirection='',touchDeltaX=0x0,touchDeltaY=0x0,swipeDelay=0x0;var _0x23c01e=class extends Phaser[_0x1aded6(0x18f)]{constructor(){const _0x8add6c=_0x1aded6;super({'key':_0x8add6c(0x17d),'active':!0x0}),this[_0x8add6c(0x238)],this[_0x8add6c(0x240)]=Array[_0x8add6c(0x1d8)]({'length':BOARD_HEIGHT},()=>Array['from']({'length':BOARD_WIDTH},()=>_0x18dc02['BOARD'])),this[_0x8add6c(0x198)],this['queueMap'],this[_0x8add6c(0x1bf)],this['center']={'x':WIDTH/0x2,'y':HEIGHT/0x2},this[_0x8add6c(0x19d)]=this[_0x8add6c(0x1e0)]['x']*0x2/0x8,this[_0x8add6c(0x213)]=this[_0x8add6c(0x1e0)]['y']*0x2/0x14,this['gameScale']=this[_0x8add6c(0x19d)]*2.5/this[_0x8add6c(0x1e0)]['x'],this[_0x8add6c(0x17b)]=this[_0x8add6c(0x213)]*2.5/this[_0x8add6c(0x1e0)]['y'],this[_0x8add6c(0x1a2)]=BLOCK_SIZE*this['gameScale'],this[_0x8add6c(0x18b)]=0x0,this[_0x8add6c(0x1fe)],this[_0x8add6c(0x175)],this[_0x8add6c(0x1e1)],this[_0x8add6c(0x230)]=!0x1,this[_0x8add6c(0x177)],this[_0x8add6c(0x196)],this[_0x8add6c(0x1d0)],this[_0x8add6c(0x221)],this['rowClearParticles'],this[_0x8add6c(0x20c)];}['preload'](){const _0x50785b=_0x1aded6;this[_0x50785b(0x1f4)]['image'](_0x50785b(0x1fa),[_0x50785b(0x1f8),_0x50785b(0x1e2)]),this['load']['spritesheet']('fullscreen',_0x50785b(0x176),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this[_0x50785b(0x1f4)]['spritesheet'](_0x50785b(0x1f5),_0x50785b(0x1f8),{'frameWidth':BLOCK_SIZE,'frameHeight':BLOCK_SIZE}),this[_0x50785b(0x1f4)]['atlas'](_0x50785b(0x207),_0x50785b(0x1f3),_0x50785b(0x208)),this[_0x50785b(0x1f4)]['image'](_0x50785b(0x1e7),_0x50785b(0x1eb)),this[_0x50785b(0x1f4)]['image'](_0x50785b(0x235),'assets/particles/streak.png'),this['load']['image'](_0x50785b(0x1e3),'assets/particles/star.png'),this['load'][_0x50785b(0x1f1)]('bg',_0x50785b(0x21f));}[_0x1aded6(0x1fb)](){const _0xb184ad=_0x1aded6;let _0x396d61=Array[_0xb184ad(0x1d8)]({'length':0x9},()=>Array['from']({'length':0x4},()=>_0x18dc02['BOARD']));for(let _0x55fc10=0x0;_0x55fc10<0x9;_0x55fc10++)for(let _0x1feb12=0x0;_0x1feb12<0x4;_0x1feb12++)_0x1feb12%0x2===0x0?_0x396d61[_0x55fc10][_0x1feb12]=_0x18dc02[_0xb184ad(0x1ab)]:_0x396d61[_0x55fc10][_0x1feb12]=null;this['queueMap']=this['make']['tilemap']({'key':_0xb184ad(0x18c),'data':_0x396d61,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0xb184ad(0x1c7)]=this[_0xb184ad(0x205)][_0xb184ad(0x220)](_0xb184ad(0x1a3),_0xb184ad(0x1fa),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0xb184ad(0x1c6)]=this[_0xb184ad(0x205)]['createBlankLayer'](_0xb184ad(0x1ec),this[_0xb184ad(0x1c7)],this[_0xb184ad(0x1e0)]['x']+(BOARD_WIDTH+0x2)/0x2*BLOCK_SIZE*this[_0xb184ad(0x20a)],0x3*BLOCK_SIZE*this['gameScale'])[_0xb184ad(0x204)](this[_0xb184ad(0x20a)]*0.75),this[_0xb184ad(0x1c6)]['setPipeline']('Light2D'),this[_0xb184ad(0x205)]['fill'](_0x18dc02[_0xb184ad(0x1ab)],0x0,0x0,0x4,0x9,!0x0);for(let _0x1d123c=0x0;_0x1d123c<0x4;_0x1d123c++)for(let _0x5ca68f=0x0;_0x5ca68f<0x9;_0x5ca68f++)_0x5ca68f%0x3===0x2&&this[_0xb184ad(0x205)][_0xb184ad(0x19e)](_0x1d123c,_0x5ca68f,!0x0,!0x1,_0xb184ad(0x1ec));}[_0x1aded6(0x1b0)](){const _0x194264=_0x1aded6;let _0x40eea7=Array[_0x194264(0x1d8)]({'length':0x2},()=>Array[_0x194264(0x1d8)]({'length':0x4},()=>_0x18dc02['BOARD']));this[_0x194264(0x1bf)]=this[_0x194264(0x222)][_0x194264(0x1ac)]({'key':_0x194264(0x18c),'data':_0x40eea7,'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE}),this[_0x194264(0x189)]=this['holdMap'][_0x194264(0x220)](_0x194264(0x1a3),'block',BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0),this[_0x194264(0x173)]=this[_0x194264(0x1bf)][_0x194264(0x179)](_0x194264(0x23b),this[_0x194264(0x1c7)],this[_0x194264(0x1e0)]['x']-(BOARD_WIDTH+0x8)/0x2*BLOCK_SIZE*this[_0x194264(0x20a)],0x3*BLOCK_SIZE*this[_0x194264(0x20a)])[_0x194264(0x204)](this[_0x194264(0x20a)]*0.75),this[_0x194264(0x173)][_0x194264(0x1d7)]('Light2D'),this['holdMap']['fill'](_0x18dc02['BOARD'],0x0,0x0,0x4,0x2,!0x0);}[_0x1aded6(0x194)](){const _0x46b4ad=_0x1aded6;this[_0x46b4ad(0x198)]=this[_0x46b4ad(0x222)]['tilemap']({'key':_0x46b4ad(0x225),'data':this[_0x46b4ad(0x240)],'tileWidth':BLOCK_SIZE,'tileHeight':BLOCK_SIZE});let _0x4b115a=this[_0x46b4ad(0x198)][_0x46b4ad(0x220)]('tiles',_0x46b4ad(0x1fa),BLOCK_SIZE,BLOCK_SIZE,0x0,0x0,0x0);this[_0x46b4ad(0x196)]=this[_0x46b4ad(0x198)]['createBlankLayer']('GhostLayer',_0x4b115a,this['center']['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this['gameScale'],0x3*BLOCK_SIZE*this['gameScale'])[_0x46b4ad(0x204)](this['gameScale']),this[_0x46b4ad(0x177)]=this[_0x46b4ad(0x198)][_0x46b4ad(0x179)](_0x46b4ad(0x1c3),_0x4b115a,this['center']['x']-BOARD_WIDTH/0x2*BLOCK_SIZE*this[_0x46b4ad(0x20a)],0x3*BLOCK_SIZE*this[_0x46b4ad(0x20a)])[_0x46b4ad(0x204)](this[_0x46b4ad(0x20a)]),this['layer'][_0x46b4ad(0x1d7)](_0x46b4ad(0x181)),this['map'][_0x46b4ad(0x1ef)](_0x18dc02['BOARD']);}[_0x1aded6(0x1b7)](){const _0x1b1339=_0x1aded6;this[_0x1b1339(0x237)]['image'](this[_0x1b1339(0x1e0)]['x'],this['center']['y'],'bg')[_0x1b1339(0x204)](this[_0x1b1339(0x20a)]*1.6),this[_0x1b1339(0x234)][_0x1b1339(0x1f0)]()[_0x1b1339(0x1ee)](0xeeeeee);let _0x1273f2=this[_0x1b1339(0x234)][_0x1b1339(0x21c)](WIDTH,-HEIGHT,HEIGHT*0x3,0xffffff,0x4);this[_0x1b1339(0x1fb)](),this[_0x1b1339(0x1b0)](),this[_0x1b1339(0x194)]();}['checkFractions'](_0x58abbf,_0x234ca5){const _0x35fefb=_0x1aded6;return _0x58abbf%0x1!==0x0||_0x234ca5%0x1!==0x0?(DEBUG&&console[_0x35fefb(0x1a6)]('bug:\x20',_0x58abbf,_0x234ca5),!0x0):!0x1;}[_0x1aded6(0x1be)](_0x1faec0,_0x5ec226,_0x9028fe){const _0x4608e7=_0x1aded6;this['checkFractions'](_0x1faec0,_0x5ec226)||(this['map']['putTileAt'](_0x9028fe,_0x1faec0,BOARD_HEIGHT-_0x5ec226,!0x1,_0x9028fe===_0x18dc02[_0x4608e7(0x1a0)]?_0x4608e7(0x17e):_0x4608e7(0x1c3)),_0x9028fe===_0x18dc02[_0x4608e7(0x1ab)]&&this['map'][_0x4608e7(0x19e)](_0x1faec0,BOARD_HEIGHT-_0x5ec226,!0x0,!0x1,_0x4608e7(0x17e)));}[_0x1aded6(0x22f)](_0x18ee1a,_0x3cbf85){const _0x4db174=_0x1aded6;return this[_0x4db174(0x1b4)](_0x18ee1a,_0x3cbf85)?null:this[_0x4db174(0x198)][_0x4db174(0x210)](_0x18ee1a,BOARD_HEIGHT-_0x3cbf85,!0x1,this[_0x4db174(0x177)]);}[_0x1aded6(0x18a)](_0x2be6e0){const _0x30a090=_0x1aded6;let _0xd6053c=_0x2be6e0[_0x30a090(0x1c2)](_0x30a090(0x192)),_0x3fe934=_0x2be6e0[_0x30a090(0x1c2)]('x'),_0xd0f791=_0x2be6e0[_0x30a090(0x1c2)]('y');if(this[_0x30a090(0x1b4)](_0x3fe934,_0xd0f791)){DEBUG&&console[_0x30a090(0x1a6)]('SetTetromino:\x20',_0x2be6e0);return;}for(let _0x1c7bdc=0x0;_0x1c7bdc<_0xd6053c['length'];_0x1c7bdc++)for(let _0x4c01d3=0x0;_0x4c01d3<_0xd6053c[_0x1c7bdc][_0x30a090(0x186)]-0x1;_0x4c01d3++){if(this[_0x30a090(0x1b4)](_0xd6053c[_0x1c7bdc][_0x4c01d3],_0xd6053c[_0x1c7bdc][_0x4c01d3+0x1])){DEBUG&&console[_0x30a090(0x1a6)](_0x30a090(0x219),tetrommino);return;}let _0x4df43b=this['getTile'](_0x3fe934+_0xd6053c[_0x1c7bdc][_0x4c01d3],_0xd0f791+_0xd6053c[_0x1c7bdc][_0x4c01d3+0x1]);if(_0x4df43b&&_0x4df43b[_0x30a090(0x22c)]===_0x18dc02[_0x30a090(0x1ab)])this[_0x30a090(0x1be)](_0x3fe934+_0xd6053c[_0x1c7bdc][_0x4c01d3],_0xd0f791+_0xd6053c[_0x1c7bdc][_0x4c01d3+0x1],_0x2be6e0[_0x30a090(0x1c2)]('tile'));else{this['gameOver']=!0x0;return;}}}[_0x1aded6(0x1b9)](){const _0x2e904f=_0x1aded6;this[_0x2e904f(0x1bf)][_0x2e904f(0x1ef)](_0x18dc02[_0x2e904f(0x1ab)],0x0,0x0,0x4,0x2,!0x0),_0x5de6f7();}[_0x1aded6(0x1e8)](_0x5c70ea){const _0x2df3ee=_0x1aded6;let _0x56a72f=_0x5c70ea[_0x2df3ee(0x1c2)](_0x2df3ee(0x192)),_0x3e5f24=_0x5c70ea[_0x2df3ee(0x1c2)]('x'),_0x1c7d1c=_0x5c70ea[_0x2df3ee(0x1c2)]('y');if(!this[_0x2df3ee(0x1b4)](_0x3e5f24,_0x1c7d1c)){for(let _0x3ffc4f=0x0;_0x3ffc4f<_0x56a72f[_0x2df3ee(0x186)];_0x3ffc4f++)for(let _0x284104=0x0;_0x284104<_0x56a72f[_0x3ffc4f][_0x2df3ee(0x186)]-0x1;_0x284104++){if(this[_0x2df3ee(0x1b4)](_0x56a72f[_0x3ffc4f][_0x284104],_0x56a72f[_0x3ffc4f][_0x284104+0x1]))return;this[_0x2df3ee(0x1be)](_0x3e5f24+_0x56a72f[_0x3ffc4f][_0x284104],_0x1c7d1c+_0x56a72f[_0x3ffc4f][_0x284104+0x1],_0x18dc02[_0x2df3ee(0x1ab)]);}}}[_0x1aded6(0x1aa)](){const _0x3bf125=_0x1aded6;let _0x29c490=this['add']['image'](WIDTH-0x10,0x10,_0x3bf125(0x21e),0x0)[_0x3bf125(0x236)](0x1,0x0)[_0x3bf125(0x204)](0.25)['setInteractive']();_0x29c490['on'](_0x3bf125(0x1af),function(){const _0x4fad94=_0x3bf125;this[_0x4fad94(0x1b8)][_0x4fad94(0x1de)]?(_0x29c490[_0x4fad94(0x17f)](0x0),this[_0x4fad94(0x1b8)][_0x4fad94(0x1b6)]()):(_0x29c490['setFrame'](0x1),this[_0x4fad94(0x1b8)]['startFullscreen']());},this);}[_0x1aded6(0x1da)](_0x1aa1e0){const _0x55832f=_0x1aded6;this['activePiece']&&(this[_0x55832f(0x1e8)](this[_0x55832f(0x1fe)]),_0x29e8af(this[_0x55832f(0x1e1)],this[_0x55832f(0x198)],this['gameScale'],this['activePiece'],_0x1aa1e0),this['updateGhost'](),this[_0x55832f(0x18a)](this[_0x55832f(0x1fe)]));}[_0x1aded6(0x1dd)](){const _0x23598f=_0x1aded6;let _0x24b776=this[_0x23598f(0x1fe)][_0x23598f(0x1c2)]('type');this[_0x23598f(0x1e8)](this[_0x23598f(0x1fe)]);let _0xc0f6ae=_0x21170b(this);if(_0xc0f6ae===this[_0x23598f(0x1fe)]){let _0x44d6a0=this[_0x23598f(0x23c)](this[_0x23598f(0x1fe)]);this[_0x23598f(0x1e1)][_0x23598f(0x1cd)](0x4,0xff0000,0x1),this[_0x23598f(0x1e1)]['strokeRectShape'](_0x44d6a0),this[_0x23598f(0x188)][_0x23598f(0x237)]({'targets':this[_0x23598f(0x1e1)],'alpha':0x0,'duration':0x1f4,'ease':'Linear','onComplete':()=>{const _0x510984=_0x23598f;this[_0x510984(0x1e1)][_0x510984(0x193)](),this[_0x510984(0x1e1)]['alpha']=0x1;}});}else this[_0x23598f(0x1fe)]=_0xc0f6ae,this[_0x23598f(0x1ae)](),this[_0x23598f(0x18e)]();this[_0x23598f(0x199)](),this[_0x23598f(0x18a)](this['activePiece']);}['rotateActivePiece'](_0x3cdc08){const _0xfcff18=_0x1aded6;this[_0xfcff18(0x1e8)](this['activePiece']),_0x399120(this[_0xfcff18(0x1e1)],this['map'],this[_0xfcff18(0x20a)],this[_0xfcff18(0x1fe)],_0x3cdc08),this[_0xfcff18(0x199)](),this['setTetromino'](this[_0xfcff18(0x1fe)]);}[_0x1aded6(0x185)](_0xe40708){const _0x314497=_0x1aded6;_0x58818e();let _0x20d92e=new Set(),_0x15ea4f=_0xe40708[_0x314497(0x1c2)](_0x314497(0x192)),_0xa8f37e=_0xe40708['getData']('x'),_0x59a529=_0xe40708[_0x314497(0x1c2)]('y');if(!this['checkFractions'](_0xa8f37e,_0x59a529)){for(let _0x22b47d=0x0;_0x22b47d<_0x15ea4f[_0x314497(0x186)];_0x22b47d++)for(let _0x5f2a9e=0x0;_0x5f2a9e<_0x15ea4f[_0x22b47d][_0x314497(0x186)]-0x1;_0x5f2a9e++){if(this[_0x314497(0x1b4)](_0x15ea4f[_0x22b47d][_0x5f2a9e],_0x15ea4f[_0x22b47d][_0x5f2a9e+0x1]))return;_0x20d92e[_0x314497(0x237)](_0x59a529+_0x15ea4f[_0x22b47d][_0x5f2a9e+0x1]);}_0x20d92e=Array[_0x314497(0x1d8)](_0x20d92e)[_0x314497(0x233)]((_0x4b431f,_0x4978ac)=>_0x4978ac-_0x4b431f);for(let _0x146f2f=0x0;_0x146f2f<_0x20d92e['length'];_0x146f2f++){let _0x6e50e2=_0x20d92e[_0x146f2f],_0x487556=!0x0;for(let _0x4edf3f=0x0;_0x4edf3f<BOARD_WIDTH;_0x4edf3f++){let _0x22a73b=this[_0x314497(0x22f)](_0x4edf3f,_0x6e50e2);if(!_0x22a73b||_0x22a73b[_0x314497(0x22c)]===_0x18dc02[_0x314497(0x1ab)]){_0x487556=!0x1;break;}}if(_0x487556){for(let _0x14dd03=0x0;_0x14dd03<BOARD_WIDTH;_0x14dd03++)this['setTile'](_0x14dd03,_0x6e50e2,_0x18dc02[_0x314497(0x1ab)]);for(let _0x47cfc5=_0x6e50e2+0x1;_0x47cfc5<BOARD_HEIGHT;_0x47cfc5++)for(let _0x43351a=0x0;_0x43351a<BOARD_WIDTH;_0x43351a++){let _0x221c4d=this[_0x314497(0x22f)](_0x43351a,_0x47cfc5);_0x221c4d&&_0x221c4d['index']!==_0x18dc02[_0x314497(0x1ab)]&&(this[_0x314497(0x1be)](_0x43351a,_0x47cfc5-0x1,_0x221c4d[_0x314497(0x22c)]),this[_0x314497(0x1be)](_0x43351a,_0x47cfc5,_0x18dc02['BOARD']));}this['showRowClearFX'](_0x6e50e2-0x1);}}}}['getBoundingBox'](_0x584f4d){const _0x5e7e9c=_0x1aded6;let _0x325003=_0x584f4d['getData'](_0x5e7e9c(0x192)),_0x40bb13=_0x584f4d[_0x5e7e9c(0x1c2)]('x'),_0x29b997=_0x584f4d[_0x5e7e9c(0x1c2)]('y');if(this[_0x5e7e9c(0x1b4)](_0x40bb13,_0x29b997))return;let _0x5ac78f=BOARD_WIDTH,_0x2d5911=0x0,_0x1450cb=BOARD_HEIGHT,_0x421959=0x0;for(let _0x183570=0x0;_0x183570<_0x325003[_0x5e7e9c(0x186)];_0x183570++)for(let _0x554ca6=0x0;_0x554ca6<_0x325003[_0x183570][_0x5e7e9c(0x186)]-0x1;_0x554ca6++){if(this[_0x5e7e9c(0x1b4)](_0x325003[_0x183570][_0x554ca6],_0x325003[_0x183570][_0x554ca6+0x1]))return;_0x5ac78f=Math[_0x5e7e9c(0x19c)](_0x5ac78f,_0x40bb13+_0x325003[_0x183570][_0x554ca6]),_0x2d5911=Math[_0x5e7e9c(0x1a1)](_0x2d5911,_0x40bb13+_0x325003[_0x183570][_0x554ca6]),_0x1450cb=Math[_0x5e7e9c(0x19c)](_0x1450cb,_0x29b997+_0x325003[_0x183570][_0x554ca6+0x1]),_0x421959=Math['max'](_0x421959,_0x29b997+_0x325003[_0x183570][_0x554ca6+0x1]);}return new Phaser['Geom'][(_0x5e7e9c(0x229))](this[_0x5e7e9c(0x198)]['tileToWorldX'](_0x5ac78f),this[_0x5e7e9c(0x198)][_0x5e7e9c(0x206)](0x13-_0x421959)+BLOCK_SIZE*this['gameScale'],this[_0x5e7e9c(0x198)]['tileToWorldX'](_0x2d5911)-this[_0x5e7e9c(0x198)]['tileToWorldX'](_0x5ac78f)+BLOCK_SIZE*this[_0x5e7e9c(0x20a)],this[_0x5e7e9c(0x198)][_0x5e7e9c(0x206)](0x13-_0x1450cb)-this[_0x5e7e9c(0x198)]['tileToWorldY'](0x13-_0x421959)+BLOCK_SIZE*this[_0x5e7e9c(0x20a)]);}['drawDropAnimation'](){const _0x2221d5=_0x1aded6;let _0x13aa4e=this[_0x2221d5(0x23c)](this[_0x2221d5(0x1fe)]),_0x874718=this[_0x2221d5(0x23c)](this['ghostPiece']),_0x4c4afc=this[_0x2221d5(0x237)][_0x2221d5(0x1f1)](_0x13aa4e['centerX'],_0x13aa4e[_0x2221d5(0x20f)],_0x2221d5(0x1e7));_0x4c4afc[_0x2221d5(0x236)](0.5,0x0),_0x4c4afc[_0x2221d5(0x1c8)](this[_0x2221d5(0x1fe)][_0x2221d5(0x1c2)](_0x2221d5(0x1c0))),_0x4c4afc[_0x2221d5(0x20d)]=_0x13aa4e[_0x2221d5(0x22d)],_0x4c4afc[_0x2221d5(0x178)]=_0x874718['y']-_0x13aa4e['y'],_0x4c4afc[_0x2221d5(0x1dc)]=-0x1,this[_0x2221d5(0x188)][_0x2221d5(0x237)]({'targets':_0x4c4afc,'displayHeight':0x0,'y':_0x874718['y'],'alpha':0x0,'duration':0xc8,'ease':_0x2221d5(0x227),'onComplete':()=>{const _0x6cd920=_0x2221d5;_0x4c4afc[_0x6cd920(0x1e9)]();}});let _0x106716=this[_0x2221d5(0x237)]['particles'](_0x874718['centerX'],_0x874718['y'],_0x2221d5(0x1e3),{'speed':{'min':0x190,'max':0x3e8},'angle':{'min':-0x69,'max':-0x4b},'scale':{'start':0.1,'end':0x0},'alpha':{'start':0.4,'end':0x0},'quantity':0x5,'lifespan':0x1f4,'blendMode':_0x2221d5(0x1f6),'gravityY':0x64,'on':!0x1,'onComplete':()=>{const _0xd0f7dd=_0x2221d5;_0x106716[_0xd0f7dd(0x1e9)]();}});_0x106716[_0x2221d5(0x1fc)](),this['graphics'][_0x2221d5(0x1cd)](0x4,0xff00,0x1),this[_0x2221d5(0x1e1)][_0x2221d5(0x187)](_0x13aa4e),this[_0x2221d5(0x188)][_0x2221d5(0x237)]({'targets':this[_0x2221d5(0x1e1)],'alpha':0x0,'duration':0x190,'ease':'Linear','onComplete':()=>{const _0x227a7a=_0x2221d5;this[_0x227a7a(0x1e1)][_0x227a7a(0x193)](),this[_0x227a7a(0x1e1)][_0x227a7a(0x1ca)]=0x1;}}),this[_0x2221d5(0x190)][_0x2221d5(0x1ff)]['shake'](0x64,0.0025-0.0005*(this[_0x2221d5(0x175)]['getData']('y')-this['activePiece'][_0x2221d5(0x1c2)]('y')));}['drop'](){const _0x5d7ac2=_0x1aded6;if(!this['gameOver']){for(this[_0x5d7ac2(0x1d2)](),this[_0x5d7ac2(0x1e8)](this[_0x5d7ac2(0x1fe)]),this['clearTetromino'](this[_0x5d7ac2(0x175)]);_0x29e8af(this[_0x5d7ac2(0x1e1)],this[_0x5d7ac2(0x198)],this[_0x5d7ac2(0x20a)],this[_0x5d7ac2(0x1fe)],[0x0,0x1]););this[_0x5d7ac2(0x18a)](this[_0x5d7ac2(0x1fe)]),this['lockTetromino'](this[_0x5d7ac2(0x1fe)]),this[_0x5d7ac2(0x1a7)](),this[_0x5d7ac2(0x18a)](this[_0x5d7ac2(0x1fe)]),this[_0x5d7ac2(0x18b)]=0x0;}}[_0x1aded6(0x22a)](_0x49bf2b){const _0x33a464=_0x1aded6;let _0x17ebe4=this[_0x33a464(0x237)][_0x33a464(0x21d)](this[_0x33a464(0x1e0)]['x']*this[_0x33a464(0x20a)],0x0,'flares',{'frame':{'frames':['blue',_0x33a464(0x1b1),_0x33a464(0x18d),'yellow',_0x33a464(0x1c5)],'cycle':!0x0},'blendMode':_0x33a464(0x1f6),'lifespan':0x96,'quantity':0x1,'manualEmit':!0x0,'frequency':0x5,'alpha':{'start':0x1,'end':0x0},'scale':{'start':0.4,'end':0.1},'onComplete':()=>{_0x17ebe4['destroy']();}});_0x17ebe4['stop'](),_0x17ebe4[_0x33a464(0x217)]({'type':_0x33a464(0x202),'source':new Phaser['Geom'][(_0x33a464(0x1a5))](this[_0x33a464(0x198)][_0x33a464(0x23a)](-5.75),this[_0x33a464(0x198)][_0x33a464(0x206)](19.5-_0x49bf2b),this[_0x33a464(0x198)][_0x33a464(0x23a)](4.25),this[_0x33a464(0x198)][_0x33a464(0x206)](19.5-_0x49bf2b)),'quantity':0xa,'total':0x1}),_0x17ebe4['start'](0x32,0x32);}[_0x1aded6(0x191)](){const _0x3ad95a=_0x1aded6;this['createTileMaps'](),this['addFullScreenToggle'](),_0x14028e(this),_0xc2b9e5(this),this[_0x3ad95a(0x1a7)](),this[_0x3ad95a(0x1e1)]=this[_0x3ad95a(0x237)][_0x3ad95a(0x1e1)](),this[_0x3ad95a(0x18a)](this['activePiece']),console['log'](window[_0x3ad95a(0x1d5)],window[_0x3ad95a(0x1f7)],window[_0x3ad95a(0x209)]);}[_0x1aded6(0x1ae)](){const _0x3f79ce=_0x1aded6;let _0x3cf6d9=_0x4d9989();this['queueMap'][_0x3f79ce(0x1ef)](_0x18dc02[_0x3f79ce(0x1ab)],0x0,0x0,0x4,0x9,!0x0);for(let _0x36ef76=0x0;_0x36ef76<_0x3cf6d9[_0x3f79ce(0x186)];_0x36ef76++){let _0x14b304=_0x3cf6d9[_0x36ef76],_0x56f677=_0x14b304['getData'](_0x3f79ce(0x192)),_0x5efff4=_0x14b304['getData'](_0x3f79ce(0x1a4));for(let _0x1eeacb=0x0;_0x1eeacb<_0x56f677['length'];_0x1eeacb++)for(let _0x3501d8=0x0;_0x3501d8<_0x56f677[_0x1eeacb]['length']-0x1;_0x3501d8++)this[_0x3f79ce(0x205)][_0x3f79ce(0x232)](_0x5efff4,0x1+_0x56f677[_0x1eeacb][_0x3501d8],0x6-_0x36ef76*0x3-_0x56f677[_0x1eeacb][_0x3501d8+0x1]+0x1,!0x1,_0x3f79ce(0x1ec));}}[_0x1aded6(0x18e)](){const _0x5dbf71=_0x1aded6;let _0x449c8d=_0x5c327f(),_0x29071e=_0x449c8d['getData'](_0x5dbf71(0x192)),_0x4d7264=_0x449c8d['getData'](_0x5dbf71(0x1a4));this[_0x5dbf71(0x1bf)][_0x5dbf71(0x1ef)](_0x18dc02[_0x5dbf71(0x1ab)],0x0,0x0,0x4,0x2,!0x0);for(let _0x4e07ad=0x0;_0x4e07ad<_0x29071e[_0x5dbf71(0x186)];_0x4e07ad++)for(let _0x117011=0x0;_0x117011<_0x29071e[_0x4e07ad]['length']-0x1;_0x117011++)this[_0x5dbf71(0x1bf)]['putTileAt'](_0x4d7264,0x1+_0x29071e[_0x4e07ad][_0x117011],0x1-_0x29071e[_0x4e07ad][_0x117011+0x1],!0x1,'HoldLayer');}[_0x1aded6(0x1a7)](){const _0x1772a7=_0x1aded6;for(this[_0x1772a7(0x1fe)]&&this[_0x1772a7(0x1fe)][_0x1772a7(0x1e9)](),this[_0x1772a7(0x175)]&&this['ghostPiece'][_0x1772a7(0x1e9)](),this[_0x1772a7(0x1fe)]=_0x95e1e5(this,0x4,0x13,this['gameScale']),this[_0x1772a7(0x175)]=_0xef38dc(this,this[_0x1772a7(0x1fe)],this[_0x1772a7(0x20a)]);_0x29e8af(this[_0x1772a7(0x1e1)],this[_0x1772a7(0x198)],this[_0x1772a7(0x20a)],this[_0x1772a7(0x175)],[0x0,0x1]););this['setTetromino'](this['ghostPiece']),this[_0x1772a7(0x1ae)]();}[_0x1aded6(0x199)](){const _0x5d2fed=_0x1aded6;for(this[_0x5d2fed(0x1e8)](this[_0x5d2fed(0x175)]),this[_0x5d2fed(0x175)][_0x5d2fed(0x1e4)]('x',this[_0x5d2fed(0x1fe)][_0x5d2fed(0x1c2)]('x')),this[_0x5d2fed(0x175)][_0x5d2fed(0x1e4)]('y',this[_0x5d2fed(0x1fe)]['getData']('y')),this[_0x5d2fed(0x175)]['x']=this[_0x5d2fed(0x198)][_0x5d2fed(0x23a)](this['activePiece'][_0x5d2fed(0x1c2)]('x')),this[_0x5d2fed(0x175)]['y']=this['map'][_0x5d2fed(0x206)](0x13-this[_0x5d2fed(0x1fe)][_0x5d2fed(0x1c2)]('y')),this['ghostPiece'][_0x5d2fed(0x1e4)]('cells',_0x10064e(this['activePiece'][_0x5d2fed(0x1c2)](_0x5d2fed(0x192)))),this[_0x5d2fed(0x175)][_0x5d2fed(0x1e4)](_0x5d2fed(0x218),this[_0x5d2fed(0x1fe)]['getData'](_0x5d2fed(0x218)));_0x29e8af(this[_0x5d2fed(0x1e1)],this[_0x5d2fed(0x198)],this[_0x5d2fed(0x20a)],this[_0x5d2fed(0x175)],[0x0,0x1]););this['setTetromino'](this[_0x5d2fed(0x175)]);}[_0x1aded6(0x200)](_0x37f825,_0xbb246c){const _0x447d9b=_0x1aded6;this[_0x447d9b(0x230)]||(_0x34a766(this),this[_0x447d9b(0x18b)]+=_0xbb246c,this['elapsed']>0x3e8&&(this['elapsed']=0x0),this[_0x447d9b(0x18b)]===0x0&&this[_0x447d9b(0x1fe)]&&!DEBUG&&(this[_0x447d9b(0x1e8)](this[_0x447d9b(0x1fe)]),_0x29e8af(this['graphics'],this[_0x447d9b(0x198)],this[_0x447d9b(0x20a)],this[_0x447d9b(0x1fe)],[0x0,0x1])||(this[_0x447d9b(0x18a)](this[_0x447d9b(0x1fe)]),this[_0x447d9b(0x185)](this[_0x447d9b(0x1fe)]),this[_0x447d9b(0x1a7)]()),this[_0x447d9b(0x18a)](this[_0x447d9b(0x1fe)])));}},_0xf76856={'type':Phaser[_0x1aded6(0x1ed)],'scale':{'mode':Phaser[_0x1aded6(0x19a)][_0x1aded6(0x224)],'parent':_0x1aded6(0x1cc),'autoCenter':Phaser[_0x1aded6(0x19a)][_0x1aded6(0x20e)],'width':WIDTH,'height':HEIGHT},'width':WIDTH,'height':HEIGHT,'backgroundColor':_0x1aded6(0x184),'scene':[_0x23c01e]},_0x242e55=new Phaser[(_0x1aded6(0x1f9))](_0xf76856);})()));